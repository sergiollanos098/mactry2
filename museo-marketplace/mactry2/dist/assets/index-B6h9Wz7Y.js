var JE=n=>{throw TypeError(n)};var Rg=(n,e,t)=>e.has(n)||JE("Cannot "+t);var ue=(n,e,t)=>(Rg(n,e,"read from private field"),t?t.call(n):e.get(n)),dt=(n,e,t)=>e.has(n)?JE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Qe=(n,e,t,i)=>(Rg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),xn=(n,e,t)=>(Rg(n,e,"access private method"),t);var Od=(n,e,t,i)=>({set _(a){Qe(n,e,a,t)},get _(){return ue(n,e,i)}});function BI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function mv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cg={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function FI(){if(ew)return cc;ew=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return cc.Fragment=e,cc.jsx=t,cc.jsxs=t,cc}var tw;function HI(){return tw||(tw=1,Cg.exports=FI()),Cg.exports}var O=HI(),Ig={exports:{}},fc={},Ng={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function qI(){return nw||(nw=1,function(n){function e(H,W){var G=H.length;H.push(W);e:for(;0<G;){var _e=G-1>>>1,j=H[_e];if(0<a(j,W))H[_e]=W,H[G]=j,G=_e;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var W=H[0],G=H.pop();if(G!==W){H[0]=G;e:for(var _e=0,j=H.length,te=j>>>1;_e<te;){var se=2*(_e+1)-1,ne=H[se],me=se+1,ge=H[me];if(0>a(ne,G))me<j&&0>a(ge,ne)?(H[_e]=ge,H[me]=G,_e=me):(H[_e]=ne,H[se]=G,_e=se);else if(me<j&&0>a(ge,G))H[_e]=ge,H[me]=G,_e=me;else break e}}return W}function a(H,W){var G=H.sortIndex-W.sortIndex;return G!==0?G:H.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],m=[],y=1,v=null,b=3,A=!1,R=!1,x=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var W=t(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=H)i(m),W.sortIndex=W.expirationTime,e(h,W);else break;W=t(m)}}function Y(H){if(x=!1,$(H),!R)if(t(h)!==null)R=!0,ae||(ae=!0,L());else{var W=t(m);W!==null&&he(Y,W.startTime-H)}}var ae=!1,V=-1,E=5,C=-1;function I(){return N?!0:!(n.unstable_now()-C<E)}function U(){if(N=!1,ae){var H=n.unstable_now();C=H;var W=!0;try{e:{R=!1,x&&(x=!1,z(V),V=-1),A=!0;var G=b;try{t:{for($(H),v=t(h);v!==null&&!(v.expirationTime>H&&I());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,b=v.priorityLevel;var j=_e(v.expirationTime<=H);if(H=n.unstable_now(),typeof j=="function"){v.callback=j,$(H),W=!0;break t}v===t(h)&&i(h),$(H)}else i(h);v=t(h)}if(v!==null)W=!0;else{var te=t(m);te!==null&&he(Y,te.startTime-H),W=!1}}break e}finally{v=null,b=G,A=!1}W=void 0}}finally{W?L():ae=!1}}}var L;if(typeof F=="function")L=function(){F(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,J=P.port2;P.port1.onmessage=U,L=function(){J.postMessage(null)}}else L=function(){k(U,0)};function he(H,W){V=k(function(){H(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var G=b;b=W;try{return H()}finally{b=G}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=b;b=H;try{return W()}finally{b=G}},n.unstable_scheduleCallback=function(H,W,G){var _e=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?_e+G:_e):G=_e,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=G+j,H={id:y++,callback:W,priorityLevel:H,startTime:G,expirationTime:j,sortIndex:-1},G>_e?(H.sortIndex=G,e(m,H),t(h)===null&&H===t(m)&&(x?(z(V),V=-1):x=!0,he(Y,G-_e))):(H.sortIndex=j,e(h,H),R||A||(R=!0,ae||(ae=!0,L()))),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var W=b;return function(){var G=b;b=W;try{return H.apply(this,arguments)}finally{b=G}}}}(Dg)),Dg}var rw;function GI(){return rw||(rw=1,Ng.exports=qI()),Ng.exports}var Og={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function $I(){if(iw)return Ke;iw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,x={};function N(j,te,se){this.props=j,this.context=te,this.refs=x,this.updater=se||A}N.prototype.isReactComponent={},N.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=N.prototype;function z(j,te,se){this.props=j,this.context=te,this.refs=x,this.updater=se||A}var F=z.prototype=new k;F.constructor=z,R(F,N.prototype),F.isPureReactComponent=!0;var $=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function V(j,te,se,ne,me,ge){return se=ge.ref,{$$typeof:n,type:j,key:te,ref:se!==void 0?se:null,props:ge}}function E(j,te){return V(j.type,te,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return te[se]})}var U=/\/+/g;function L(j,te){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):te.toString(36)}function P(){}function J(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(P,P):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function he(j,te,se,ne,me){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var pe=!1;if(j===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(j.$$typeof){case n:case e:pe=!0;break;case y:return pe=j._init,he(pe(j._payload),te,se,ne,me)}}if(pe)return me=me(j),pe=ne===""?"."+L(j,0):ne,$(me)?(se="",pe!=null&&(se=pe.replace(U,"$&/")+"/"),he(me,te,se,"",function(Ve){return Ve})):me!=null&&(C(me)&&(me=E(me,se+(me.key==null||j&&j.key===me.key?"":(""+me.key).replace(U,"$&/")+"/")+pe)),te.push(me)),1;pe=0;var ye=ne===""?".":ne+":";if($(j))for(var Pe=0;Pe<j.length;Pe++)ne=j[Pe],ge=ye+L(ne,Pe),pe+=he(ne,te,se,ge,me);else if(Pe=b(j),typeof Pe=="function")for(j=Pe.call(j),Pe=0;!(ne=j.next()).done;)ne=ne.value,ge=ye+L(ne,Pe++),pe+=he(ne,te,se,ge,me);else if(ge==="object"){if(typeof j.then=="function")return he(J(j),te,se,ne,me);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return pe}function H(j,te,se){if(j==null)return j;var ne=[],me=0;return he(j,ne,"","",function(ge){return te.call(se,ge,me++)}),ne}function W(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var G=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function _e(){}return Ke.Children={map:H,forEach:function(j,te,se){H(j,function(){te.apply(this,arguments)},se)},count:function(j){var te=0;return H(j,function(){te++}),te},toArray:function(j){return H(j,function(te){return te})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ke.Component=N,Ke.Fragment=t,Ke.Profiler=a,Ke.PureComponent=z,Ke.StrictMode=i,Ke.Suspense=h,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},Ke.cache=function(j){return function(){return j.apply(null,arguments)}},Ke.cloneElement=function(j,te,se){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ne=R({},j.props),me=j.key,ge=void 0;if(te!=null)for(pe in te.ref!==void 0&&(ge=void 0),te.key!==void 0&&(me=""+te.key),te)!ae.call(te,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&te.ref===void 0||(ne[pe]=te[pe]);var pe=arguments.length-2;if(pe===1)ne.children=se;else if(1<pe){for(var ye=Array(pe),Pe=0;Pe<pe;Pe++)ye[Pe]=arguments[Pe+2];ne.children=ye}return V(j.type,me,void 0,void 0,ge,ne)},Ke.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ke.createElement=function(j,te,se){var ne,me={},ge=null;if(te!=null)for(ne in te.key!==void 0&&(ge=""+te.key),te)ae.call(te,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(me[ne]=te[ne]);var pe=arguments.length-2;if(pe===1)me.children=se;else if(1<pe){for(var ye=Array(pe),Pe=0;Pe<pe;Pe++)ye[Pe]=arguments[Pe+2];me.children=ye}if(j&&j.defaultProps)for(ne in pe=j.defaultProps,pe)me[ne]===void 0&&(me[ne]=pe[ne]);return V(j,ge,void 0,void 0,null,me)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(j){return{$$typeof:f,render:j}},Ke.isValidElement=C,Ke.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:W}},Ke.memo=function(j,te){return{$$typeof:m,type:j,compare:te===void 0?null:te}},Ke.startTransition=function(j){var te=Y.T,se={};Y.T=se;try{var ne=j(),me=Y.S;me!==null&&me(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(_e,G)}catch(ge){G(ge)}finally{Y.T=te}},Ke.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ke.use=function(j){return Y.H.use(j)},Ke.useActionState=function(j,te,se){return Y.H.useActionState(j,te,se)},Ke.useCallback=function(j,te){return Y.H.useCallback(j,te)},Ke.useContext=function(j){return Y.H.useContext(j)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(j,te){return Y.H.useDeferredValue(j,te)},Ke.useEffect=function(j,te,se){var ne=Y.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(j,te)},Ke.useId=function(){return Y.H.useId()},Ke.useImperativeHandle=function(j,te,se){return Y.H.useImperativeHandle(j,te,se)},Ke.useInsertionEffect=function(j,te){return Y.H.useInsertionEffect(j,te)},Ke.useLayoutEffect=function(j,te){return Y.H.useLayoutEffect(j,te)},Ke.useMemo=function(j,te){return Y.H.useMemo(j,te)},Ke.useOptimistic=function(j,te){return Y.H.useOptimistic(j,te)},Ke.useReducer=function(j,te,se){return Y.H.useReducer(j,te,se)},Ke.useRef=function(j){return Y.H.useRef(j)},Ke.useState=function(j){return Y.H.useState(j)},Ke.useSyncExternalStore=function(j,te,se){return Y.H.useSyncExternalStore(j,te,se)},Ke.useTransition=function(){return Y.H.useTransition()},Ke.version="19.1.0",Ke}var sw;function Fl(){return sw||(sw=1,Og.exports=$I()),Og.exports}var Pg={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function QI(){if(aw)return Rn;aw=1;var n=Fl();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,y)},Rn.flushSync=function(h){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=y,i.d.f()}},Rn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Rn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Rn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,v=f(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):y==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Rn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Rn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=f(y,m.crossOrigin);i.d.L(h,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Rn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Rn.requestFormReset=function(h){i.d.r(h)},Rn.unstable_batchedUpdates=function(h,m){return h(m)},Rn.useFormState=function(h,m,y){return c.H.useFormState(h,m,y)},Rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rn.version="19.1.0",Rn}var ow;function nA(){if(ow)return Pg.exports;ow=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=QI(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function KI(){if(lw)return fc;lw=1;var n=GI(),e=Fl(),t=nA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),r;if(g===u)return f(p),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=g;else{for(var T=!1,D=p.child;D;){if(D===o){T=!0,o=p,u=g;break}if(D===u){T=!0,u=p,o=g;break}D=D.sibling}if(!T){for(D=g.child;D;){if(D===o){T=!0,o=g,u=p;break}if(D===u){T=!0,u=g,o=p;break}D=D.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case N:return"Profiler";case x:return"StrictMode";case Y:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case F:return(r.displayName||"Context")+".Provider";case z:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return s=r.displayName||null,s!==null?s:J(r.type)||"Memo";case E:s=r._payload,r=r._init;try{return J(r(s))}catch{}}return null}var he=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},_e=[],j=-1;function te(r){return{current:r}}function se(r){0>j||(r.current=_e[j],_e[j]=null,j--)}function ne(r,s){j++,_e[j]=r.current,r.current=s}var me=te(null),ge=te(null),pe=te(null),ye=te(null);function Pe(r,s){switch(ne(pe,s),ne(ge,r),ne(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?RE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=RE(s),r=CE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(me),ne(me,r)}function Ve(){se(me),se(ge),se(pe)}function qe(r){r.memoizedState!==null&&ne(ye,r);var s=me.current,o=CE(s,r.type);s!==o&&(ne(ge,r),ne(me,o))}function Ee(r){ge.current===r&&(se(me),se(ge)),ye.current===r&&(se(ye),sc._currentValue=G)}var Ie=Object.prototype.hasOwnProperty,et=n.unstable_scheduleCallback,It=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,Mt=n.unstable_requestPaint,Ce=n.unstable_now,Ne=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,be=n.unstable_UserBlockingPriority,Me=n.unstable_NormalPriority,Oe=n.unstable_LowPriority,je=n.unstable_IdlePriority,st=n.log,ct=n.unstable_setDisableYieldValue,$e=null,Ye=null;function on(r){if(typeof st=="function"&&ct(r),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode($e,r)}catch{}}var jt=Math.clz32?Math.clz32:At,Pn=Math.log,iu=Math.LN2;function At(r){return r>>>=0,r===0?32:31-(Pn(r)/iu|0)|0}var jr=256,zr=4194304;function mn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ei(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var p=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var D=u&134217727;return D!==0?(u=D&~g,u!==0?p=mn(u):(T&=D,T!==0?p=mn(T):o||(o=D&~r,o!==0&&(p=mn(o))))):(D=u&~g,D!==0?p=mn(D):T!==0?p=mn(T):o||(o=u&~r,o!==0&&(p=mn(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function wi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function su(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var r=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),r}function ou(){var r=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),r}function Ti(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ai(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function lu(r,s,o,u,p,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var D=r.entanglements,B=r.expirationTimes,Z=r.hiddenUpdates;for(o=T&~o;0<o;){var oe=31-jt(o),ce=1<<oe;D[oe]=0,B[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var re=ee[oe];re!==null&&(re.lane&=-536870913)}o&=~ce}u!==0&&Br(r,u,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function Br(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-jt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function uu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-jt(o),p=1<<u;p&s|r[u]&s&&(r[u]|=s),o&=~p}}function ms(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function yo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ps(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:QE(r.type))}function ff(r,s){var o=W.p;try{return W.p=r,s()}finally{W.p=o}}var xt=Math.random().toString(36).slice(2),Zt="__reactFiber$"+xt,qt="__reactProps$"+xt,ar="__reactContainer$"+xt,cu="__reactEvents$"+xt,Nm="__reactListeners$"+xt,gs="__reactHandles$"+xt,df="__reactResources$"+xt,ba="__reactMarker$"+xt;function ys(r){delete r[Zt],delete r[qt],delete r[cu],delete r[Nm],delete r[gs]}function Si(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ar]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=OE(r);r!==null;){if(o=r[Zt])return o;r=OE(r)}return s}r=o,o=r.parentNode}return null}function Fr(r){if(r=r[Zt]||r[ar]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Hr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Mn(r){var s=r[df];return s||(s=r[df]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function zt(r){r[ba]=!0}var fu=new Set,vo={};function Er(r,s){xi(r,s),xi(r+"Capture",s)}function xi(r,s){for(vo[r]=s,r=0;r<s.length;r++)fu.add(s[r])}var hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},Ea={};function pf(r){return Ie.call(Ea,r)?!0:Ie.call(mf,r)?!1:hf.test(r)?Ea[r]=!0:(mf[r]=!0,!1)}function vs(r,s,o){if(pf(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function qr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function pn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var wa,gf;function Ri(r){if(wa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);wa=s&&s[1]||"",gf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+r+gf}var _o=!1;function bo(r,s){if(!r||_o)return"";_o=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ee=re}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(re){ee=re}r.call(ce.prototype)}}else{try{throw Error()}catch(re){ee=re}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],D=g[1];if(T&&D){var B=T.split(`
`),Z=D.split(`
`);for(p=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(u===B.length||p===Z.length)for(u=B.length-1,p=Z.length-1;1<=u&&0<=p&&B[u]!==Z[p];)p--;for(;1<=u&&0<=p;u--,p--)if(B[u]!==Z[p]){if(u!==1||p!==1)do if(u--,p--,0>p||B[u]!==Z[p]){var oe=`
`+B[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=p);break}}}finally{_o=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ri(o):""}function du(r){switch(r.tag){case 26:case 27:case 5:return Ri(r.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return bo(r.type,!1);case 11:return bo(r.type.render,!1);case 1:return bo(r.type,!0);case 31:return Ri("Activity");default:return""}}function Eo(r){try{var s="";do s+=du(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function hu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dm(r){var s=hu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function wo(r){r._valueTracker||(r._valueTracker=Dm(r))}function mu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=hu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ta(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Om=/[\n"\\]/g;function Gt(r){return r.replace(Om,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qn(r,s,o,u,p,g,T,D){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+kn(s)):r.value!==""+kn(s)&&(r.value=""+kn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?_s(r,T,kn(s)):o!=null?_s(r,T,kn(o)):u!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+kn(D):r.removeAttribute("name")}function Aa(r,s,o,u,p,g,T,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+kn(o):"",s=s!=null?""+kn(s):o,D||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=D?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function _s(r,s,o){s==="number"&&Ta(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ci(r,s,o,u){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&u&&(r[o].defaultSelected=!0)}else{for(o=""+kn(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function vt(r,s,o){if(s!=null&&(s=""+kn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+kn(o):""}function Sa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=kn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function or(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yf(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||xa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function pu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&yf(r,p,u)}else for(var g in s)s.hasOwnProperty(g)&&yf(r,g,s[g])}function gu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(r){return Mm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ii=null;function lr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ni=null,Di=null;function yu(r){var s=Fr(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Qn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var p=u[qt]||null;if(!p)throw Error(i(90));Qn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&mu(u)}break e;case"textarea":vt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ci(r,!!o.multiple,s,!1)}}}var Gr=!1;function vf(r,s,o){if(Gr)return r(s,o);Gr=!0;try{var u=r(s);return u}finally{if(Gr=!1,(Ni!==null||Di!==null)&&(fd(),Ni&&(s=Ni,r=Di,Di=Ni=null,yu(s),r)))for(s=0;s<r.length;s++)yu(r[s])}}function Ra(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(wr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){ur=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{ur=!1}var $r=null,bs=null,Oi=null;function vu(){if(Oi)return Oi;var r,s=bs,o=s.length,u,p="value"in $r?$r.value:$r.textContent,g=p.length;for(r=0;r<o&&s[r]===p[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===p[g-u];u++);return Oi=p.slice(r,1<u?1-u:void 0)}function Qr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function _u(){return!1}function ln(r){function s(o,u,p,g,T){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(o=r[D],this[D]=o?o(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kr:_u,this.isPropagationStopped=_u,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),s}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=ln(mt),Ia=y({},mt,{view:0,detail:0}),_f=ln(Ia),So,xo,Yr,Na=y({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(So=r.screenX-Yr.screenX,xo=r.screenY-Yr.screenY):xo=So=0,Yr=r),So)},movementY:function(r){return"movementY"in r?r.movementY:xo}}),cr=ln(Na),bf=y({},Na,{dataTransfer:0}),km=ln(bf),Da=y({},Ia,{relatedTarget:0}),Ro=ln(Da),bu=y({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=ln(bu),Ef=y({},mt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Io=ln(Ef),Lm=y({},mt,{data:0}),Eu=ln(Lm),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Tf[r])?!!s[r]:!1}function Pa(){return wu}var Af=y({},Ia,{key:function(r){if(r.key){var s=Oa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?wf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(r){return r.type==="keypress"?Qr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),No=ln(Af),Sf=y({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=ln(Sf),Pi=y({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),xf=ln(Pi),Rf=y({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=ln(Rf),If=y({},Na,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Do=ln(If),Ln=y({},mt,{newState:0,oldState:0}),Nf=ln(Ln),Df=[9,13,27,32],Xr=wr&&"CompositionEvent"in window,d=null;wr&&"documentMode"in document&&(d=document.documentMode);var _=wr&&"TextEvent"in window&&!d,w=wr&&(!Xr||d&&8<d&&11>=d),M=" ",K=!1;function ie(r,s){switch(r){case"keyup":return Df.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var at=!1;function Jt(r,s){switch(r){case"compositionend":return ve(s);case"keypress":return s.which!==32?null:(K=!0,M);case"textInput":return r=s.data,r===M&&K?null:r;default:return null}}function ot(r,s){if(at)return r==="compositionend"||!Xr&&ie(r,s)?(r=vu(),Oi=bs=$r=null,at=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!un[r.type]:s==="textarea"}function Mi(r,s,o,u){Ni?Di?Di.push(u):Di=[u]:Ni=u,s=yd(s,"onChange"),0<s.length&&(o=new Ao("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var gn=null,Wr=null;function Au(r){wE(r,0)}function Of(r){var s=Hr(r);if(mu(s))return r}function H0(r,s){if(r==="change")return s}var q0=!1;if(wr){var Vm;if(wr){var Um="oninput"in document;if(!Um){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Um=typeof G0.oninput=="function"}Vm=Um}else Vm=!1;q0=Vm&&(!document.documentMode||9<document.documentMode)}function $0(){gn&&(gn.detachEvent("onpropertychange",Q0),Wr=gn=null)}function Q0(r){if(r.propertyName==="value"&&Of(Wr)){var s=[];Mi(s,Wr,r,lr(r)),vf(Au,s)}}function y2(r,s,o){r==="focusin"?($0(),gn=s,Wr=o,gn.attachEvent("onpropertychange",Q0)):r==="focusout"&&$0()}function v2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Of(Wr)}function _2(r,s){if(r==="click")return Of(s)}function b2(r,s){if(r==="input"||r==="change")return Of(s)}function E2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:E2;function Su(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Ie.call(s,p)||!Kn(r[p],s[p]))return!1}return!0}function K0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Y0(r,s){var o=K0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=K0(o)}}function X0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?X0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function W0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ta(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ta(r.document)}return s}function jm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var w2=wr&&"documentMode"in document&&11>=document.documentMode,Oo=null,zm=null,xu=null,Bm=!1;function Z0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bm||Oo==null||Oo!==Ta(u)||(u=Oo,"selectionStart"in u&&jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xu&&Su(xu,u)||(xu=u,u=yd(zm,"onSelect"),0<u.length&&(s=new Ao("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Oo)))}function Ma(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Po={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Fm={},J0={};wr&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function ka(r){if(Fm[r])return Fm[r];if(!Po[r])return r;var s=Po[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in J0)return Fm[r]=s[o];return r}var e_=ka("animationend"),t_=ka("animationiteration"),n_=ka("animationstart"),T2=ka("transitionrun"),A2=ka("transitionstart"),S2=ka("transitioncancel"),r_=ka("transitionend"),i_=new Map,Hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hm.push("scrollEnd");function Tr(r,s){i_.set(r,s),Er(s,[r])}var s_=new WeakMap;function fr(r,s){if(typeof r=="object"&&r!==null){var o=s_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Eo(s)},s_.set(r,s),s)}return{value:r,source:s,stack:Eo(s)}}var dr=[],Mo=0,qm=0;function Pf(){for(var r=Mo,s=qm=Mo=0;s<r;){var o=dr[s];dr[s++]=null;var u=dr[s];dr[s++]=null;var p=dr[s];dr[s++]=null;var g=dr[s];if(dr[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}g!==0&&a_(o,p,g)}}function Mf(r,s,o,u){dr[Mo++]=r,dr[Mo++]=s,dr[Mo++]=o,dr[Mo++]=u,qm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gm(r,s,o,u){return Mf(r,s,o,u),kf(r)}function ko(r,s){return Mf(r,null,null,s),kf(r)}function a_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&s!==null&&(p=31-jt(o),r=g.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=o|536870912),g):null}function kf(r){if(50<Wu)throw Wu=0,Wp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Lo={};function x2(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,o,u){return new x2(r,s,o,u)}function $m(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ki(r,s){var o=r.alternate;return o===null?(o=Yn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function o_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Lf(r,s,o,u,p,g){var T=0;if(u=r,typeof r=="function")$m(r)&&(T=1);else if(typeof r=="string")T=CI(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Yn(31,o,s,p),r.elementType=C,r.lanes=g,r;case R:return La(o.children,p,g,s);case x:T=8,p|=24;break;case N:return r=Yn(12,o,s,p|2),r.elementType=N,r.lanes=g,r;case Y:return r=Yn(13,o,s,p),r.elementType=Y,r.lanes=g,r;case ae:return r=Yn(19,o,s,p),r.elementType=ae,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case F:T=10;break e;case z:T=9;break e;case $:T=11;break e;case V:T=14;break e;case E:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Yn(T,o,s,p),s.elementType=r,s.type=u,s.lanes=g,s}function La(r,s,o,u){return r=Yn(7,r,u,s),r.lanes=o,r}function Qm(r,s,o){return r=Yn(6,r,null,s),r.lanes=o,r}function Km(r,s,o){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Vo=[],Uo=0,Vf=null,Uf=0,hr=[],mr=0,Va=null,Li=1,Vi="";function Ua(r,s){Vo[Uo++]=Uf,Vo[Uo++]=Vf,Vf=r,Uf=s}function l_(r,s,o){hr[mr++]=Li,hr[mr++]=Vi,hr[mr++]=Va,Va=r;var u=Li;r=Vi;var p=32-jt(u)-1;u&=~(1<<p),o+=1;var g=32-jt(s)+p;if(30<g){var T=p-p%5;g=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Li=1<<32-jt(s)+p|o<<p|u,Vi=g+r}else Li=1<<g|o<<p|u,Vi=r}function Ym(r){r.return!==null&&(Ua(r,1),l_(r,1,0))}function Xm(r){for(;r===Vf;)Vf=Vo[--Uo],Vo[Uo]=null,Uf=Vo[--Uo],Vo[Uo]=null;for(;r===Va;)Va=hr[--mr],hr[mr]=null,Vi=hr[--mr],hr[mr]=null,Li=hr[--mr],hr[mr]=null}var Vn=null,kt=null,ht=!1,ja=null,Zr=!1,Wm=Error(i(519));function za(r){var s=Error(i(418,""));throw Iu(fr(s,r)),Wm}function u_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Zt]=r,s[qt]=u,o){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(o=0;o<Ju.length;o++)nt(Ju[o],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":nt("invalid",s),Aa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),wo(s);break;case"select":nt("invalid",s);break;case"textarea":nt("invalid",s),Sa(s,u.value,u.defaultValue,u.children),wo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||xE(s.textContent,o)?(u.popover!=null&&(nt("beforetoggle",s),nt("toggle",s)),u.onScroll!=null&&nt("scroll",s),u.onScrollEnd!=null&&nt("scrollend",s),u.onClick!=null&&(s.onclick=vd),s=!0):s=!1,s||za(r)}function c_(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Vn=Vn.return}}function Ru(r){if(r!==Vn)return!1;if(!ht)return c_(r),ht=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||hg(r.type,r.memoizedProps)),o=!o),o&&kt&&za(r),c_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){kt=Sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}kt=null}}else s===27?(s=kt,Ls(r.type)?(r=yg,yg=null,kt=r):kt=s):kt=Vn?Sr(r.stateNode.nextSibling):null;return!0}function Cu(){kt=Vn=null,ht=!1}function f_(){var r=ja;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),ja=null),r}function Iu(r){ja===null?ja=[r]:ja.push(r)}var Zm=te(null),Ba=null,Ui=null;function Es(r,s,o){ne(Zm,s._currentValue),s._currentValue=o}function ji(r){r._currentValue=Zm.current,se(Zm)}function Jm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function ep(r,s,o,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=p;for(var B=0;B<s.length;B++)if(D.context===s[B]){g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),Jm(g.return,o,r),u||(T=null);break e}g=D.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Jm(T,o,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Nu(r,s,o,u){r=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var D=p.type;Kn(p.pendingProps.value,T.value)||(r!==null?r.push(D):r=[D])}}else if(p===ye.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(sc):r=[sc])}p=p.return}r!==null&&ep(s,r,o,u),s.flags|=262144}function jf(r){for(r=r.firstContext;r!==null;){if(!Kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fa(r){Ba=r,Ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Sn(r){return d_(Ba,r)}function zf(r,s){return Ba===null&&Fa(r),d_(r,s)}function d_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ui===null){if(r===null)throw Error(i(308));Ui=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ui=Ui.next=s;return o}var R2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},C2=n.unstable_scheduleCallback,I2=n.unstable_NormalPriority,tn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new R2,data:new Map,refCount:0}}function Du(r){r.refCount--,r.refCount===0&&C2(I2,function(){r.controller.abort()})}var Ou=null,np=0,jo=0,zo=null;function N2(r,s){if(Ou===null){var o=Ou=[];np=0,jo=ig(),zo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return np++,s.then(h_,h_),s}function h_(){if(--np===0&&Ou!==null){zo!==null&&(zo.status="fulfilled");var r=Ou;Ou=null,jo=0,zo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function D2(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var m_=H.S;H.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&N2(r,s),m_!==null&&m_(r,s)};var Ha=te(null);function rp(){var r=Ha.current;return r!==null?r:Tt.pooledCache}function Bf(r,s){s===null?ne(Ha,Ha.current):ne(Ha,s.pool)}function p_(){var r=rp();return r===null?null:{parent:tn._currentValue,pool:r}}var Pu=Error(i(460)),g_=Error(i(474)),Ff=Error(i(542)),ip={then:function(){}};function y_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Hf(){}function v_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Hf,Hf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b_(r),r;default:if(typeof s.status=="string")s.then(Hf,Hf);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b_(r),r}throw Mu=s,Pu}}var Mu=null;function __(){if(Mu===null)throw Error(i(459));var r=Mu;return Mu=null,r}function b_(r){if(r===Pu||r===Ff)throw Error(i(483))}var ws=!1;function sp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function As(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=kf(r),a_(r,null,o),s}return Mf(r,u,s,o),kf(r)}function ku(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,uu(r,o)}}function op(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var lp=!1;function Lu(){if(lp){var r=zo;if(r!==null)throw r}}function Vu(r,s,o,u){lp=!1;var p=r.updateQueue;ws=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var B=D,Z=B.next;B.next=null,T===null?g=Z:T.next=Z,T=B;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==T&&(D===null?oe.firstBaseUpdate=Z:D.next=Z,oe.lastBaseUpdate=B))}if(g!==null){var ce=p.baseState;T=0,oe=Z=B=null,D=g;do{var ee=D.lane&-536870913,re=ee!==D.lane;if(re?(lt&ee)===ee:(u&ee)===ee){ee!==0&&ee===jo&&(lp=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Fe=r,Le=D;ee=s;var Et=o;switch(Le.tag){case 1:if(Fe=Le.payload,typeof Fe=="function"){ce=Fe.call(Et,ce,ee);break e}ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Le.payload,ee=typeof Fe=="function"?Fe.call(Et,ce,ee):Fe,ee==null)break e;ce=y({},ce,ee);break e;case 2:ws=!0}}ee=D.callback,ee!==null&&(r.flags|=64,re&&(r.flags|=8192),re=p.callbacks,re===null?p.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(Z=oe=re,B=ce):oe=oe.next=re,T|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;re=D,D=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);oe===null&&(B=ce),p.baseState=B,p.firstBaseUpdate=Z,p.lastBaseUpdate=oe,g===null&&(p.shared.lanes=0),Os|=T,r.lanes=T,r.memoizedState=ce}}function E_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function w_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)E_(o[r],s)}var Bo=te(null),qf=te(0);function T_(r,s){r=$i,ne(qf,r),ne(Bo,s),$i=r|s.baseLanes}function up(){ne(qf,$i),ne(Bo,Bo.current)}function cp(){$i=qf.current,se(Bo),se(qf)}var Ss=0,Xe=null,_t=null,$t=null,Gf=!1,Fo=!1,qa=!1,$f=0,Uu=0,Ho=null,O2=0;function Bt(){throw Error(i(321))}function fp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Kn(r[o],s[o]))return!1;return!0}function dp(r,s,o,u,p,g){return Ss=g,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?ab:ob,qa=!1,g=o(u,p),qa=!1,Fo&&(g=S_(s,o,u,p)),A_(r),g}function A_(r){H.H=Zf;var s=_t!==null&&_t.next!==null;if(Ss=0,$t=_t=Xe=null,Gf=!1,Uu=0,Ho=null,s)throw Error(i(300));r===null||cn||(r=r.dependencies,r!==null&&jf(r)&&(cn=!0))}function S_(r,s,o,u){Xe=r;var p=0;do{if(Fo&&(Ho=null),Uu=0,Fo=!1,25<=p)throw Error(i(301));if(p+=1,$t=_t=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=j2,g=s(o,u)}while(Fo);return g}function P2(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?ju(s):s,r=r.useState()[0],(_t!==null?_t.memoizedState:null)!==r&&(Xe.flags|=1024),s}function hp(){var r=$f!==0;return $f=0,r}function mp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function pp(r){if(Gf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gf=!1}Ss=0,$t=_t=Xe=null,Fo=!1,Uu=$f=0,Ho=null}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Xe.memoizedState=$t=r:$t=$t.next=r,$t}function Qt(){if(_t===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=$t===null?Xe.memoizedState:$t.next;if(s!==null)$t=s,_t=r;else{if(r===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},$t===null?Xe.memoizedState=$t=r:$t=$t.next=r}return $t}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ju(r){var s=Uu;return Uu+=1,Ho===null&&(Ho=[]),r=v_(Ho,r,s),s=Xe,($t===null?s.memoizedState:$t.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?ab:ob),r}function Qf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ju(r);if(r.$$typeof===F)return Sn(r)}throw Error(i(438,String(r)))}function yp(r){var s=null,o=Xe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=gp(),Xe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=I;return s.index++,o}function zi(r,s){return typeof s=="function"?s(r):s}function Kf(r){var s=Qt();return vp(s,_t,r)}function vp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=r.baseQueue,g=u.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,u.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{s=p.next;var D=T=null,B=null,Z=s,oe=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(lt&ce)===ce:(Ss&ce)===ce){var ee=Z.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===jo&&(oe=!0);else if((Ss&ee)===ee){Z=Z.next,ee===jo&&(oe=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(D=B=ce,T=g):B=B.next=ce,Xe.lanes|=ee,Os|=ee;ce=Z.action,qa&&o(g,ce),g=Z.hasEagerState?Z.eagerState:o(g,ce)}else ee={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(D=B=ee,T=g):B=B.next=ee,Xe.lanes|=ce,Os|=ce;Z=Z.next}while(Z!==null&&Z!==s);if(B===null?T=g:B.next=D,!Kn(g,r.memoizedState)&&(cn=!0,oe&&(o=zo,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=B,u.lastRenderedState=g}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _p(r){var s=Qt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=r(g,T.action),T=T.next;while(T!==p);Kn(g,s.memoizedState)||(cn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function x_(r,s,o){var u=Xe,p=Qt(),g=ht;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Kn((_t||p).memoizedState,o);T&&(p.memoizedState=o,cn=!0),p=p.queue;var D=I_.bind(null,u,p,r);if(zu(2048,8,D,[r]),p.getSnapshot!==s||T||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,qo(9,Yf(),C_.bind(null,u,p,o,s),null),Tt===null)throw Error(i(349));g||(Ss&124)!==0||R_(u,s,o)}return o}function R_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Xe.updateQueue,s===null?(s=gp(),Xe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function C_(r,s,o,u){s.value=o,s.getSnapshot=u,N_(s)&&D_(r)}function I_(r,s,o){return o(function(){N_(s)&&D_(r)})}function N_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Kn(r,o)}catch{return!0}}function D_(r){var s=ko(r,2);s!==null&&er(s,r,2)}function bp(r){var s=Fn();if(typeof r=="function"){var o=r;if(r=o(),qa){on(!0);try{o()}finally{on(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},s}function O_(r,s,o,u){return r.baseState=o,vp(r,_t,typeof u=="function"?u:zi)}function M2(r,s,o,u,p){if(Wf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};H.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,P_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function P_(r,s){var o=s.action,u=s.payload,p=r.state;if(s.isTransition){var g=H.T,T={};H.T=T;try{var D=o(p,u),B=H.S;B!==null&&B(T,D),M_(r,s,D)}catch(Z){Ep(r,s,Z)}finally{H.T=g}}else try{g=o(p,u),M_(r,s,g)}catch(Z){Ep(r,s,Z)}}function M_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){k_(r,s,u)},function(u){return Ep(r,s,u)}):k_(r,s,o)}function k_(r,s,o){s.status="fulfilled",s.value=o,L_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,P_(r,o)))}function Ep(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,L_(s),s=s.next;while(s!==u)}r.action=null}function L_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function V_(r,s){return s}function U_(r,s){if(ht){var o=Tt.formState;if(o!==null){e:{var u=Xe;if(ht){if(kt){t:{for(var p=kt,g=Zr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Sr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){kt=Sr(p.nextSibling),u=p.data==="F!";break e}}za(u)}u=!1}u&&(s=o[0])}}return o=Fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:s},o.queue=u,o=rb.bind(null,Xe,u),u.dispatch=o,u=bp(!1),g=xp.bind(null,Xe,!1,u.queue),u=Fn(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,o=M2.bind(null,Xe,p,g,o),p.dispatch=o,u.memoizedState=r,[s,o,!1]}function j_(r){var s=Qt();return z_(s,_t,r)}function z_(r,s,o){if(s=vp(r,s,V_)[0],r=Kf(zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ju(s)}catch(T){throw T===Pu?Ff:T}else u=s;s=Qt();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Xe.flags|=2048,qo(9,Yf(),k2.bind(null,p,o),null)),[u,g,r]}function k2(r,s){r.action=s}function B_(r){var s=Qt(),o=_t;if(o!==null)return z_(s,o,r);Qt(),s=s.memoizedState,o=Qt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function qo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Xe.updateQueue,s===null&&(s=gp(),Xe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Yf(){return{destroy:void 0,resource:void 0}}function F_(){return Qt().memoizedState}function Xf(r,s,o,u){var p=Fn();u=u===void 0?null:u,Xe.flags|=r,p.memoizedState=qo(1|s,Yf(),o,u)}function zu(r,s,o,u){var p=Qt();u=u===void 0?null:u;var g=p.memoizedState.inst;_t!==null&&u!==null&&fp(u,_t.memoizedState.deps)?p.memoizedState=qo(s,g,o,u):(Xe.flags|=r,p.memoizedState=qo(1|s,g,o,u))}function H_(r,s){Xf(8390656,8,r,s)}function q_(r,s){zu(2048,8,r,s)}function G_(r,s){return zu(4,2,r,s)}function $_(r,s){return zu(4,4,r,s)}function Q_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function K_(r,s,o){o=o!=null?o.concat([r]):null,zu(4,4,Q_.bind(null,s,r),o)}function wp(){}function Y_(r,s){var o=Qt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&fp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function X_(r,s){var o=Qt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&fp(s,u[1]))return u[0];if(u=r(),qa){on(!0);try{r()}finally{on(!1)}}return o.memoizedState=[u,s],u}function Tp(r,s,o){return o===void 0||(Ss&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Jb(),Xe.lanes|=r,Os|=r,o)}function W_(r,s,o,u){return Kn(o,s)?o:Bo.current!==null?(r=Tp(r,o,u),Kn(r,s)||(cn=!0),r):(Ss&42)===0?(cn=!0,r.memoizedState=o):(r=Jb(),Xe.lanes|=r,Os|=r,s)}function Z_(r,s,o,u,p){var g=W.p;W.p=g!==0&&8>g?g:8;var T=H.T,D={};H.T=D,xp(r,!1,s,o);try{var B=p(),Z=H.S;if(Z!==null&&Z(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=D2(B,u);Bu(r,s,oe,Jn(r))}else Bu(r,s,u,Jn(r))}catch(ce){Bu(r,s,{then:function(){},status:"rejected",reason:ce},Jn())}finally{W.p=g,H.T=T}}function L2(){}function Ap(r,s,o,u){if(r.tag!==5)throw Error(i(476));var p=J_(r).queue;Z_(r,p,s,G,o===null?L2:function(){return eb(r),o(u)})}function J_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:G},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function eb(r){var s=J_(r).next.queue;Bu(r,s,{},Jn())}function Sp(){return Sn(sc)}function tb(){return Qt().memoizedState}function nb(){return Qt().memoizedState}function V2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Jn();r=Ts(o);var u=As(s,r,o);u!==null&&(er(u,s,o),ku(u,s,o)),s={cache:tp()},r.payload=s;return}s=s.return}}function U2(r,s,o){var u=Jn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Wf(r)?ib(s,o):(o=Gm(r,s,o,u),o!==null&&(er(o,r,u),sb(o,s,u)))}function rb(r,s,o){var u=Jn();Bu(r,s,o,u)}function Bu(r,s,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wf(r))ib(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,D=g(T,o);if(p.hasEagerState=!0,p.eagerState=D,Kn(D,T))return Mf(r,s,p,0),Tt===null&&Pf(),!1}catch{}finally{}if(o=Gm(r,s,p,u),o!==null)return er(o,r,u),sb(o,s,u),!0}return!1}function xp(r,s,o,u){if(u={lane:2,revertLane:ig(),action:u,hasEagerState:!1,eagerState:null,next:null},Wf(r)){if(s)throw Error(i(479))}else s=Gm(r,o,u,2),s!==null&&er(s,r,2)}function Wf(r){var s=r.alternate;return r===Xe||s!==null&&s===Xe}function ib(r,s){Fo=Gf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function sb(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,uu(r,o)}}var Zf={readContext:Sn,use:Qf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},ab={readContext:Sn,use:Qf,useCallback:function(r,s){return Fn().memoizedState=[r,s===void 0?null:s],r},useContext:Sn,useEffect:H_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Xf(4194308,4,Q_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Xf(4194308,4,r,s)},useInsertionEffect:function(r,s){Xf(4,2,r,s)},useMemo:function(r,s){var o=Fn();s=s===void 0?null:s;var u=r();if(qa){on(!0);try{r()}finally{on(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Fn();if(o!==void 0){var p=o(s);if(qa){on(!0);try{o(s)}finally{on(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=U2.bind(null,Xe,r),[u.memoizedState,r]},useRef:function(r){var s=Fn();return r={current:r},s.memoizedState=r},useState:function(r){r=bp(r);var s=r.queue,o=rb.bind(null,Xe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:wp,useDeferredValue:function(r,s){var o=Fn();return Tp(o,r,s)},useTransition:function(){var r=bp(!1);return r=Z_.bind(null,Xe,r.queue,!0,!1),Fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Xe,p=Fn();if(ht){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Tt===null)throw Error(i(349));(lt&124)!==0||R_(u,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,H_(I_.bind(null,u,g,r),[r]),u.flags|=2048,qo(9,Yf(),C_.bind(null,u,g,o,s),null),o},useId:function(){var r=Fn(),s=Tt.identifierPrefix;if(ht){var o=Vi,u=Li;o=(u&~(1<<32-jt(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=$f++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=O2++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Sp,useFormState:U_,useActionState:U_,useOptimistic:function(r){var s=Fn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=xp.bind(null,Xe,!0,o),o.dispatch=s,[r,s]},useMemoCache:yp,useCacheRefresh:function(){return Fn().memoizedState=V2.bind(null,Xe)}},ob={readContext:Sn,use:Qf,useCallback:Y_,useContext:Sn,useEffect:q_,useImperativeHandle:K_,useInsertionEffect:G_,useLayoutEffect:$_,useMemo:X_,useReducer:Kf,useRef:F_,useState:function(){return Kf(zi)},useDebugValue:wp,useDeferredValue:function(r,s){var o=Qt();return W_(o,_t.memoizedState,r,s)},useTransition:function(){var r=Kf(zi)[0],s=Qt().memoizedState;return[typeof r=="boolean"?r:ju(r),s]},useSyncExternalStore:x_,useId:tb,useHostTransitionStatus:Sp,useFormState:j_,useActionState:j_,useOptimistic:function(r,s){var o=Qt();return O_(o,_t,r,s)},useMemoCache:yp,useCacheRefresh:nb},j2={readContext:Sn,use:Qf,useCallback:Y_,useContext:Sn,useEffect:q_,useImperativeHandle:K_,useInsertionEffect:G_,useLayoutEffect:$_,useMemo:X_,useReducer:_p,useRef:F_,useState:function(){return _p(zi)},useDebugValue:wp,useDeferredValue:function(r,s){var o=Qt();return _t===null?Tp(o,r,s):W_(o,_t.memoizedState,r,s)},useTransition:function(){var r=_p(zi)[0],s=Qt().memoizedState;return[typeof r=="boolean"?r:ju(r),s]},useSyncExternalStore:x_,useId:tb,useHostTransitionStatus:Sp,useFormState:B_,useActionState:B_,useOptimistic:function(r,s){var o=Qt();return _t!==null?O_(o,_t,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:yp,useCacheRefresh:nb},Go=null,Fu=0;function Jf(r){var s=Fu;return Fu+=1,Go===null&&(Go=[]),v_(Go,r,s)}function Hu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ed(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function lb(r){var s=r._init;return s(r._payload)}function ub(r){function s(Q,q){if(r){var X=Q.deletions;X===null?(Q.deletions=[q],Q.flags|=16):X.push(q)}}function o(Q,q){if(!r)return null;for(;q!==null;)s(Q,q),q=q.sibling;return null}function u(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function p(Q,q){return Q=ki(Q,q),Q.index=0,Q.sibling=null,Q}function g(Q,q,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<q?(Q.flags|=67108866,q):X):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function D(Q,q,X,le){return q===null||q.tag!==6?(q=Qm(X,Q.mode,le),q.return=Q,q):(q=p(q,X),q.return=Q,q)}function B(Q,q,X,le){var Ae=X.type;return Ae===R?oe(Q,q,X.props.children,le,X.key):q!==null&&(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===E&&lb(Ae)===q.type)?(q=p(q,X.props),Hu(q,X),q.return=Q,q):(q=Lf(X.type,X.key,X.props,null,Q.mode,le),Hu(q,X),q.return=Q,q)}function Z(Q,q,X,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Km(X,Q.mode,le),q.return=Q,q):(q=p(q,X.children||[]),q.return=Q,q)}function oe(Q,q,X,le,Ae){return q===null||q.tag!==7?(q=La(X,Q.mode,le,Ae),q.return=Q,q):(q=p(q,X),q.return=Q,q)}function ce(Q,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Qm(""+q,Q.mode,X),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return X=Lf(q.type,q.key,q.props,null,Q.mode,X),Hu(X,q),X.return=Q,X;case A:return q=Km(q,Q.mode,X),q.return=Q,q;case E:var le=q._init;return q=le(q._payload),ce(Q,q,X)}if(he(q)||L(q))return q=La(q,Q.mode,X,null),q.return=Q,q;if(typeof q.then=="function")return ce(Q,Jf(q),X);if(q.$$typeof===F)return ce(Q,zf(Q,q),X);ed(Q,q)}return null}function ee(Q,q,X,le){var Ae=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ae!==null?null:D(Q,q,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Ae?B(Q,q,X,le):null;case A:return X.key===Ae?Z(Q,q,X,le):null;case E:return Ae=X._init,X=Ae(X._payload),ee(Q,q,X,le)}if(he(X)||L(X))return Ae!==null?null:oe(Q,q,X,le,null);if(typeof X.then=="function")return ee(Q,q,Jf(X),le);if(X.$$typeof===F)return ee(Q,q,zf(Q,X),le);ed(Q,X)}return null}function re(Q,q,X,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Q=Q.get(X)||null,D(q,Q,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return Q=Q.get(le.key===null?X:le.key)||null,B(q,Q,le,Ae);case A:return Q=Q.get(le.key===null?X:le.key)||null,Z(q,Q,le,Ae);case E:var Je=le._init;return le=Je(le._payload),re(Q,q,X,le,Ae)}if(he(le)||L(le))return Q=Q.get(X)||null,oe(q,Q,le,Ae,null);if(typeof le.then=="function")return re(Q,q,X,Jf(le),Ae);if(le.$$typeof===F)return re(Q,q,X,zf(q,le),Ae);ed(q,le)}return null}function Fe(Q,q,X,le){for(var Ae=null,Je=null,De=q,Ue=q=0,dn=null;De!==null&&Ue<X.length;Ue++){De.index>Ue?(dn=De,De=null):dn=De.sibling;var ft=ee(Q,De,X[Ue],le);if(ft===null){De===null&&(De=dn);break}r&&De&&ft.alternate===null&&s(Q,De),q=g(ft,q,Ue),Je===null?Ae=ft:Je.sibling=ft,Je=ft,De=dn}if(Ue===X.length)return o(Q,De),ht&&Ua(Q,Ue),Ae;if(De===null){for(;Ue<X.length;Ue++)De=ce(Q,X[Ue],le),De!==null&&(q=g(De,q,Ue),Je===null?Ae=De:Je.sibling=De,Je=De);return ht&&Ua(Q,Ue),Ae}for(De=u(De);Ue<X.length;Ue++)dn=re(De,Q,Ue,X[Ue],le),dn!==null&&(r&&dn.alternate!==null&&De.delete(dn.key===null?Ue:dn.key),q=g(dn,q,Ue),Je===null?Ae=dn:Je.sibling=dn,Je=dn);return r&&De.forEach(function(Bs){return s(Q,Bs)}),ht&&Ua(Q,Ue),Ae}function Le(Q,q,X,le){if(X==null)throw Error(i(151));for(var Ae=null,Je=null,De=q,Ue=q=0,dn=null,ft=X.next();De!==null&&!ft.done;Ue++,ft=X.next()){De.index>Ue?(dn=De,De=null):dn=De.sibling;var Bs=ee(Q,De,ft.value,le);if(Bs===null){De===null&&(De=dn);break}r&&De&&Bs.alternate===null&&s(Q,De),q=g(Bs,q,Ue),Je===null?Ae=Bs:Je.sibling=Bs,Je=Bs,De=dn}if(ft.done)return o(Q,De),ht&&Ua(Q,Ue),Ae;if(De===null){for(;!ft.done;Ue++,ft=X.next())ft=ce(Q,ft.value,le),ft!==null&&(q=g(ft,q,Ue),Je===null?Ae=ft:Je.sibling=ft,Je=ft);return ht&&Ua(Q,Ue),Ae}for(De=u(De);!ft.done;Ue++,ft=X.next())ft=re(De,Q,Ue,ft.value,le),ft!==null&&(r&&ft.alternate!==null&&De.delete(ft.key===null?Ue:ft.key),q=g(ft,q,Ue),Je===null?Ae=ft:Je.sibling=ft,Je=ft);return r&&De.forEach(function(zI){return s(Q,zI)}),ht&&Ua(Q,Ue),Ae}function Et(Q,q,X,le){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Ae=X.key;q!==null;){if(q.key===Ae){if(Ae=X.type,Ae===R){if(q.tag===7){o(Q,q.sibling),le=p(q,X.props.children),le.return=Q,Q=le;break e}}else if(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===E&&lb(Ae)===q.type){o(Q,q.sibling),le=p(q,X.props),Hu(le,X),le.return=Q,Q=le;break e}o(Q,q);break}else s(Q,q);q=q.sibling}X.type===R?(le=La(X.props.children,Q.mode,le,X.key),le.return=Q,Q=le):(le=Lf(X.type,X.key,X.props,null,Q.mode,le),Hu(le,X),le.return=Q,Q=le)}return T(Q);case A:e:{for(Ae=X.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){o(Q,q.sibling),le=p(q,X.children||[]),le.return=Q,Q=le;break e}else{o(Q,q);break}else s(Q,q);q=q.sibling}le=Km(X,Q.mode,le),le.return=Q,Q=le}return T(Q);case E:return Ae=X._init,X=Ae(X._payload),Et(Q,q,X,le)}if(he(X))return Fe(Q,q,X,le);if(L(X)){if(Ae=L(X),typeof Ae!="function")throw Error(i(150));return X=Ae.call(X),Le(Q,q,X,le)}if(typeof X.then=="function")return Et(Q,q,Jf(X),le);if(X.$$typeof===F)return Et(Q,q,zf(Q,X),le);ed(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(o(Q,q.sibling),le=p(q,X),le.return=Q,Q=le):(o(Q,q),le=Qm(X,Q.mode,le),le.return=Q,Q=le),T(Q)):o(Q,q)}return function(Q,q,X,le){try{Fu=0;var Ae=Et(Q,q,X,le);return Go=null,Ae}catch(De){if(De===Pu||De===Ff)throw De;var Je=Yn(29,De,null,Q.mode);return Je.lanes=le,Je.return=Q,Je}finally{}}}var $o=ub(!0),cb=ub(!1),pr=te(null),Jr=null;function xs(r){var s=r.alternate;ne(nn,nn.current&1),ne(pr,r),Jr===null&&(s===null||Bo.current!==null||s.memoizedState!==null)&&(Jr=r)}function fb(r){if(r.tag===22){if(ne(nn,nn.current),ne(pr,r),Jr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Jr=r)}}else Rs()}function Rs(){ne(nn,nn.current),ne(pr,pr.current)}function Bi(r){se(pr),Jr===r&&(Jr=null),se(nn)}var nn=te(0);function td(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Rp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Cp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Jn(),p=Ts(u);p.payload=s,o!=null&&(p.callback=o),s=As(r,p,u),s!==null&&(er(s,r,u),ku(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Jn(),p=Ts(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=As(r,p,u),s!==null&&(er(s,r,u),ku(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Jn(),u=Ts(o);u.tag=2,s!=null&&(u.callback=s),s=As(r,u,o),s!==null&&(er(s,r,o),ku(s,r,o))}};function db(r,s,o,u,p,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Su(o,u)||!Su(p,g):!0}function hb(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Cp.enqueueReplaceState(s,s.state,null)}function Ga(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var nd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function mb(r){nd(r)}function pb(r){console.error(r)}function gb(r){nd(r)}function rd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function yb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ip(r,s,o){return o=Ts(o),o.tag=3,o.payload={element:null},o.callback=function(){rd(r,s)},o}function vb(r){return r=Ts(r),r.tag=3,r}function _b(r,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;r.payload=function(){return p(g)},r.callback=function(){yb(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){yb(s,o,u),typeof p!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function z2(r,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Nu(s,o,p,!0),o=pr.current,o!==null){switch(o.tag){case 13:return Jr===null?Jp():o.alternate===null&&Lt===0&&(Lt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===ip?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),tg(r,u,p)),!1;case 22:return o.flags|=65536,u===ip?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),tg(r,u,p)),!1}throw Error(i(435,o.tag))}return tg(r,u,p),Jp(),!1}if(ht)return s=pr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Wm&&(r=Error(i(422),{cause:u}),Iu(fr(r,o)))):(u!==Wm&&(s=Error(i(423),{cause:u}),Iu(fr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=fr(u,o),p=Ip(r.stateNode,u,p),op(r,p),Lt!==4&&(Lt=2)),!1;var g=Error(i(520),{cause:u});if(g=fr(g,o),Xu===null?Xu=[g]:Xu.push(g),Lt!==4&&(Lt=2),s===null)return!0;u=fr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Ip(o.stateNode,u,r),op(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ps===null||!Ps.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=vb(p),_b(p,r,o,u),op(o,p),!1}o=o.return}while(o!==null);return!1}var bb=Error(i(461)),cn=!1;function yn(r,s,o,u){s.child=r===null?cb(s,null,o,u):$o(s,r.child,o,u)}function Eb(r,s,o,u,p){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var D in u)D!=="ref"&&(T[D]=u[D])}else T=u;return Fa(s),u=dp(r,s,o,T,g,p),D=hp(),r!==null&&!cn?(mp(r,s,p),Fi(r,s,p)):(ht&&D&&Ym(s),s.flags|=1,yn(r,s,u,p),s.child)}function wb(r,s,o,u,p){if(r===null){var g=o.type;return typeof g=="function"&&!$m(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Tb(r,s,g,u,p)):(r=Lf(o.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Vp(r,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Su,o(T,u)&&r.ref===s.ref)return Fi(r,s,p)}return s.flags|=1,r=ki(g,u),r.ref=s.ref,r.return=s,s.child=r}function Tb(r,s,o,u,p){if(r!==null){var g=r.memoizedProps;if(Su(g,u)&&r.ref===s.ref)if(cn=!1,s.pendingProps=u=g,Vp(r,p))(r.flags&131072)!==0&&(cn=!0);else return s.lanes=r.lanes,Fi(r,s,p)}return Np(r,s,o,u,p)}function Ab(r,s,o){var u=s.pendingProps,p=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(p=s.child=r.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Sb(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bf(s,g!==null?g.cachePool:null),g!==null?T_(s,g):up(),fb(s);else return s.lanes=s.childLanes=536870912,Sb(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Bf(s,g.cachePool),T_(s,g),Rs(),s.memoizedState=null):(r!==null&&Bf(s,null),up(),Rs());return yn(r,s,p,o),s.child}function Sb(r,s,o,u){var p=rp();return p=p===null?null:{parent:tn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Bf(s,null),up(),fb(s),r!==null&&Nu(r,s,u,!0),null}function id(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Np(r,s,o,u,p){return Fa(s),o=dp(r,s,o,u,void 0,p),u=hp(),r!==null&&!cn?(mp(r,s,p),Fi(r,s,p)):(ht&&u&&Ym(s),s.flags|=1,yn(r,s,o,p),s.child)}function xb(r,s,o,u,p,g){return Fa(s),s.updateQueue=null,o=S_(s,u,o,p),A_(r),u=hp(),r!==null&&!cn?(mp(r,s,g),Fi(r,s,g)):(ht&&u&&Ym(s),s.flags|=1,yn(r,s,o,g),s.child)}function Rb(r,s,o,u,p){if(Fa(s),s.stateNode===null){var g=Lo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Sn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Cp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},sp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?Sn(T):Lo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Rp(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Cp.enqueueReplaceState(g,g.state,null),Vu(s,u,g,p),Lu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var D=s.memoizedProps,B=Ga(o,D);g.props=B;var Z=g.context,oe=o.contextType;T=Lo,typeof oe=="object"&&oe!==null&&(T=Sn(oe));var ce=o.getDerivedStateFromProps;oe=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||Z!==T)&&hb(s,g,u,T),ws=!1;var ee=s.memoizedState;g.state=ee,Vu(s,u,g,p),Lu(),Z=s.memoizedState,D||ee!==Z||ws?(typeof ce=="function"&&(Rp(s,o,ce,u),Z=s.memoizedState),(B=ws||db(s,o,B,u,ee,Z,T))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=T,u=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,ap(r,s),T=s.memoizedProps,oe=Ga(o,T),g.props=oe,ce=s.pendingProps,ee=g.context,Z=o.contextType,B=Lo,typeof Z=="object"&&Z!==null&&(B=Sn(Z)),D=o.getDerivedStateFromProps,(Z=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ce||ee!==B)&&hb(s,g,u,B),ws=!1,ee=s.memoizedState,g.state=ee,Vu(s,u,g,p),Lu();var re=s.memoizedState;T!==ce||ee!==re||ws||r!==null&&r.dependencies!==null&&jf(r.dependencies)?(typeof D=="function"&&(Rp(s,o,D,u),re=s.memoizedState),(oe=ws||db(s,o,oe,u,ee,re,B)||r!==null&&r.dependencies!==null&&jf(r.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,re,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,re,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),g.props=u,g.state=re,g.context=B,u=oe):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,id(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=$o(s,r.child,null,p),s.child=$o(s,null,o,p)):yn(r,s,o,p),s.memoizedState=g.state,r=s.child):r=Fi(r,s,p),r}function Cb(r,s,o,u){return Cu(),s.flags|=256,yn(r,s,o,u),s.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Op(r){return{baseLanes:r,cachePool:p_()}}function Pp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=gr),r}function Ib(r,s,o){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(nn.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(ht){if(p?xs(s):Rs(),ht){var D=kt,B;if(B=D){e:{for(B=D,D=Zr;B.nodeType!==8;){if(!D){D=null;break e}if(B=Sr(B.nextSibling),B===null){D=null;break e}}D=B}D!==null?(s.memoizedState={dehydrated:D,treeContext:Va!==null?{id:Li,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},B=Yn(18,null,null,0),B.stateNode=D,B.return=s,s.child=B,Vn=s,kt=null,B=!0):B=!1}B||za(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return gg(D)?s.lanes=32:s.lanes=536870912,null;Bi(s)}return D=u.children,u=u.fallback,p?(Rs(),p=s.mode,D=sd({mode:"hidden",children:D},p),u=La(u,p,o,null),D.return=s,u.return=s,D.sibling=u,s.child=D,p=s.child,p.memoizedState=Op(o),p.childLanes=Pp(r,T,o),s.memoizedState=Dp,u):(xs(s),Mp(s,D))}if(B=r.memoizedState,B!==null&&(D=B.dehydrated,D!==null)){if(g)s.flags&256?(xs(s),s.flags&=-257,s=kp(r,s,o)):s.memoizedState!==null?(Rs(),s.child=r.child,s.flags|=128,s=null):(Rs(),p=u.fallback,D=s.mode,u=sd({mode:"visible",children:u.children},D),p=La(p,D,o,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,$o(s,r.child,null,o),u=s.child,u.memoizedState=Op(o),u.childLanes=Pp(r,T,o),s.memoizedState=Dp,s=p);else if(xs(s),gg(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var Z=T.dgst;T=Z,u=Error(i(419)),u.stack="",u.digest=T,Iu({value:u,source:null,stack:null}),s=kp(r,s,o)}else if(cn||Nu(r,s,o,!1),T=(o&r.childLanes)!==0,cn||T){if(T=Tt,T!==null&&(u=o&-o,u=(u&42)!==0?1:ms(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,ko(r,u),er(T,r,u),bb;D.data==="$?"||Jp(),s=kp(r,s,o)}else D.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=B.treeContext,kt=Sr(D.nextSibling),Vn=s,ht=!0,ja=null,Zr=!1,r!==null&&(hr[mr++]=Li,hr[mr++]=Vi,hr[mr++]=Va,Li=r.id,Vi=r.overflow,Va=s),s=Mp(s,u.children),s.flags|=4096);return s}return p?(Rs(),p=u.fallback,D=s.mode,B=r.child,Z=B.sibling,u=ki(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,Z!==null?p=ki(Z,p):(p=La(p,D,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,D=r.child.memoizedState,D===null?D=Op(o):(B=D.cachePool,B!==null?(Z=tn._currentValue,B=B.parent!==Z?{parent:Z,pool:Z}:B):B=p_(),D={baseLanes:D.baseLanes|o,cachePool:B}),p.memoizedState=D,p.childLanes=Pp(r,T,o),s.memoizedState=Dp,u):(xs(s),o=r.child,r=o.sibling,o=ki(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Mp(r,s){return s=sd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function sd(r,s){return r=Yn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function kp(r,s,o){return $o(s,r.child,null,o),r=Mp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Nb(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Jm(r.return,s,o)}function Lp(r,s,o,u,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=p)}function Db(r,s,o){var u=s.pendingProps,p=u.revealOrder,g=u.tail;if(yn(r,s,u.children,o),u=nn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nb(r,o,s);else if(r.tag===19)Nb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ne(nn,u),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&td(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Lp(s,!1,p,o,g);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&td(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Lp(s,!0,o,null,g);break;case"together":Lp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Nu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ki(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ki(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Vp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&jf(r)))}function B2(r,s,o){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),Es(s,tn,r.memoizedState.cache),Cu();break;case 27:case 5:qe(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(xs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Ib(r,s,o):(xs(s),r=Fi(r,s,o),r!==null?r.sibling:null);xs(s);break;case 19:var p=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Nu(r,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return Db(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ne(nn,nn.current),u)break;return null;case 22:case 23:return s.lanes=0,Ab(r,s,o);case 24:Es(s,tn,r.memoizedState.cache)}return Fi(r,s,o)}function Ob(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)cn=!0;else{if(!Vp(r,o)&&(s.flags&128)===0)return cn=!1,B2(r,s,o);cn=(r.flags&131072)!==0}else cn=!1,ht&&(s.flags&1048576)!==0&&l_(s,Uf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")$m(u)?(r=Ga(u,r),s.tag=1,s=Rb(null,s,u,r,o)):(s.tag=0,s=Np(null,s,u,r,o));else{if(u!=null){if(p=u.$$typeof,p===$){s.tag=11,s=Eb(null,s,u,r,o);break e}else if(p===V){s.tag=14,s=wb(null,s,u,r,o);break e}}throw s=J(u)||u,Error(i(306,s,""))}}return s;case 0:return Np(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=Ga(u,s.pendingProps),Rb(r,s,u,p,o);case 3:e:{if(Pe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,ap(r,s),Vu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Es(s,tn,u),u!==g.cache&&ep(s,[tn],o,!0),Lu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Cb(r,s,u,o);break e}else if(u!==p){p=fr(Error(i(424)),s),Iu(p),s=Cb(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kt=Sr(r.firstChild),Vn=s,ht=!0,ja=null,Zr=!0,o=cb(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Cu(),u===p){s=Fi(r,s,o);break e}yn(r,s,u,o)}s=s.child}return s;case 26:return id(r,s),r===null?(o=LE(s.type,null,s.pendingProps,null))?s.memoizedState=o:ht||(o=s.type,r=s.pendingProps,u=_d(pe.current).createElement(o),u[Zt]=s,u[qt]=r,_n(u,o,r),zt(u),s.stateNode=u):s.memoizedState=LE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return qe(s),r===null&&ht&&(u=s.stateNode=PE(s.type,s.pendingProps,pe.current),Vn=s,Zr=!0,p=kt,Ls(s.type)?(yg=p,kt=Sr(u.firstChild)):kt=p),yn(r,s,s.pendingProps.children,o),id(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ht&&((p=u=kt)&&(u=pI(u,s.type,s.pendingProps,Zr),u!==null?(s.stateNode=u,Vn=s,kt=Sr(u.firstChild),Zr=!1,p=!0):p=!1),p||za(s)),qe(s),p=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,hg(p,g)?u=null:T!==null&&hg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=dp(r,s,P2,null,null,o),sc._currentValue=p),id(r,s),yn(r,s,u,o),s.child;case 6:return r===null&&ht&&((r=o=kt)&&(o=gI(o,s.pendingProps,Zr),o!==null?(s.stateNode=o,Vn=s,kt=null,r=!0):r=!1),r||za(s)),null;case 13:return Ib(r,s,o);case 4:return Pe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=$o(s,null,u,o):yn(r,s,u,o),s.child;case 11:return Eb(r,s,s.type,s.pendingProps,o);case 7:return yn(r,s,s.pendingProps,o),s.child;case 8:return yn(r,s,s.pendingProps.children,o),s.child;case 12:return yn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Es(s,s.type,u.value),yn(r,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Fa(s),p=Sn(p),u=u(p),s.flags|=1,yn(r,s,u,o),s.child;case 14:return wb(r,s,s.type,s.pendingProps,o);case 15:return Tb(r,s,s.type,s.pendingProps,o);case 19:return Db(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=sd(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ki(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Ab(r,s,o);case 24:return Fa(s),u=Sn(tn),r===null?(p=rp(),p===null&&(p=Tt,g=tp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:u,cache:p},sp(s),Es(s,tn,p)):((r.lanes&o)!==0&&(ap(r,s),Vu(s,null,null,o),Lu()),p=r.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Es(s,tn,u)):(u=g.cache,Es(s,tn,u),u!==p.cache&&ep(s,[tn],o,!0))),yn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Hi(r){r.flags|=4}function Pb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!BE(s)){if(s=pr.current,s!==null&&((lt&4194048)===lt?Jr!==null:(lt&62914560)!==lt&&(lt&536870912)===0||s!==Jr))throw Mu=ip,g_;r.flags|=8192}}function ad(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ou():536870912,r.lanes|=s,Xo|=s)}function qu(r,s){if(!ht)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Dt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function F2(r,s,o){var u=s.pendingProps;switch(Xm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Dt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ji(tn),Ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ru(s)?Hi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,f_())),Dt(s),null;case 26:return o=s.memoizedState,r===null?(Hi(s),o!==null?(Dt(s),Pb(s,o)):(Dt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Hi(s),Dt(s),Pb(s,o)):(Dt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Hi(s),Dt(s),s.flags&=-16777217),null;case 27:Ee(s),o=pe.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Hi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Dt(s),null}r=me.current,Ru(s)?u_(s):(r=PE(p,u,o),s.stateNode=r,Hi(s))}return Dt(s),null;case 5:if(Ee(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Hi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Dt(s),null}if(r=me.current,Ru(s))u_(s);else{switch(p=_d(pe.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}r[Zt]=s,r[qt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(_n(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hi(s)}}return Dt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Hi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=pe.current,Ru(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,p=Vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||xE(r.nodeValue,o)),r||za(s)}else r=_d(r).createTextNode(u),r[Zt]=s,s.stateNode=r}return Dt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ru(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Zt]=s}else Cu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),p=!1}else p=f_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Bi(s),s):(Bi(s),null)}if(Bi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),ad(s,s.updateQueue),Dt(s),null;case 4:return Ve(),r===null&&lg(s.stateNode.containerInfo),Dt(s),null;case 10:return ji(s.type),Dt(s),null;case 19:if(se(nn),p=s.memoizedState,p===null)return Dt(s),null;if(u=(s.flags&128)!==0,g=p.rendering,g===null)if(u)qu(p,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=td(r),g!==null){for(s.flags|=128,qu(p,!1),r=g.updateQueue,s.updateQueue=r,ad(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)o_(o,r),o=o.sibling;return ne(nn,nn.current&1|2),s.child}r=r.sibling}p.tail!==null&&Ce()>ud&&(s.flags|=128,u=!0,qu(p,!1),s.lanes=4194304)}else{if(!u)if(r=td(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,ad(s,r),qu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!ht)return Dt(s),null}else 2*Ce()-p.renderingStartTime>ud&&o!==536870912&&(s.flags|=128,u=!0,qu(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(r=p.last,r!==null?r.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ce(),s.sibling=null,r=nn.current,ne(nn,u?r&1|2:r&1),s):(Dt(s),null);case 22:case 23:return Bi(s),cp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),o=s.updateQueue,o!==null&&ad(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&se(Ha),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ji(tn),Dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function H2(r,s){switch(Xm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ji(tn),Ve(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 13:if(Bi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Cu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return se(nn),null;case 4:return Ve(),null;case 10:return ji(s.type),null;case 22:case 23:return Bi(s),cp(),r!==null&&se(Ha),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ji(tn),null;case 25:return null;default:return null}}function Mb(r,s){switch(Xm(s),s.tag){case 3:ji(tn),Ve();break;case 26:case 27:case 5:Ee(s);break;case 4:Ve();break;case 13:Bi(s);break;case 19:se(nn);break;case 10:ji(s.type);break;case 22:case 23:Bi(s),cp(),r!==null&&se(Ha);break;case 24:ji(tn)}}function Gu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==p)}}catch(D){wt(s,s.return,D)}}function Cs(r,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&r)===r){var T=u.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,p=s;var B=o,Z=D;try{Z()}catch(oe){wt(p,B,oe)}}}u=u.next}while(u!==g)}}catch(oe){wt(s,s.return,oe)}}function kb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{w_(s,o)}catch(u){wt(r,r.return,u)}}}function Lb(r,s,o){o.props=Ga(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){wt(r,s,u)}}function $u(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(p){wt(r,s,p)}}function ei(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){wt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){wt(r,s,p)}else o.current=null}function Vb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){wt(r,r.return,p)}}function Up(r,s,o){try{var u=r.stateNode;cI(u,r.type,o,s),u[qt]=s}catch(p){wt(r,r.return,p)}}function Ub(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ls(r.type)||r.tag===4}function jp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ub(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ls(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vd));else if(u!==4&&(u===27&&Ls(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(zp(r,s,o),r=r.sibling;r!==null;)zp(r,s,o),r=r.sibling}function od(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Ls(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(od(r,s,o),r=r.sibling;r!==null;)od(r,s,o),r=r.sibling}function jb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);_n(s,u,o),s[Zt]=r,s[qt]=o}catch(g){wt(r,r.return,g)}}var qi=!1,Ft=!1,Bp=!1,zb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function q2(r,s){if(r=r.containerInfo,fg=Sd,r=W0(r),jm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,D=-1,B=-1,Z=0,oe=0,ce=r,ee=null;t:for(;;){for(var re;ce!==o||p!==0&&ce.nodeType!==3||(D=T+p),ce!==g||u!==0&&ce.nodeType!==3||(B=T+u),ce.nodeType===3&&(T+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ee=ce,ce=re;for(;;){if(ce===r)break t;if(ee===o&&++Z===p&&(D=T),ee===g&&++oe===u&&(B=T),(re=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=re}o=D===-1||B===-1?null:{start:D,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(dg={focusedElem:r,selectionRange:o},Sd=!1,fn=s;fn!==null;)if(s=fn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,fn=r;else for(;fn!==null;){switch(s=fn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Fe=Ga(o.type,p,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Fe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Le){wt(o,o.return,Le)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)pg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fn=r;break}fn=s.return}}function Bb(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Is(r,o),u&4&&Gu(5,o);break;case 1:if(Is(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){wt(o,o.return,T)}else{var p=Ga(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){wt(o,o.return,T)}}u&64&&kb(o),u&512&&$u(o,o.return);break;case 3:if(Is(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{w_(r,s)}catch(T){wt(o,o.return,T)}}break;case 27:s===null&&u&4&&jb(o);case 26:case 5:Is(r,o),s===null&&u&4&&Vb(o),u&512&&$u(o,o.return);break;case 12:Is(r,o);break;case 13:Is(r,o),u&4&&qb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=J2.bind(null,o),yI(r,o))));break;case 22:if(u=o.memoizedState!==null||qi,!u){s=s!==null&&s.memoizedState!==null||Ft,p=qi;var g=Ft;qi=u,(Ft=s)&&!g?Ns(r,o,(o.subtreeFlags&8772)!==0):Is(r,o),qi=p,Ft=g}break;case 30:break;default:Is(r,o)}}function Fb(r){var s=r.alternate;s!==null&&(r.alternate=null,Fb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ys(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,Hn=!1;function Gi(r,s,o){for(o=o.child;o!==null;)Hb(r,s,o),o=o.sibling}function Hb(r,s,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount($e,o)}catch{}switch(o.tag){case 26:Ft||ei(o,s),Gi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||ei(o,s);var u=Rt,p=Hn;Ls(o.type)&&(Rt=o.stateNode,Hn=!1),Gi(r,s,o),tc(o.stateNode),Rt=u,Hn=p;break;case 5:Ft||ei(o,s);case 6:if(u=Rt,p=Hn,Rt=null,Gi(r,s,o),Rt=u,Hn=p,Rt!==null)if(Hn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(g){wt(o,s,g)}else try{Rt.removeChild(o.stateNode)}catch(g){wt(o,s,g)}break;case 18:Rt!==null&&(Hn?(r=Rt,DE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),uc(r)):DE(Rt,o.stateNode));break;case 4:u=Rt,p=Hn,Rt=o.stateNode.containerInfo,Hn=!0,Gi(r,s,o),Rt=u,Hn=p;break;case 0:case 11:case 14:case 15:Ft||Cs(2,o,s),Ft||Cs(4,o,s),Gi(r,s,o);break;case 1:Ft||(ei(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Lb(o,s,u)),Gi(r,s,o);break;case 21:Gi(r,s,o);break;case 22:Ft=(u=Ft)||o.memoizedState!==null,Gi(r,s,o),Ft=u;break;default:Gi(r,s,o)}}function qb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{uc(r)}catch(o){wt(s,s.return,o)}}function G2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new zb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new zb),s;default:throw Error(i(435,r.tag))}}function Fp(r,s){var o=G2(r);s.forEach(function(u){var p=eI.bind(null,r,u);o.has(u)||(o.add(u),u.then(p,p))})}function Xn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=r,T=s,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Ls(D.type)){Rt=D.stateNode,Hn=!1;break e}break;case 5:Rt=D.stateNode,Hn=!1;break e;case 3:case 4:Rt=D.stateNode.containerInfo,Hn=!0;break e}D=D.return}if(Rt===null)throw Error(i(160));Hb(g,T,p),Rt=null,Hn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Gb(s,r),s=s.sibling}var Ar=null;function Gb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xn(s,r),Wn(r),u&4&&(Cs(3,r,r.return),Gu(3,r),Cs(5,r,r.return));break;case 1:Xn(s,r),Wn(r),u&512&&(Ft||o===null||ei(o,o.return)),u&64&&qi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ar;if(Xn(s,r),Wn(r),u&512&&(Ft||o===null||ei(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ba]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),_n(g,u,o),g[Zt]=r,zt(g),u=g;break e;case"link":var T=jE("link","href",p).get(u+(o.href||""));if(T){for(var D=0;D<T.length;D++)if(g=T[D],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(D,1);break t}}g=p.createElement(u),_n(g,u,o),p.head.appendChild(g);break;case"meta":if(T=jE("meta","content",p).get(u+(o.content||""))){for(D=0;D<T.length;D++)if(g=T[D],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(D,1);break t}}g=p.createElement(u),_n(g,u,o),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[Zt]=r,zt(g),u=g}r.stateNode=u}else zE(p,r.type,r.stateNode);else r.stateNode=UE(p,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?zE(p,r.type,r.stateNode):UE(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Up(r,r.memoizedProps,o.memoizedProps)}break;case 27:Xn(s,r),Wn(r),u&512&&(Ft||o===null||ei(o,o.return)),o!==null&&u&4&&Up(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Xn(s,r),Wn(r),u&512&&(Ft||o===null||ei(o,o.return)),r.flags&32){p=r.stateNode;try{or(p,"")}catch(re){wt(r,r.return,re)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Up(r,p,o!==null?o.memoizedProps:p)),u&1024&&(Bp=!0);break;case 6:if(Xn(s,r),Wn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(re){wt(r,r.return,re)}}break;case 3:if(wd=null,p=Ar,Ar=bd(s.containerInfo),Xn(s,r),Ar=p,Wn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{uc(s.containerInfo)}catch(re){wt(r,r.return,re)}Bp&&(Bp=!1,$b(r));break;case 4:u=Ar,Ar=bd(r.stateNode.containerInfo),Xn(s,r),Wn(r),Ar=u;break;case 12:Xn(s,r),Wn(r);break;case 13:Xn(s,r),Wn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kp=Ce()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fp(r,u)));break;case 22:p=r.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,Z=qi,oe=Ft;if(qi=Z||p,Ft=oe||B,Xn(s,r),Ft=oe,qi=Z,Wn(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||B||qi||Ft||$a(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(g=B.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=B.stateNode;var ce=B.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(re){wt(B,B.return,re)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(re){wt(B,B.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fp(r,o))));break;case 19:Xn(s,r),Wn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fp(r,u)));break;case 30:break;case 21:break;default:Xn(s,r),Wn(r)}}function Wn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Ub(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,g=jp(r);od(r,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(or(T,""),o.flags&=-33);var D=jp(r);od(r,D,T);break;case 3:case 4:var B=o.stateNode.containerInfo,Z=jp(r);zp(r,Z,B);break;default:throw Error(i(161))}}catch(oe){wt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $b(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;$b(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Is(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bb(r,s.alternate,s),s=s.sibling}function $a(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),$a(s);break;case 1:ei(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Lb(s,s.return,o),$a(s);break;case 27:tc(s.stateNode);case 26:case 5:ei(s,s.return),$a(s);break;case 22:s.memoizedState===null&&$a(s);break;case 30:$a(s);break;default:$a(s)}r=r.sibling}}function Ns(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ns(p,g,o),Gu(4,g);break;case 1:if(Ns(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){wt(u,u.return,Z)}if(u=g,p=u.updateQueue,p!==null){var D=u.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)E_(B[p],D)}catch(Z){wt(u,u.return,Z)}}o&&T&64&&kb(g),$u(g,g.return);break;case 27:jb(g);case 26:case 5:Ns(p,g,o),o&&u===null&&T&4&&Vb(g),$u(g,g.return);break;case 12:Ns(p,g,o);break;case 13:Ns(p,g,o),o&&T&4&&qb(p,g);break;case 22:g.memoizedState===null&&Ns(p,g,o),$u(g,g.return);break;case 30:break;default:Ns(p,g,o)}s=s.sibling}}function Hp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Du(o))}function qp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Du(r))}function ti(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qb(r,s,o,u),s=s.sibling}function Qb(r,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ti(r,s,o,u),p&2048&&Gu(9,s);break;case 1:ti(r,s,o,u);break;case 3:ti(r,s,o,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Du(r)));break;case 12:if(p&2048){ti(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,D=g.onPostCommit;typeof D=="function"&&D(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){wt(s,s.return,B)}}else ti(r,s,o,u);break;case 13:ti(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?ti(r,s,o,u):Qu(r,s):g._visibility&2?ti(r,s,o,u):(g._visibility|=2,Qo(r,s,o,u,(s.subtreeFlags&10256)!==0)),p&2048&&Hp(T,s);break;case 24:ti(r,s,o,u),p&2048&&qp(s.alternate,s);break;default:ti(r,s,o,u)}}function Qo(r,s,o,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,D=o,B=u,Z=T.flags;switch(T.tag){case 0:case 11:case 15:Qo(g,T,D,B,p),Gu(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?Qo(g,T,D,B,p):Qu(g,T):(oe._visibility|=2,Qo(g,T,D,B,p)),p&&Z&2048&&Hp(T.alternate,T);break;case 24:Qo(g,T,D,B,p),p&&Z&2048&&qp(T.alternate,T);break;default:Qo(g,T,D,B,p)}s=s.sibling}}function Qu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,p=u.flags;switch(u.tag){case 22:Qu(o,u),p&2048&&Hp(u.alternate,u);break;case 24:Qu(o,u),p&2048&&qp(u.alternate,u);break;default:Qu(o,u)}s=s.sibling}}var Ku=8192;function Ko(r){if(r.subtreeFlags&Ku)for(r=r.child;r!==null;)Kb(r),r=r.sibling}function Kb(r){switch(r.tag){case 26:Ko(r),r.flags&Ku&&r.memoizedState!==null&&NI(Ar,r.memoizedState,r.memoizedProps);break;case 5:Ko(r);break;case 3:case 4:var s=Ar;Ar=bd(r.stateNode.containerInfo),Ko(r),Ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ku,Ku=16777216,Ko(r),Ku=s):Ko(r));break;default:Ko(r)}}function Yb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Yu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];fn=u,Wb(u,r)}Yb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xb(r),r=r.sibling}function Xb(r){switch(r.tag){case 0:case 11:case 15:Yu(r),r.flags&2048&&Cs(9,r,r.return);break;case 3:Yu(r);break;case 12:Yu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ld(r)):Yu(r);break;default:Yu(r)}}function ld(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];fn=u,Wb(u,r)}Yb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),ld(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ld(s));break;default:ld(s)}r=r.sibling}}function Wb(r,s){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Du(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,fn=u;else e:for(o=r;fn!==null;){u=fn;var p=u.sibling,g=u.return;if(Fb(u),u===o){fn=null;break e}if(p!==null){p.return=g,fn=p;break e}fn=g}}}var $2={getCacheForType:function(r){var s=Sn(tn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Q2=typeof WeakMap=="function"?WeakMap:Map,gt=0,Tt=null,tt=null,lt=0,yt=0,Zn=null,Ds=!1,Yo=!1,Gp=!1,$i=0,Lt=0,Os=0,Qa=0,$p=0,gr=0,Xo=0,Xu=null,qn=null,Qp=!1,Kp=0,ud=1/0,cd=null,Ps=null,vn=0,Ms=null,Wo=null,Zo=0,Yp=0,Xp=null,Zb=null,Wu=0,Wp=null;function Jn(){if((gt&2)!==0&&lt!==0)return lt&-lt;if(H.T!==null){var r=jo;return r!==0?r:ig()}return ps()}function Jb(){gr===0&&(gr=(lt&536870912)===0||ht?au():536870912);var r=pr.current;return r!==null&&(r.flags|=32),gr}function er(r,s,o){(r===Tt&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Jo(r,0),ks(r,lt,gr,!1)),Ai(r,o),((gt&2)===0||r!==Tt)&&(r===Tt&&((gt&2)===0&&(Qa|=o),Lt===4&&ks(r,lt,gr,!1)),ni(r))}function eE(r,s,o){if((gt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||wi(r,s),p=u?X2(r,s):eg(r,s,!0),g=u;do{if(p===0){Yo&&!u&&ks(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!K2(o)){p=eg(r,s,!1),g=!1;continue}if(p===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var D=r;p=Xu;var B=D.current.memoizedState.isDehydrated;if(B&&(Jo(D,T).flags|=256),T=eg(D,T,!1),T!==2){if(Gp&&!B){D.errorRecoveryDisabledLanes|=g,Qa|=g,p=4;break e}g=qn,qn=p,g!==null&&(qn===null?qn=g:qn.push.apply(qn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Jo(r,0),ks(r,s,0,!0);break}e:{switch(u=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ks(u,s,gr,!Ds);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Kp+300-Ce(),10<p)){if(ks(u,s,gr,!Ds),Ei(u,0,!0)!==0)break e;u.timeoutHandle=IE(tE.bind(null,u,o,qn,cd,Qp,s,gr,Qa,Xo,Ds,g,2,-0,0),p);break e}tE(u,o,qn,cd,Qp,s,gr,Qa,Xo,Ds,g,0,-0,0)}}break}while(!0);ni(r)}function tE(r,s,o,u,p,g,T,D,B,Z,oe,ce,ee,re){if(r.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(ic={stylesheets:null,count:0,unsuspend:II},Kb(s),ce=DI(),ce!==null)){r.cancelPendingCommit=ce(lE.bind(null,r,s,g,o,u,p,T,D,B,oe,1,ee,re)),ks(r,g,T,!Z);return}lE(r,s,g,o,u,p,T,D,B)}function K2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!Kn(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,u){s&=~$p,s&=~Qa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var g=31-jt(p),T=1<<g;u[g]=-1,p&=~T}o!==0&&Br(r,o,s)}function fd(){return(gt&6)===0?(Zu(0),!1):!0}function Zp(){if(tt!==null){if(yt===0)var r=tt.return;else r=tt,Ui=Ba=null,pp(r),Go=null,Fu=0,r=tt;for(;r!==null;)Mb(r.alternate,r),r=r.return;tt=null}}function Jo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,dI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Zp(),Tt=r,tt=o=ki(r.current,null),lt=s,yt=0,Zn=null,Ds=!1,Yo=wi(r,s),Gp=!1,Xo=gr=$p=Qa=Os=Lt=0,qn=Xu=null,Qp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-jt(u),g=1<<p;s|=r[p],u&=~g}return $i=s,Pf(),o}function nE(r,s){Xe=null,H.H=Zf,s===Pu||s===Ff?(s=__(),yt=3):s===g_?(s=__(),yt=4):yt=s===bb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zn=s,tt===null&&(Lt=1,rd(r,fr(s,r.current)))}function rE(){var r=H.H;return H.H=Zf,r===null?Zf:r}function iE(){var r=H.A;return H.A=$2,r}function Jp(){Lt=4,Ds||(lt&4194048)!==lt&&pr.current!==null||(Yo=!0),(Os&134217727)===0&&(Qa&134217727)===0||Tt===null||ks(Tt,lt,gr,!1)}function eg(r,s,o){var u=gt;gt|=2;var p=rE(),g=iE();(Tt!==r||lt!==s)&&(cd=null,Jo(r,s)),s=!1;var T=Lt;e:do try{if(yt!==0&&tt!==null){var D=tt,B=Zn;switch(yt){case 8:Zp(),T=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(s=!0);var Z=yt;if(yt=0,Zn=null,el(r,D,B,Z),o&&Yo){T=0;break e}break;default:Z=yt,yt=0,Zn=null,el(r,D,B,Z)}}Y2(),T=Lt;break}catch(oe){nE(r,oe)}while(!0);return s&&r.shellSuspendCounter++,Ui=Ba=null,gt=u,H.H=p,H.A=g,tt===null&&(Tt=null,lt=0,Pf()),T}function Y2(){for(;tt!==null;)sE(tt)}function X2(r,s){var o=gt;gt|=2;var u=rE(),p=iE();Tt!==r||lt!==s?(cd=null,ud=Ce()+500,Jo(r,s)):Yo=wi(r,s);e:do try{if(yt!==0&&tt!==null){s=tt;var g=Zn;t:switch(yt){case 1:yt=0,Zn=null,el(r,s,g,1);break;case 2:case 9:if(y_(g)){yt=0,Zn=null,aE(s);break}s=function(){yt!==2&&yt!==9||Tt!==r||(yt=7),ni(r)},g.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:y_(g)?(yt=0,Zn=null,aE(s)):(yt=0,Zn=null,el(r,s,g,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var D=tt;if(!T||BE(T)){yt=0,Zn=null;var B=D.sibling;if(B!==null)tt=B;else{var Z=D.return;Z!==null?(tt=Z,dd(Z)):tt=null}break t}}yt=0,Zn=null,el(r,s,g,5);break;case 6:yt=0,Zn=null,el(r,s,g,6);break;case 8:Zp(),Lt=6;break e;default:throw Error(i(462))}}W2();break}catch(oe){nE(r,oe)}while(!0);return Ui=Ba=null,H.H=u,H.A=p,gt=o,tt!==null?0:(Tt=null,lt=0,Pf(),Lt)}function W2(){for(;tt!==null&&!Nt();)sE(tt)}function sE(r){var s=Ob(r.alternate,r,$i);r.memoizedProps=r.pendingProps,s===null?dd(r):tt=s}function aE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=xb(o,s,s.pendingProps,s.type,void 0,lt);break;case 11:s=xb(o,s,s.pendingProps,s.type.render,s.ref,lt);break;case 5:pp(s);default:Mb(o,s),s=tt=o_(s,$i),s=Ob(o,s,$i)}r.memoizedProps=r.pendingProps,s===null?dd(r):tt=s}function el(r,s,o,u){Ui=Ba=null,pp(s),Go=null,Fu=0;var p=s.return;try{if(z2(r,p,s,o,lt)){Lt=1,rd(r,fr(o,r.current)),tt=null;return}}catch(g){if(p!==null)throw tt=p,g;Lt=1,rd(r,fr(o,r.current)),tt=null;return}s.flags&32768?(ht||u===1?r=!0:Yo||(lt&536870912)!==0?r=!1:(Ds=r=!0,(u===2||u===9||u===3||u===6)&&(u=pr.current,u!==null&&u.tag===13&&(u.flags|=16384))),oE(s,r)):dd(s)}function dd(r){var s=r;do{if((s.flags&32768)!==0){oE(s,Ds);return}r=s.return;var o=F2(s.alternate,s,$i);if(o!==null){tt=o;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=r}while(s!==null);Lt===0&&(Lt=5)}function oE(r,s){do{var o=H2(r.alternate,r);if(o!==null){o.flags&=32767,tt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){tt=r;return}tt=r=o}while(r!==null);Lt=6,tt=null}function lE(r,s,o,u,p,g,T,D,B){r.cancelPendingCommit=null;do hd();while(vn!==0);if((gt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=qm,lu(r,o,g,T,D,B),r===Tt&&(tt=Tt=null,lt=0),Wo=s,Ms=r,Zo=o,Yp=g,Xp=p,Zb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,tI(Me,function(){return hE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,p=W.p,W.p=2,T=gt,gt|=4;try{q2(r,s,o)}finally{gt=T,W.p=p,H.T=u}}vn=1,uE(),cE(),fE()}}function uE(){if(vn===1){vn=0;var r=Ms,s=Wo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=W.p;W.p=2;var p=gt;gt|=4;try{Gb(s,r);var g=dg,T=W0(r.containerInfo),D=g.focusedElem,B=g.selectionRange;if(T!==D&&D&&D.ownerDocument&&X0(D.ownerDocument.documentElement,D)){if(B!==null&&jm(D)){var Z=B.start,oe=B.end;if(oe===void 0&&(oe=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(oe,D.value.length);else{var ce=D.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Fe=D.textContent.length,Le=Math.min(B.start,Fe),Et=B.end===void 0?Le:Math.min(B.end,Fe);!re.extend&&Le>Et&&(T=Et,Et=Le,Le=T);var Q=Y0(D,Le),q=Y0(D,Et);if(Q&&q&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var X=ce.createRange();X.setStart(Q.node,Q.offset),re.removeAllRanges(),Le>Et?(re.addRange(X),re.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),re.addRange(X))}}}}for(ce=[],re=D;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ce.length;D++){var le=ce[D];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Sd=!!fg,dg=fg=null}finally{gt=p,W.p=u,H.T=o}}r.current=s,vn=2}}function cE(){if(vn===2){vn=0;var r=Ms,s=Wo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=W.p;W.p=2;var p=gt;gt|=4;try{Bb(r,s.alternate,s)}finally{gt=p,W.p=u,H.T=o}}vn=3}}function fE(){if(vn===4||vn===3){vn=0,Mt();var r=Ms,s=Wo,o=Zo,u=Zb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,Wo=Ms=null,dE(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Ps=null),yo(o),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot($e,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,p=W.p,W.p=2,H.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var D=u[T];g(D.value,{componentStack:D.stack})}}finally{H.T=s,W.p=p}}(Zo&3)!==0&&hd(),ni(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===Wp?Wu++:(Wu=0,Wp=r):Wu=0,Zu(0)}}function dE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Du(s)))}function hd(r){return uE(),cE(),fE(),hE()}function hE(){if(vn!==5)return!1;var r=Ms,s=Yp;Yp=0;var o=yo(Zo),u=H.T,p=W.p;try{W.p=32>o?32:o,H.T=null,o=Xp,Xp=null;var g=Ms,T=Zo;if(vn=0,Wo=Ms=null,Zo=0,(gt&6)!==0)throw Error(i(331));var D=gt;if(gt|=4,Xb(g.current),Qb(g,g.current,T,o),gt=D,Zu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot($e,g)}catch{}return!0}finally{W.p=p,H.T=u,dE(r,s)}}function mE(r,s,o){s=fr(o,s),s=Ip(r.stateNode,s,2),r=As(r,s,2),r!==null&&(Ai(r,2),ni(r))}function wt(r,s,o){if(r.tag===3)mE(r,r,o);else for(;s!==null;){if(s.tag===3){mE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ps===null||!Ps.has(u))){r=fr(o,r),o=vb(2),u=As(s,o,2),u!==null&&(_b(o,u,s,r),Ai(u,2),ni(u));break}}s=s.return}}function tg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new Q2;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Gp=!0,p.add(o),r=Z2.bind(null,r,s,o),s.then(r,r))}function Z2(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(lt&o)===o&&(Lt===4||Lt===3&&(lt&62914560)===lt&&300>Ce()-Kp?(gt&2)===0&&Jo(r,0):$p|=o,Xo===lt&&(Xo=0)),ni(r)}function pE(r,s){s===0&&(s=ou()),r=ko(r,s),r!==null&&(Ai(r,s),ni(r))}function J2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),pE(r,o)}function eI(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),pE(r,o)}function tI(r,s){return et(r,s)}var md=null,tl=null,ng=!1,pd=!1,rg=!1,Ka=0;function ni(r){r!==tl&&r.next===null&&(tl===null?md=tl=r:tl=tl.next=r),pd=!0,ng||(ng=!0,rI())}function Zu(r,s){if(!rg&&pd){rg=!0;do for(var o=!1,u=md;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var T=u.suspendedLanes,D=u.pingedLanes;g=(1<<31-jt(42|r)+1)-1,g&=p&~(T&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_E(u,g))}else g=lt,g=Ei(u,u===Tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||wi(u,g)||(o=!0,_E(u,g));u=u.next}while(o);rg=!1}}function nI(){gE()}function gE(){pd=ng=!1;var r=0;Ka!==0&&(fI()&&(r=Ka),Ka=0);for(var s=Ce(),o=null,u=md;u!==null;){var p=u.next,g=yE(u,s);g===0?(u.next=null,o===null?md=p:o.next=p,p===null&&(tl=o)):(o=u,(r!==0||(g&3)!==0)&&(pd=!0)),u=p}Zu(r)}function yE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-jt(g),D=1<<T,B=p[T];B===-1?((D&o)===0||(D&u)!==0)&&(p[T]=su(D,s)):B<=s&&(r.expiredLanes|=D),g&=~D}if(s=Tt,o=lt,o=Ei(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&It(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||wi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&It(u),yo(o)){case 2:case 8:o=be;break;case 32:o=Me;break;case 268435456:o=je;break;default:o=Me}return u=vE.bind(null,r),o=et(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&It(u),r.callbackPriority=2,r.callbackNode=null,2}function vE(r,s){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(hd()&&r.callbackNode!==o)return null;var u=lt;return u=Ei(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(eE(r,u,s),yE(r,Ce()),r.callbackNode!=null&&r.callbackNode===o?vE.bind(null,r):null)}function _E(r,s){if(hd())return null;eE(r,s,!0)}function rI(){hI(function(){(gt&6)!==0?et(Re,nI):gE()})}function ig(){return Ka===0&&(Ka=au()),Ka}function bE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:To(""+r)}function EE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function iI(r,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var g=bE((p[qt]||null).action),T=u.submitter;T&&(s=(s=T[qt]||null)?bE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var D=new Ao("action","action",null,u,p);r.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ka!==0){var B=T?EE(p,T):new FormData(p);Ap(o,{pending:!0,data:B,method:p.method,action:g},null,B)}}else typeof g=="function"&&(D.preventDefault(),B=T?EE(p,T):new FormData(p),Ap(o,{pending:!0,data:B,method:p.method,action:g},g,B))},currentTarget:p}]})}}for(var sg=0;sg<Hm.length;sg++){var ag=Hm[sg],sI=ag.toLowerCase(),aI=ag[0].toUpperCase()+ag.slice(1);Tr(sI,"on"+aI)}Tr(e_,"onAnimationEnd"),Tr(t_,"onAnimationIteration"),Tr(n_,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(T2,"onTransitionRun"),Tr(A2,"onTransitionStart"),Tr(S2,"onTransitionCancel"),Tr(r_,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function wE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var D=u[T],B=D.instance,Z=D.currentTarget;if(D=D.listener,B!==g&&p.isPropagationStopped())break e;g=D,p.currentTarget=Z;try{g(p)}catch(oe){nd(oe)}p.currentTarget=null,g=B}else for(T=0;T<u.length;T++){if(D=u[T],B=D.instance,Z=D.currentTarget,D=D.listener,B!==g&&p.isPropagationStopped())break e;g=D,p.currentTarget=Z;try{g(p)}catch(oe){nd(oe)}p.currentTarget=null,g=B}}}}function nt(r,s){var o=s[cu];o===void 0&&(o=s[cu]=new Set);var u=r+"__bubble";o.has(u)||(TE(s,r,2,!1),o.add(u))}function og(r,s,o){var u=0;s&&(u|=4),TE(o,r,u,s)}var gd="_reactListening"+Math.random().toString(36).slice(2);function lg(r){if(!r[gd]){r[gd]=!0,fu.forEach(function(o){o!=="selectionchange"&&(oI.has(o)||og(o,!1,r),og(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[gd]||(s[gd]=!0,og("selectionchange",!1,s))}}function TE(r,s,o,u){switch(QE(s)){case 2:var p=MI;break;case 8:p=kI;break;default:p=wg}o=p.bind(null,s,o,r),p=void 0,!ur||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function ug(r,s,o,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var D=u.stateNode.containerInfo;if(D===p)break;if(T===4)for(T=u.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;D!==null;){if(T=Si(D),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){u=g=T;continue e}D=D.parentNode}}u=u.return}vf(function(){var Z=g,oe=lr(o),ce=[];e:{var ee=i_.get(r);if(ee!==void 0){var re=Ao,Fe=r;switch(r){case"keypress":if(Qr(o)===0)break e;case"keydown":case"keyup":re=No;break;case"focusin":Fe="focus",re=Ro;break;case"focusout":Fe="blur",re=Ro;break;case"beforeblur":case"afterblur":re=Ro;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=xf;break;case e_:case t_:case n_:re=Co;break;case r_:re=Cf;break;case"scroll":case"scrollend":re=_f;break;case"wheel":re=Do;break;case"copy":case"cut":case"paste":re=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Tu;break;case"toggle":case"beforetoggle":re=Nf}var Le=(s&4)!==0,Et=!Le&&(r==="scroll"||r==="scrollend"),Q=Le?ee!==null?ee+"Capture":null:ee;Le=[];for(var q=Z,X;q!==null;){var le=q;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||Q===null||(le=Ra(q,Q),le!=null&&Le.push(ec(q,le,X))),Et)break;q=q.return}0<Le.length&&(ee=new re(ee,Fe,null,o,oe),ce.push({event:ee,listeners:Le}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ee&&o!==Ii&&(Fe=o.relatedTarget||o.fromElement)&&(Si(Fe)||Fe[ar]))break e;if((re||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Fe=o.relatedTarget||o.toElement,re=Z,Fe=Fe?Si(Fe):null,Fe!==null&&(Et=l(Fe),Le=Fe.tag,Fe!==Et||Le!==5&&Le!==27&&Le!==6)&&(Fe=null)):(re=null,Fe=Z),re!==Fe)){if(Le=cr,le="onMouseLeave",Q="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Le=Tu,le="onPointerLeave",Q="onPointerEnter",q="pointer"),Et=re==null?ee:Hr(re),X=Fe==null?ee:Hr(Fe),ee=new Le(le,q+"leave",re,o,oe),ee.target=Et,ee.relatedTarget=X,le=null,Si(oe)===Z&&(Le=new Le(Q,q+"enter",Fe,o,oe),Le.target=X,Le.relatedTarget=Et,le=Le),Et=le,re&&Fe)t:{for(Le=re,Q=Fe,q=0,X=Le;X;X=nl(X))q++;for(X=0,le=Q;le;le=nl(le))X++;for(;0<q-X;)Le=nl(Le),q--;for(;0<X-q;)Q=nl(Q),X--;for(;q--;){if(Le===Q||Q!==null&&Le===Q.alternate)break t;Le=nl(Le),Q=nl(Q)}Le=null}else Le=null;re!==null&&AE(ce,ee,re,Le,!1),Fe!==null&&Et!==null&&AE(ce,Et,Fe,Le,!0)}}e:{if(ee=Z?Hr(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var Ae=H0;else if(en(ee))if(q0)Ae=b2;else{Ae=v2;var Je=y2}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&gu(Z.elementType)&&(Ae=H0):Ae=_2;if(Ae&&(Ae=Ae(r,Z))){Mi(ce,Ae,o,oe);break e}Je&&Je(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&_s(ee,"number",ee.value)}switch(Je=Z?Hr(Z):window,r){case"focusin":(en(Je)||Je.contentEditable==="true")&&(Oo=Je,zm=Z,xu=null);break;case"focusout":xu=zm=Oo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,Z0(ce,o,oe);break;case"selectionchange":if(w2)break;case"keydown":case"keyup":Z0(ce,o,oe)}var De;if(Xr)e:{switch(r){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else at?ie(r,o)&&(Ue="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ue="onCompositionStart");Ue&&(w&&o.locale!=="ko"&&(at||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&at&&(De=vu()):($r=oe,bs="value"in $r?$r.value:$r.textContent,at=!0)),Je=yd(Z,Ue),0<Je.length&&(Ue=new Eu(Ue,r,null,o,oe),ce.push({event:Ue,listeners:Je}),De?Ue.data=De:(De=ve(o),De!==null&&(Ue.data=De)))),(De=_?Jt(r,o):ot(r,o))&&(Ue=yd(Z,"onBeforeInput"),0<Ue.length&&(Je=new Eu("onBeforeInput","beforeinput",null,o,oe),ce.push({event:Je,listeners:Ue}),Je.data=De)),iI(ce,r,Z,o,oe)}wE(ce,s)})}function ec(r,s,o){return{instance:r,listener:s,currentTarget:o}}function yd(r,s){for(var o=s+"Capture",u=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ra(r,o),p!=null&&u.unshift(ec(r,p,g)),p=Ra(r,s),p!=null&&u.push(ec(r,p,g))),r.tag===3)return u;r=r.return}return[]}function nl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function AE(r,s,o,u,p){for(var g=s._reactName,T=[];o!==null&&o!==u;){var D=o,B=D.alternate,Z=D.stateNode;if(D=D.tag,B!==null&&B===u)break;D!==5&&D!==26&&D!==27||Z===null||(B=Z,p?(Z=Ra(o,g),Z!=null&&T.unshift(ec(o,Z,B))):p||(Z=Ra(o,g),Z!=null&&T.push(ec(o,Z,B)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var lI=/\r\n?/g,uI=/\u0000|\uFFFD/g;function SE(r){return(typeof r=="string"?r:""+r).replace(lI,`
`).replace(uI,"")}function xE(r,s){return s=SE(s),SE(r)===s}function vd(){}function bt(r,s,o,u,p,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||or(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&or(r,""+u);break;case"className":qr(r,"class",u);break;case"tabIndex":qr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(r,o,u);break;case"style":pu(r,u,g);break;case"data":if(s!=="object"){qr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=To(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&bt(r,s,"name",p.name,p,null),bt(r,s,"formEncType",p.formEncType,p,null),bt(r,s,"formMethod",p.formMethod,p,null),bt(r,s,"formTarget",p.formTarget,p,null)):(bt(r,s,"encType",p.encType,p,null),bt(r,s,"method",p.method,p,null),bt(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=To(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=vd);break;case"onScroll":u!=null&&nt("scroll",r);break;case"onScrollEnd":u!=null&&nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=To(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":nt("beforetoggle",r),nt("toggle",r),vs(r,"popover",u);break;case"xlinkActuate":pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pm.get(o)||o,vs(r,o,u))}}function cg(r,s,o,u,p,g){switch(o){case"style":pu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?or(r,u):(typeof u=="number"||typeof u=="bigint")&&or(r,""+u);break;case"onScroll":u!=null&&nt("scroll",r);break;case"onScrollEnd":u!=null&&nt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=vd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,p);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):vs(r,o,u)}}}function _n(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",r),nt("load",r);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(r,s,g,T,o,null)}}p&&bt(r,s,"srcSet",o.srcSet,o,null),u&&bt(r,s,"src",o.src,o,null);return;case"input":nt("invalid",r);var D=g=T=p=null,B=null,Z=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":p=oe;break;case"type":T=oe;break;case"checked":B=oe;break;case"defaultChecked":Z=oe;break;case"value":g=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:bt(r,s,u,oe,o,null)}}Aa(r,g,D,B,Z,T,p,!1),wo(r);return;case"select":nt("invalid",r),u=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(D=o[p],D!=null))switch(p){case"value":g=D;break;case"defaultValue":T=D;break;case"multiple":u=D;default:bt(r,s,p,D,o,null)}s=g,o=T,r.multiple=!!u,s!=null?Ci(r,!!u,s,!1):o!=null&&Ci(r,!!u,o,!0);return;case"textarea":nt("invalid",r),g=p=u=null;for(T in o)if(o.hasOwnProperty(T)&&(D=o[T],D!=null))switch(T){case"value":u=D;break;case"defaultValue":p=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:bt(r,s,T,D,o,null)}Sa(r,u,p,g),wo(r);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:bt(r,s,B,u,o,null)}return;case"dialog":nt("beforetoggle",r),nt("toggle",r),nt("cancel",r),nt("close",r);break;case"iframe":case"object":nt("load",r);break;case"video":case"audio":for(u=0;u<Ju.length;u++)nt(Ju[u],r);break;case"image":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"embed":case"source":case"link":nt("error",r),nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(u=o[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(r,s,Z,u,o,null)}return;default:if(gu(s)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&cg(r,s,oe,u,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(u=o[D],u!=null&&bt(r,s,D,u,o,null))}function cI(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,D=null,B=null,Z=null,oe=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":B=ce;default:u.hasOwnProperty(re)||bt(r,s,re,null,u,ce)}}for(var ee in u){var re=u[ee];if(ce=o[ee],u.hasOwnProperty(ee)&&(re!=null||ce!=null))switch(ee){case"type":g=re;break;case"name":p=re;break;case"checked":Z=re;break;case"defaultChecked":oe=re;break;case"value":T=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==ce&&bt(r,s,ee,re,u,ce)}}Qn(r,T,D,B,Z,oe,g,p);return;case"select":re=T=D=ee=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":re=B;default:u.hasOwnProperty(g)||bt(r,s,g,null,u,B)}for(p in u)if(g=u[p],B=o[p],u.hasOwnProperty(p)&&(g!=null||B!=null))switch(p){case"value":ee=g;break;case"defaultValue":D=g;break;case"multiple":T=g;default:g!==B&&bt(r,s,p,g,u,B)}s=D,o=T,u=re,ee!=null?Ci(r,!!o,ee,!1):!!u!=!!o&&(s!=null?Ci(r,!!o,s,!0):Ci(r,!!o,o?[]:"",!1));return;case"textarea":re=ee=null;for(D in o)if(p=o[D],o.hasOwnProperty(D)&&p!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:bt(r,s,D,null,u,p)}for(T in u)if(p=u[T],g=o[T],u.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":ee=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&bt(r,s,T,p,u,g)}vt(r,ee,re);return;case"option":for(var Fe in o)if(ee=o[Fe],o.hasOwnProperty(Fe)&&ee!=null&&!u.hasOwnProperty(Fe))switch(Fe){case"selected":r.selected=!1;break;default:bt(r,s,Fe,null,u,ee)}for(B in u)if(ee=u[B],re=o[B],u.hasOwnProperty(B)&&ee!==re&&(ee!=null||re!=null))switch(B){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:bt(r,s,B,ee,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)ee=o[Le],o.hasOwnProperty(Le)&&ee!=null&&!u.hasOwnProperty(Le)&&bt(r,s,Le,null,u,ee);for(Z in u)if(ee=u[Z],re=o[Z],u.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:bt(r,s,Z,ee,u,re)}return;default:if(gu(s)){for(var Et in o)ee=o[Et],o.hasOwnProperty(Et)&&ee!==void 0&&!u.hasOwnProperty(Et)&&cg(r,s,Et,void 0,u,ee);for(oe in u)ee=u[oe],re=o[oe],!u.hasOwnProperty(oe)||ee===re||ee===void 0&&re===void 0||cg(r,s,oe,ee,u,re);return}}for(var Q in o)ee=o[Q],o.hasOwnProperty(Q)&&ee!=null&&!u.hasOwnProperty(Q)&&bt(r,s,Q,null,u,ee);for(ce in u)ee=u[ce],re=o[ce],!u.hasOwnProperty(ce)||ee===re||ee==null&&re==null||bt(r,s,ce,ee,u,re)}var fg=null,dg=null;function _d(r){return r.nodeType===9?r:r.ownerDocument}function RE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function hg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mg=null;function fI(){var r=window.event;return r&&r.type==="popstate"?r===mg?!1:(mg=r,!0):(mg=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,dI=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(r){return NE.resolve(null).then(r).catch(mI)}:IE;function mI(r){setTimeout(function(){throw r})}function Ls(r){return r==="head"}function DE(r,s){var o=s,u=0,p=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&tc(T.documentElement),o&2&&tc(T.body),o&4)for(o=T.head,tc(o),T=o.firstChild;T;){var D=T.nextSibling,B=T.nodeName;T[ba]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=D}}if(p===0){r.removeChild(g),uc(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);uc(s)}function pg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pg(o),ys(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function pI(r,s,o,u){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ba])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Sr(r.nextSibling),r===null)break}return null}function gI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Sr(r.nextSibling),r===null))return null;return r}function gg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yI(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var yg=null;function OE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function PE(r,s,o){switch(s=_d(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function tc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ys(r)}var yr=new Map,ME=new Set;function bd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Qi=W.d;W.d={f:vI,r:_I,D:bI,C:EI,L:wI,m:TI,X:SI,S:AI,M:xI};function vI(){var r=Qi.f(),s=fd();return r||s}function _I(r){var s=Fr(r);s!==null&&s.tag===5&&s.type==="form"?eb(s):Qi.r(r)}var rl=typeof document>"u"?null:document;function kE(r,s,o){var u=rl;if(u&&typeof s=="string"&&s){var p=Gt(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),ME.has(p)||(ME.add(p),r={rel:r,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),_n(s,"link",r),zt(s),u.head.appendChild(s)))}}function bI(r){Qi.D(r),kE("dns-prefetch",r,null)}function EI(r,s){Qi.C(r,s),kE("preconnect",r,s)}function wI(r,s,o){Qi.L(r,s,o);var u=rl;if(u&&r&&s){var p='link[rel="preload"][as="'+Gt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Gt(o.imageSizes)+'"]')):p+='[href="'+Gt(r)+'"]';var g=p;switch(s){case"style":g=il(r);break;case"script":g=sl(r)}yr.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),yr.set(g,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(nc(g))||s==="script"&&u.querySelector(rc(g))||(s=u.createElement("link"),_n(s,"link",r),zt(s),u.head.appendChild(s)))}}function TI(r,s){Qi.m(r,s);var o=rl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Gt(u)+'"][href="'+Gt(r)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=sl(r)}if(!yr.has(g)&&(r=y({rel:"modulepreload",href:r},s),yr.set(g,r),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(rc(g)))return}u=o.createElement("link"),_n(u,"link",r),zt(u),o.head.appendChild(u)}}}function AI(r,s,o){Qi.S(r,s,o);var u=rl;if(u&&r){var p=Mn(u).hoistableStyles,g=il(r);s=s||"default";var T=p.get(g);if(!T){var D={loading:0,preload:null};if(T=u.querySelector(nc(g)))D.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=yr.get(g))&&vg(r,o);var B=T=u.createElement("link");zt(B),_n(B,"link",r),B._p=new Promise(function(Z,oe){B.onload=Z,B.onerror=oe}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Ed(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:D},p.set(g,T)}}}function SI(r,s){Qi.X(r,s);var o=rl;if(o&&r){var u=Mn(o).hoistableScripts,p=sl(r),g=u.get(p);g||(g=o.querySelector(rc(p)),g||(r=y({src:r,async:!0},s),(s=yr.get(p))&&_g(r,s),g=o.createElement("script"),zt(g),_n(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function xI(r,s){Qi.M(r,s);var o=rl;if(o&&r){var u=Mn(o).hoistableScripts,p=sl(r),g=u.get(p);g||(g=o.querySelector(rc(p)),g||(r=y({src:r,async:!0,type:"module"},s),(s=yr.get(p))&&_g(r,s),g=o.createElement("script"),zt(g),_n(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function LE(r,s,o,u){var p=(p=pe.current)?bd(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=il(o.href),o=Mn(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=il(o.href);var g=Mn(p).hoistableStyles,T=g.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=p.querySelector(nc(r)))&&!g._p&&(T.instance=g,T.state.loading=5),yr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},yr.set(r,o),g||RI(p,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(o),o=Mn(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function il(r){return'href="'+Gt(r)+'"'}function nc(r){return'link[rel="stylesheet"]['+r+"]"}function VE(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function RI(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),_n(s,"link",o),zt(s),r.head.appendChild(s))}function sl(r){return'[src="'+Gt(r)+'"]'}function rc(r){return"script[async]"+r}function UE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(u)return s.instance=u,zt(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),zt(u),_n(u,"style",p),Ed(u,o.precedence,r),s.instance=u;case"stylesheet":p=il(o.href);var g=r.querySelector(nc(p));if(g)return s.state.loading|=4,s.instance=g,zt(g),g;u=VE(o),(p=yr.get(p))&&vg(u,p),g=(r.ownerDocument||r).createElement("link"),zt(g);var T=g;return T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),_n(g,"link",u),s.state.loading|=4,Ed(g,o.precedence,r),s.instance=g;case"script":return g=sl(o.src),(p=r.querySelector(rc(g)))?(s.instance=p,zt(p),p):(u=o,(p=yr.get(g))&&(u=y({},o),_g(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),zt(p),_n(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ed(u,o.precedence,r));return s.instance}function Ed(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,T=0;T<u.length;T++){var D=u[T];if(D.dataset.precedence===s)g=D;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _g(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var wd=null;function jE(r,s,o){if(wd===null){var u=new Map,p=wd=new Map;p.set(o,u)}else p=wd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var g=o[p];if(!(g[ba]||g[Zt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var D=u.get(T);D?D.push(g):u.set(T,[g])}}return u}function zE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function CI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function BE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ic=null;function II(){}function NI(r,s,o){if(ic===null)throw Error(i(475));var u=ic;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=il(o.href),g=r.querySelector(nc(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Td.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,zt(g);return}g=r.ownerDocument||r,o=VE(o),(p=yr.get(p))&&vg(o,p),g=g.createElement("link"),zt(g);var T=g;T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),_n(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Td.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function DI(){if(ic===null)throw Error(i(475));var r=ic;return r.stylesheets&&r.count===0&&bg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&bg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Td(){if(this.count--,this.count===0){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ad=null;function bg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ad=new Map,s.forEach(OI,r),Ad=null,Td.call(r))}function OI(r,s){if(!(s.state.loading&4)){var o=Ad.get(r);if(o)var u=o.get(null);else{o=new Map,Ad.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,p),o.set(T,p),this.count++,u=Td.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var sc={$$typeof:F,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function PI(r,s,o,u,p,g,T,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function FE(r,s,o,u,p,g,T,D,B,Z,oe,ce){return r=new PI(r,s,o,T,D,B,Z,ce),s=1,g===!0&&(s|=24),g=Yn(3,null,null,s),r.current=g,g.stateNode=r,s=tp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},sp(g),r}function HE(r){return r?(r=Lo,r):Lo}function qE(r,s,o,u,p,g){p=HE(p),u.context===null?u.context=p:u.pendingContext=p,u=Ts(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=As(r,u,s),o!==null&&(er(o,r,s),ku(o,r,s))}function GE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Eg(r,s){GE(r,s),(r=r.alternate)&&GE(r,s)}function $E(r){if(r.tag===13){var s=ko(r,67108864);s!==null&&er(s,r,67108864),Eg(r,67108864)}}var Sd=!0;function MI(r,s,o,u){var p=H.T;H.T=null;var g=W.p;try{W.p=2,wg(r,s,o,u)}finally{W.p=g,H.T=p}}function kI(r,s,o,u){var p=H.T;H.T=null;var g=W.p;try{W.p=8,wg(r,s,o,u)}finally{W.p=g,H.T=p}}function wg(r,s,o,u){if(Sd){var p=Tg(u);if(p===null)ug(r,s,u,xd,o),KE(r,u);else if(VI(p,r,s,o,u))u.stopPropagation();else if(KE(r,u),s&4&&-1<LI.indexOf(r)){for(;p!==null;){var g=Fr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=mn(g.pendingLanes);if(T!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var B=1<<31-jt(T);D.entanglements[1]|=B,T&=~B}ni(g),(gt&6)===0&&(ud=Ce()+500,Zu(0))}}break;case 13:D=ko(g,2),D!==null&&er(D,g,2),fd(),Eg(g,2)}if(g=Tg(u),g===null&&ug(r,s,u,xd,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else ug(r,s,u,null,o)}}function Tg(r){return r=lr(r),Ag(r)}var xd=null;function Ag(r){if(xd=null,r=Si(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return xd=r,null}function QE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Re:return 2;case be:return 8;case Me:case Oe:return 32;case je:return 268435456;default:return 32}default:return 32}}var Sg=!1,Vs=null,Us=null,js=null,ac=new Map,oc=new Map,zs=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(r,s){switch(r){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":ac.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(s.pointerId)}}function lc(r,s,o,u,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Fr(s),s!==null&&$E(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function VI(r,s,o,u,p){switch(s){case"focusin":return Vs=lc(Vs,r,s,o,u,p),!0;case"dragenter":return Us=lc(Us,r,s,o,u,p),!0;case"mouseover":return js=lc(js,r,s,o,u,p),!0;case"pointerover":var g=p.pointerId;return ac.set(g,lc(ac.get(g)||null,r,s,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,oc.set(g,lc(oc.get(g)||null,r,s,o,u,p)),!0}return!1}function YE(r){var s=Si(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ff(r.priority,function(){if(o.tag===13){var u=Jn();u=ms(u);var p=ko(o,u);p!==null&&er(p,o,u),Eg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Tg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ii=u,o.target.dispatchEvent(u),Ii=null}else return s=Fr(o),s!==null&&$E(s),r.blockedOn=o,!1;s.shift()}return!0}function XE(r,s,o){Rd(r)&&o.delete(s)}function UI(){Sg=!1,Vs!==null&&Rd(Vs)&&(Vs=null),Us!==null&&Rd(Us)&&(Us=null),js!==null&&Rd(js)&&(js=null),ac.forEach(XE),oc.forEach(XE)}function Cd(r,s){r.blockedOn===s&&(r.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UI)))}var Id=null;function WE(r){Id!==r&&(Id=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Id===r&&(Id=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(Ag(u||o)===null)continue;break}var g=Fr(o);g!==null&&(r.splice(s,3),s-=3,Ap(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function uc(r){function s(B){return Cd(B,r)}Vs!==null&&Cd(Vs,r),Us!==null&&Cd(Us,r),js!==null&&Cd(js,r),ac.forEach(s),oc.forEach(s);for(var o=0;o<zs.length;o++){var u=zs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<zs.length&&(o=zs[0],o.blockedOn===null);)YE(o),o.blockedOn===null&&zs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],T=p[qt]||null;if(typeof g=="function")T||WE(o);else if(T){var D=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[qt]||null)D=T.formAction;else if(Ag(p)!==null)continue}else D=T.action;typeof D=="function"?o[u+1]=D:(o.splice(u,3),u-=3),WE(o)}}}function xg(r){this._internalRoot=r}Nd.prototype.render=xg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Jn();qE(o,u,r,s,null,null)},Nd.prototype.unmount=xg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qE(r.current,2,null,r,null,null),fd(),s[ar]=null}};function Nd(r){this._internalRoot=r}Nd.prototype.unstable_scheduleHydration=function(r){if(r){var s=ps();r={blockedOn:null,target:r,priority:s};for(var o=0;o<zs.length&&s!==0&&s<zs[o].priority;o++);zs.splice(o,0,r),o===0&&YE(r)}};var ZE=e.version;if(ZE!=="19.1.0")throw Error(i(527,ZE,"19.1.0"));W.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var jI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{$e=Dd.inject(jI),Ye=Dd}catch{}}return fc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",p=mb,g=pb,T=gb,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=FE(r,1,!1,null,null,o,u,p,g,T,D,null),r[ar]=s.current,lg(r),new xg(s)},fc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,p="",g=mb,T=pb,D=gb,B=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),s=FE(r,1,!0,s,o??null,u,p,g,T,D,B,Z),s.context=HE(null),o=s.current,u=Jn(),u=ms(u),p=Ts(u),p.callback=null,As(o,p,u),o=u,s.current.lanes=o,Ai(s,o),ni(s),r[ar]=s.current,lg(r),new Nd(s)},fc.version="19.1.0",fc}var uw;function YI(){if(uw)return Ig.exports;uw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ig.exports=KI(),Ig.exports}var XI=YI(),S=Fl();const tr=mv(S),rA=BI({__proto__:null,default:tr},[S]),WI=1,ZI=1e6;let Mg=0;function JI(){return Mg=(Mg+1)%Number.MAX_SAFE_INTEGER,Mg.toString()}const kg=new Map,cw=n=>{if(kg.has(n))return;const e=setTimeout(()=>{kg.delete(n),Ec({type:"REMOVE_TOAST",toastId:n})},ZI);kg.set(n,e)},eN=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,WI)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?cw(t):n.toasts.forEach(i=>{cw(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Zd=[];let Jd={toasts:[]};function Ec(n){Jd=eN(Jd,n),Zd.forEach(e=>{e(Jd)})}function tN({...n}){const e=JI(),t=a=>Ec({type:"UPDATE_TOAST",toast:{...a,id:e}}),i=()=>Ec({type:"DISMISS_TOAST",toastId:e});return Ec({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:a=>{a||i()}}}),{id:e,dismiss:i,update:t}}function nN(){const[n,e]=S.useState(Jd);return S.useEffect(()=>(Zd.push(e),()=>{const t=Zd.indexOf(e);t>-1&&Zd.splice(t,1)}),[n]),{...n,toast:tN,dismiss:t=>Ec({type:"DISMISS_TOAST",toastId:t})}}var Gh=nA();const rN=mv(Gh);function Ct(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function fw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function iA(...n){return e=>{let t=!1;const i=n.map(a=>{const l=fw(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():fw(n[a],null)}}}}function Bn(...n){return S.useCallback(iA(...n),n)}function iN(n,e){const t=S.createContext(e),i=l=>{const{children:c,...f}=l,h=S.useMemo(()=>f,Object.values(f));return O.jsx(t.Provider,{value:h,children:c})};i.displayName=n+"Provider";function a(l){const c=S.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[i,a]}function Gc(n,e=[]){let t=[];function i(l,c){const f=S.createContext(c),h=t.length;t=[...t,c];const m=v=>{var k;const{scope:b,children:A,...R}=v,x=((k=b==null?void 0:b[n])==null?void 0:k[h])||f,N=S.useMemo(()=>R,Object.values(R));return O.jsx(x.Provider,{value:N,children:A})};m.displayName=l+"Provider";function y(v,b){var x;const A=((x=b==null?void 0:b[n])==null?void 0:x[h])||f,R=S.useContext(A);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,y]}const a=()=>{const l=t.map(c=>S.createContext(c));return function(f){const h=(f==null?void 0:f[n])||l;return S.useMemo(()=>({[`__scope${n}`]:{...f,[n]:h}}),[f,h])}};return a.scopeName=n,[i,sN(a,...e)]}function sN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((f,{useScope:h,scopeName:m})=>{const v=h(l)[`__scope${m}`];return{...f,...v}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Cc(n){const e=oN(n),t=S.forwardRef((i,a)=>{const{children:l,...c}=i,f=S.Children.toArray(l),h=f.find(uN);if(h){const m=h.props.children,y=f.map(v=>v===h?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:v);return O.jsx(e,{...c,ref:a,children:S.isValidElement(m)?S.cloneElement(m,void 0,y):null})}return O.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var aN=Cc("Slot");function oN(n){const e=S.forwardRef((t,i)=>{const{children:a,...l}=t;if(S.isValidElement(a)){const c=fN(a),f=cN(l,a.props);return a.type!==S.Fragment&&(f.ref=i?iA(i,c):c),S.cloneElement(a,f)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var sA=Symbol("radix.slottable");function lN(n){const e=({children:t})=>O.jsx(O.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=sA,e}function uN(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===sA}function cN(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function fN(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function dN(n){const e=n+"CollectionProvider",[t,i]=Gc(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:N,children:k}=x,z=tr.useRef(null),F=tr.useRef(new Map).current;return O.jsx(a,{scope:N,itemMap:F,collectionRef:z,children:k})};c.displayName=e;const f=n+"CollectionSlot",h=Cc(f),m=tr.forwardRef((x,N)=>{const{scope:k,children:z}=x,F=l(f,k),$=Bn(N,F.collectionRef);return O.jsx(h,{ref:$,children:z})});m.displayName=f;const y=n+"CollectionItemSlot",v="data-radix-collection-item",b=Cc(y),A=tr.forwardRef((x,N)=>{const{scope:k,children:z,...F}=x,$=tr.useRef(null),Y=Bn(N,$),ae=l(y,k);return tr.useEffect(()=>(ae.itemMap.set($,{ref:$,...F}),()=>void ae.itemMap.delete($))),O.jsx(b,{[v]:"",ref:Y,children:z})});A.displayName=y;function R(x){const N=l(n+"CollectionConsumer",x);return tr.useCallback(()=>{const z=N.collectionRef.current;if(!z)return[];const F=Array.from(z.querySelectorAll(`[${v}]`));return Array.from(N.itemMap.values()).sort((ae,V)=>F.indexOf(ae.ref.current)-F.indexOf(V.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:m,ItemSlot:A},R,i]}var hN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=hN.reduce((n,e)=>{const t=Cc(`Primitive.${e}`),i=S.forwardRef((a,l)=>{const{asChild:c,...f}=a,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(h,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function aA(n,e){n&&Gh.flushSync(()=>n.dispatchEvent(e))}function pi(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function mN(n,e=globalThis==null?void 0:globalThis.document){const t=pi(n);S.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var pN="DismissableLayer",wy="dismissableLayer.update",gN="dismissableLayer.pointerDownOutside",yN="dismissableLayer.focusOutside",dw,oA=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$h=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...h}=n,m=S.useContext(oA),[y,v]=S.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=S.useState({}),R=Bn(e,V=>v(V)),x=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=x.indexOf(N),z=y?x.indexOf(y):-1,F=m.layersWithOutsidePointerEventsDisabled.size>0,$=z>=k,Y=_N(V=>{const E=V.target,C=[...m.branches].some(I=>I.contains(E));!$||C||(a==null||a(V),c==null||c(V),V.defaultPrevented||f==null||f())},b),ae=bN(V=>{const E=V.target;[...m.branches].some(I=>I.contains(E))||(l==null||l(V),c==null||c(V),V.defaultPrevented||f==null||f())},b);return mN(V=>{z===m.layers.size-1&&(i==null||i(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},b),S.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dw=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),hw(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=dw)}},[y,b,t,m]),S.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),hw())},[y,m]),S.useEffect(()=>{const V=()=>A({});return document.addEventListener(wy,V),()=>document.removeEventListener(wy,V)},[]),O.jsx(Wt.div,{...h,ref:R,style:{pointerEvents:F?$?"auto":"none":void 0,...n.style},onFocusCapture:Ct(n.onFocusCapture,ae.onFocusCapture),onBlurCapture:Ct(n.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:Ct(n.onPointerDownCapture,Y.onPointerDownCapture)})});$h.displayName=pN;var vN="DismissableLayerBranch",lA=S.forwardRef((n,e)=>{const t=S.useContext(oA),i=S.useRef(null),a=Bn(e,i);return S.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),O.jsx(Wt.div,{...n,ref:a})});lA.displayName=vN;function _N(n,e=globalThis==null?void 0:globalThis.document){const t=pi(n),i=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let h=function(){uA(gN,t,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function bN(n,e=globalThis==null?void 0:globalThis.document){const t=pi(n),i=S.useRef(!1);return S.useEffect(()=>{const a=l=>{l.target&&!i.current&&uA(yN,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function hw(){const n=new CustomEvent(wy);document.dispatchEvent(n)}function uA(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?aA(a,l):a.dispatchEvent(l)}var EN=$h,wN=lA,rs=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},TN="Portal",pv=S.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[a,l]=S.useState(!1);rs(()=>l(!0),[]);const c=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?rN.createPortal(O.jsx(Wt.div,{...i,ref:e}),c):null});pv.displayName=TN;function AN(n,e){return S.useReducer((t,i)=>e[t][i]??t,n)}var Hl=n=>{const{present:e,children:t}=n,i=SN(e),a=typeof t=="function"?t({present:i.isPresent}):S.Children.only(t),l=Bn(i.ref,xN(a));return typeof t=="function"||i.isPresent?S.cloneElement(a,{ref:l}):null};Hl.displayName="Presence";function SN(n){const[e,t]=S.useState(),i=S.useRef(null),a=S.useRef(n),l=S.useRef("none"),c=n?"mounted":"unmounted",[f,h]=AN(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const m=Pd(i.current);l.current=f==="mounted"?m:"none"},[f]),rs(()=>{const m=i.current,y=a.current;if(y!==n){const b=l.current,A=Pd(m);n?h("MOUNT"):A==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(y&&b!==A?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,h]),rs(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=A=>{const x=Pd(i.current).includes(A.animationName);if(A.target===e&&x&&(h("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},b=A=>{A.target===e&&(l.current=Pd(i.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:S.useCallback(m=>{i.current=m?getComputedStyle(m):null,t(m)},[])}}function Pd(n){return(n==null?void 0:n.animationName)||"none"}function xN(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var RN=rA[" useInsertionEffect ".trim().toString()]||rs;function cA({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=CN({defaultProp:e,onChange:t}),f=n!==void 0,h=f?n:a;{const y=S.useRef(n!==void 0);S.useEffect(()=>{const v=y.current;v!==f&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,i])}const m=S.useCallback(y=>{var v;if(f){const b=IN(y)?y(n):y;b!==n&&((v=c.current)==null||v.call(c,b))}else l(y)},[f,n,l,c]);return[h,m]}function CN({defaultProp:n,onChange:e}){const[t,i]=S.useState(n),a=S.useRef(t),l=S.useRef(e);return RN(()=>{l.current=e},[e]),S.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function IN(n){return typeof n=="function"}var NN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DN="VisuallyHidden",Qh=S.forwardRef((n,e)=>O.jsx(Wt.span,{...n,ref:e,style:{...NN,...n.style}}));Qh.displayName=DN;var ON=Qh,gv="ToastProvider",[yv,PN,MN]=dN("Toast"),[fA,a7]=Gc("Toast",[MN]),[kN,Kh]=fA(gv),dA=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:c}=n,[f,h]=S.useState(null),[m,y]=S.useState(0),v=S.useRef(!1),b=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${gv}\`. Expected non-empty \`string\`.`),O.jsx(yv.Provider,{scope:e,children:O.jsx(kN,{scope:e,label:t,duration:i,swipeDirection:a,swipeThreshold:l,toastCount:m,viewport:f,onViewportChange:h,onToastAdd:S.useCallback(()=>y(A=>A+1),[]),onToastRemove:S.useCallback(()=>y(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:b,children:c})})};dA.displayName=gv;var hA="ToastViewport",LN=["F8"],Ty="toast.viewportPause",Ay="toast.viewportResume",mA=S.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=LN,label:a="Notifications ({hotkey})",...l}=n,c=Kh(hA,t),f=PN(t),h=S.useRef(null),m=S.useRef(null),y=S.useRef(null),v=S.useRef(null),b=Bn(e,v,c.onViewportChange),A=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=c.toastCount>0;S.useEffect(()=>{const N=k=>{var F;i.length!==0&&i.every($=>k[$]||k.code===$)&&((F=v.current)==null||F.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),S.useEffect(()=>{const N=h.current,k=v.current;if(R&&N&&k){const z=()=>{if(!c.isClosePausedRef.current){const ae=new CustomEvent(Ty);k.dispatchEvent(ae),c.isClosePausedRef.current=!0}},F=()=>{if(c.isClosePausedRef.current){const ae=new CustomEvent(Ay);k.dispatchEvent(ae),c.isClosePausedRef.current=!1}},$=ae=>{!N.contains(ae.relatedTarget)&&F()},Y=()=>{N.contains(document.activeElement)||F()};return N.addEventListener("focusin",z),N.addEventListener("focusout",$),N.addEventListener("pointermove",z),N.addEventListener("pointerleave",Y),window.addEventListener("blur",z),window.addEventListener("focus",F),()=>{N.removeEventListener("focusin",z),N.removeEventListener("focusout",$),N.removeEventListener("pointermove",z),N.removeEventListener("pointerleave",Y),window.removeEventListener("blur",z),window.removeEventListener("focus",F)}}},[R,c.isClosePausedRef]);const x=S.useCallback(({tabbingDirection:N})=>{const z=f().map(F=>{const $=F.ref.current,Y=[$,...YN($)];return N==="forwards"?Y:Y.reverse()});return(N==="forwards"?z.reverse():z).flat()},[f]);return S.useEffect(()=>{const N=v.current;if(N){const k=z=>{var Y,ae,V;const F=z.altKey||z.ctrlKey||z.metaKey;if(z.key==="Tab"&&!F){const E=document.activeElement,C=z.shiftKey;if(z.target===N&&C){(Y=m.current)==null||Y.focus();return}const L=x({tabbingDirection:C?"backwards":"forwards"}),P=L.findIndex(J=>J===E);Lg(L.slice(P+1))?z.preventDefault():C?(ae=m.current)==null||ae.focus():(V=y.current)==null||V.focus()}};return N.addEventListener("keydown",k),()=>N.removeEventListener("keydown",k)}},[f,x]),O.jsxs(wN,{ref:h,role:"region","aria-label":a.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&O.jsx(Sy,{ref:m,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"forwards"});Lg(N)}}),O.jsx(yv.Slot,{scope:t,children:O.jsx(Wt.ol,{tabIndex:-1,...l,ref:b})}),R&&O.jsx(Sy,{ref:y,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"backwards"});Lg(N)}})]})});mA.displayName=hA;var pA="ToastFocusProxy",Sy=S.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...a}=n,l=Kh(pA,t);return O.jsx(Qh,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:c=>{var m;const f=c.relatedTarget;!((m=l.viewport)!=null&&m.contains(f))&&i()}})});Sy.displayName=pA;var $c="Toast",VN="toast.swipeStart",UN="toast.swipeMove",jN="toast.swipeCancel",zN="toast.swipeEnd",gA=S.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:a,onOpenChange:l,...c}=n,[f,h]=cA({prop:i,defaultProp:a??!0,onChange:l,caller:$c});return O.jsx(Hl,{present:t||f,children:O.jsx(HN,{open:f,...c,ref:e,onClose:()=>h(!1),onPause:pi(n.onPause),onResume:pi(n.onResume),onSwipeStart:Ct(n.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ct(n.onSwipeMove,m=>{const{x:y,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Ct(n.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ct(n.onSwipeEnd,m=>{const{x:y,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),h(!1)})})})});gA.displayName=$c;var[BN,FN]=fA($c,{onClose(){}}),HN=S.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:a,open:l,onClose:c,onEscapeKeyDown:f,onPause:h,onResume:m,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:b,onSwipeEnd:A,...R}=n,x=Kh($c,t),[N,k]=S.useState(null),z=Bn(e,J=>k(J)),F=S.useRef(null),$=S.useRef(null),Y=a||x.duration,ae=S.useRef(0),V=S.useRef(Y),E=S.useRef(0),{onToastAdd:C,onToastRemove:I}=x,U=pi(()=>{var he;(N==null?void 0:N.contains(document.activeElement))&&((he=x.viewport)==null||he.focus()),c()}),L=S.useCallback(J=>{!J||J===1/0||(window.clearTimeout(E.current),ae.current=new Date().getTime(),E.current=window.setTimeout(U,J))},[U]);S.useEffect(()=>{const J=x.viewport;if(J){const he=()=>{L(V.current),m==null||m()},H=()=>{const W=new Date().getTime()-ae.current;V.current=V.current-W,window.clearTimeout(E.current),h==null||h()};return J.addEventListener(Ty,H),J.addEventListener(Ay,he),()=>{J.removeEventListener(Ty,H),J.removeEventListener(Ay,he)}}},[x.viewport,Y,h,m,L]),S.useEffect(()=>{l&&!x.isClosePausedRef.current&&L(Y)},[l,Y,x.isClosePausedRef,L]),S.useEffect(()=>(C(),()=>I()),[C,I]);const P=S.useMemo(()=>N?TA(N):null,[N]);return x.viewport?O.jsxs(O.Fragment,{children:[P&&O.jsx(qN,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),O.jsx(BN,{scope:t,onClose:U,children:Gh.createPortal(O.jsx(yv.ItemSlot,{scope:t,children:O.jsx(EN,{asChild:!0,onEscapeKeyDown:Ct(f,()=>{x.isFocusedToastEscapeKeyDownRef.current||U(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:O.jsx(Wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":x.swipeDirection,...R,ref:z,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ct(n.onKeyDown,J=>{J.key==="Escape"&&(f==null||f(J.nativeEvent),J.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Ct(n.onPointerDown,J=>{J.button===0&&(F.current={x:J.clientX,y:J.clientY})}),onPointerMove:Ct(n.onPointerMove,J=>{if(!F.current)return;const he=J.clientX-F.current.x,H=J.clientY-F.current.y,W=!!$.current,G=["left","right"].includes(x.swipeDirection),_e=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,j=G?_e(0,he):0,te=G?0:_e(0,H),se=J.pointerType==="touch"?10:2,ne={x:j,y:te},me={originalEvent:J,delta:ne};W?($.current=ne,Md(UN,v,me,{discrete:!1})):mw(ne,x.swipeDirection,se)?($.current=ne,Md(VN,y,me,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(he)>se||Math.abs(H)>se)&&(F.current=null)}),onPointerUp:Ct(n.onPointerUp,J=>{const he=$.current,H=J.target;if(H.hasPointerCapture(J.pointerId)&&H.releasePointerCapture(J.pointerId),$.current=null,F.current=null,he){const W=J.currentTarget,G={originalEvent:J,delta:he};mw(he,x.swipeDirection,x.swipeThreshold)?Md(zN,A,G,{discrete:!0}):Md(jN,b,G,{discrete:!0}),W.addEventListener("click",_e=>_e.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),qN=n=>{const{__scopeToast:e,children:t,...i}=n,a=Kh($c,e),[l,c]=S.useState(!1),[f,h]=S.useState(!1);return QN(()=>c(!0)),S.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),f?null:O.jsx(pv,{asChild:!0,children:O.jsx(Qh,{...i,children:l&&O.jsxs(O.Fragment,{children:[a.label," ",t]})})})},GN="ToastTitle",yA=S.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return O.jsx(Wt.div,{...i,ref:e})});yA.displayName=GN;var $N="ToastDescription",vA=S.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return O.jsx(Wt.div,{...i,ref:e})});vA.displayName=$N;var _A="ToastAction",bA=S.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?O.jsx(wA,{altText:t,asChild:!0,children:O.jsx(vv,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_A}\`. Expected non-empty \`string\`.`),null)});bA.displayName=_A;var EA="ToastClose",vv=S.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,a=FN(EA,t);return O.jsx(wA,{asChild:!0,children:O.jsx(Wt.button,{type:"button",...i,ref:e,onClick:Ct(n.onClick,a.onClose)})})});vv.displayName=EA;var wA=S.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...a}=n;return O.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...a,ref:e})});function TA(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),KN(i)){const a=i.ariaHidden||i.hidden||i.style.display==="none",l=i.dataset.radixToastAnnounceExclude==="";if(!a)if(l){const c=i.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...TA(i))}}),e}function Md(n,e,t,{discrete:i}){const a=t.originalEvent.currentTarget,l=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?aA(a,l):a.dispatchEvent(l)}var mw=(n,e,t=0)=>{const i=Math.abs(n.x),a=Math.abs(n.y),l=i>a;return e==="left"||e==="right"?l&&i>t:!l&&a>t};function QN(n=()=>{}){const e=pi(n);rs(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function KN(n){return n.nodeType===n.ELEMENT_NODE}function YN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Lg(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var XN=dA,AA=mA,SA=gA,xA=yA,RA=vA,CA=bA,IA=vv;function NA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=NA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function DA(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=NA(n))&&(i&&(i+=" "),i+=e);return i}const pw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gw=DA,_v=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return gw(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(m=>{const y=t==null?void 0:t[m],v=l==null?void 0:l[m];if(y===null)return null;const b=pw(y)||pw(v);return a[m][b]}),f=t&&Object.entries(t).reduce((m,y)=>{let[v,b]=y;return b===void 0||(m[v]=b),m},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,y)=>{let{class:v,className:b,...A}=y;return Object.entries(A).every(R=>{let[x,N]=R;return Array.isArray(N)?N.includes({...l,...f}[x]):{...l,...f}[x]===N})?[...m,v,b]:m},[]);return gw(n,c,h,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),yw=n=>{const e=ZN(n);return e.charAt(0).toUpperCase()+e.slice(1)},OA=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),JN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},h)=>S.createElement("svg",{ref:h,...eD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:OA("lucide",a),...!l&&!JN(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,y])=>S.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=(n,e)=>{const t=S.forwardRef(({className:i,...a},l)=>S.createElement(tD,{ref:l,iconNode:e,className:OA(`lucide-${WN(yw(n))}`,`lucide-${n}`,i),...a}));return t.displayName=yw(n),t};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rD=fs("arrow-left",nD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sD=fs("arrow-right",iD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],oD=fs("house",aD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],uD=fs("menu",lD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M5 12h14",key:"1ays0h"}]],fD=fs("minus",cD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hD=fs("plus",dD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pD=fs("search",mD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],yD=fs("trash-2",gD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PA=fs("x",vD),bv="-",_D=n=>{const e=ED(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const f=c.split(bv);return f[0]===""&&f.length!==1&&f.shift(),MA(f,e)||bD(c)},getConflictingClassGroupIds:(c,f)=>{const h=t[c]||[];return f&&i[c]?[...h,...i[c]]:h}}},MA=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?MA(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(bv);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},vw=/^\[(.+)\]$/,bD=n=>{if(vw.test(n)){const e=vw.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ED=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)xy(t[a],i,a,e);return i},xy=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:_w(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(wD(a)){xy(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{xy(c,_w(e,l),t,i)})})},_w=(n,e)=>{let t=n;return e.split(bv).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},wD=n=>n.isThemeGetter,TD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},Ry="!",Cy=":",AD=Cy.length,SD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,f=0,h=0,m;for(let R=0;R<a.length;R++){let x=a[R];if(c===0&&f===0){if(x===Cy){l.push(a.slice(h,R)),h=R+AD;continue}if(x==="/"){m=R;continue}}x==="["?c++:x==="]"?c--:x==="("?f++:x===")"&&f--}const y=l.length===0?a:a.substring(h),v=xD(y),b=v!==y,A=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:A}};if(e){const a=e+Cy,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},xD=n=>n.endsWith(Ry)?n.substring(0,n.length-1):n.startsWith(Ry)?n.substring(1):n,RD=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},CD=n=>({cache:TD(n.cacheSize),parseClassName:SD(n),sortModifiers:RD(n),..._D(n)}),ID=/\s+/,ND=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=n.trim().split(ID);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:b,hasImportantModifier:A,baseClassName:R,maybePostfixModifierPosition:x}=t(y);if(v){h=y+(h.length>0?" "+h:h);continue}let N=!!x,k=i(N?R.substring(0,x):R);if(!k){if(!N){h=y+(h.length>0?" "+h:h);continue}if(k=i(R),!k){h=y+(h.length>0?" "+h:h);continue}N=!1}const z=l(b).join(":"),F=A?z+Ry:z,$=F+k;if(c.includes($))continue;c.push($);const Y=a(k,N);for(let ae=0;ae<Y.length;++ae){const V=Y[ae];c.push(F+V)}h=y+(h.length>0?" "+h:h)}return h};function DD(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=kA(e))&&(i&&(i+=" "),i+=t);return i}const kA=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=kA(n[i]))&&(t&&(t+=" "),t+=e);return t};function OD(n,...e){let t,i,a,l=c;function c(h){const m=e.reduce((y,v)=>v(y),n());return t=CD(m),i=t.cache.get,a=t.cache.set,l=f,f(h)}function f(h){const m=i(h);if(m)return m;const y=ND(h,t);return a(h,y),y}return function(){return l(DD.apply(null,arguments))}}const rn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},LA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PD=/^\d+\/\d+$/,MD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,al=n=>PD.test(n),We=n=>!!n&&!Number.isNaN(Number(n)),Fs=n=>!!n&&Number.isInteger(Number(n)),Vg=n=>n.endsWith("%")&&We(n.slice(0,-1)),Ki=n=>MD.test(n),jD=()=>!0,zD=n=>kD.test(n)&&!LD.test(n),UA=()=>!1,BD=n=>VD.test(n),FD=n=>UD.test(n),HD=n=>!Se(n)&&!xe(n),qD=n=>ql(n,BA,UA),Se=n=>LA.test(n),Ya=n=>ql(n,FA,zD),Ug=n=>ql(n,YD,We),bw=n=>ql(n,jA,UA),GD=n=>ql(n,zA,FD),kd=n=>ql(n,HA,BD),xe=n=>VA.test(n),dc=n=>Gl(n,FA),$D=n=>Gl(n,XD),Ew=n=>Gl(n,jA),QD=n=>Gl(n,BA),KD=n=>Gl(n,zA),Ld=n=>Gl(n,HA,!0),ql=(n,e,t)=>{const i=LA.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Gl=(n,e,t=!1)=>{const i=VA.exec(n);return i?i[1]?e(i[1]):t:!1},jA=n=>n==="position"||n==="percentage",zA=n=>n==="image"||n==="url",BA=n=>n==="length"||n==="size"||n==="bg-size",FA=n=>n==="length",YD=n=>n==="number",XD=n=>n==="family-name",HA=n=>n==="shadow",WD=()=>{const n=rn("color"),e=rn("font"),t=rn("text"),i=rn("font-weight"),a=rn("tracking"),l=rn("leading"),c=rn("breakpoint"),f=rn("container"),h=rn("spacing"),m=rn("radius"),y=rn("shadow"),v=rn("inset-shadow"),b=rn("text-shadow"),A=rn("drop-shadow"),R=rn("blur"),x=rn("perspective"),N=rn("aspect"),k=rn("ease"),z=rn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...$(),xe,Se],ae=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],E=()=>[xe,Se,h],C=()=>[al,"full","auto",...E()],I=()=>[Fs,"none","subgrid",xe,Se],U=()=>["auto",{span:["full",Fs,xe,Se]},Fs,xe,Se],L=()=>[Fs,"auto",xe,Se],P=()=>["auto","min","max","fr",xe,Se],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],W=()=>[al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],G=()=>[n,xe,Se],_e=()=>[...$(),Ew,bw,{position:[xe,Se]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",QD,qD,{size:[xe,Se]}],se=()=>[Vg,dc,Ya],ne=()=>["","none","full",m,xe,Se],me=()=>["",We,dc,Ya],ge=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[We,Vg,Ew,bw],Pe=()=>["","none",R,xe,Se],Ve=()=>["none",We,xe,Se],qe=()=>["none",We,xe,Se],Ee=()=>[We,xe,Se],Ie=()=>[al,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ki],breakpoint:[Ki],color:[jD],container:[Ki],"drop-shadow":[Ki],ease:["in","out","in-out"],font:[HD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ki],shadow:[Ki],spacing:["px",We],text:[Ki],"text-shadow":[Ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",al,Se,xe,N]}],container:["container"],columns:[{columns:[We,Se,xe,f]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Fs,"auto",xe,Se]}],basis:[{basis:[al,"full","auto",f,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,al,"auto","initial","none",Se]}],grow:[{grow:["",We,xe,Se]}],shrink:[{shrink:["",We,xe,Se]}],order:[{order:[Fs,"first","last","none",xe,Se]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[f,"screen",...W()]}],"min-w":[{"min-w":[f,"screen","none",...W()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,dc,Ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,xe,Ug]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vg,Se]}],"font-family":[{font:[$D,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,xe,Se]}],"line-clamp":[{"line-clamp":[We,"none",xe,Ug]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",xe,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",xe,Ya]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[We,"auto",xe,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fs,xe,Se],radial:["",xe,Se],conic:[Fs,xe,Se]},KD,GD]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,xe,Se]}],"outline-w":[{outline:["",We,dc,Ya]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",y,Ld,kd]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",v,Ld,kd]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[We,Ya]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",b,Ld,kd]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[We,xe,Se]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[xe,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,Se]}],filter:[{filter:["","none",xe,Se]}],blur:[{blur:Pe()}],brightness:[{brightness:[We,xe,Se]}],contrast:[{contrast:[We,xe,Se]}],"drop-shadow":[{"drop-shadow":["","none",A,Ld,kd]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",We,xe,Se]}],"hue-rotate":[{"hue-rotate":[We,xe,Se]}],invert:[{invert:["",We,xe,Se]}],saturate:[{saturate:[We,xe,Se]}],sepia:[{sepia:["",We,xe,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,Se]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[We,xe,Se]}],"backdrop-contrast":[{"backdrop-contrast":[We,xe,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,xe,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,xe,Se]}],"backdrop-invert":[{"backdrop-invert":["",We,xe,Se]}],"backdrop-opacity":[{"backdrop-opacity":[We,xe,Se]}],"backdrop-saturate":[{"backdrop-saturate":[We,xe,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",We,xe,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",xe,Se]}],ease:[{ease:["linear","initial",k,xe,Se]}],delay:[{delay:[We,xe,Se]}],animate:[{animate:["none",z,xe,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,xe,Se]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[xe,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,Se]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[We,dc,Ya,Ug]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZD=OD(WD);function an(...n){return ZD(DA(n))}const JD=XN,qA=S.forwardRef(({className:n,...e},t)=>O.jsx(AA,{ref:t,className:an("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));qA.displayName=AA.displayName;const eO=_v("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GA=S.forwardRef(({className:n,variant:e,...t},i)=>O.jsx(SA,{ref:i,className:an(eO({variant:e}),n),...t}));GA.displayName=SA.displayName;const tO=S.forwardRef(({className:n,...e},t)=>O.jsx(CA,{ref:t,className:an("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));tO.displayName=CA.displayName;const $A=S.forwardRef(({className:n,...e},t)=>O.jsx(IA,{ref:t,className:an("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:O.jsx(PA,{className:"h-4 w-4"})}));$A.displayName=IA.displayName;const QA=S.forwardRef(({className:n,...e},t)=>O.jsx(xA,{ref:t,className:an("text-sm font-semibold",n),...e}));QA.displayName=xA.displayName;const KA=S.forwardRef(({className:n,...e},t)=>O.jsx(RA,{ref:t,className:an("text-sm opacity-90",n),...e}));KA.displayName=RA.displayName;function ww(){const{toasts:n}=nN();return O.jsxs(JD,{children:[n.map(function({id:e,title:t,description:i,action:a,...l}){return O.jsxs(GA,{...l,children:[O.jsxs("div",{className:"grid gap-1",children:[t&&O.jsx(QA,{children:t}),i&&O.jsx(KA,{children:i})]}),a,O.jsx($A,{})]},e)}),O.jsx(qA,{})]})}var nO=rA[" useId ".trim().toString()]||(()=>{}),rO=0;function jg(n){const[e,t]=S.useState(nO());return rs(()=>{t(i=>i??String(rO++))},[n]),n||(e?`radix-${e}`:"")}const iO=["top","right","bottom","left"],la=Math.min,nr=Math.max,ph=Math.round,Vd=Math.floor,ci=n=>({x:n,y:n}),sO={left:"right",right:"left",bottom:"top",top:"bottom"},aO={start:"end",end:"start"};function Iy(n,e,t){return nr(n,la(e,t))}function is(n,e){return typeof n=="function"?n(e):n}function ss(n){return n.split("-")[0]}function $l(n){return n.split("-")[1]}function Ev(n){return n==="x"?"y":"x"}function wv(n){return n==="y"?"height":"width"}function li(n){return["top","bottom"].includes(ss(n))?"y":"x"}function Tv(n){return Ev(li(n))}function oO(n,e,t){t===void 0&&(t=!1);const i=$l(n),a=Tv(n),l=wv(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=gh(c)),[c,gh(c)]}function lO(n){const e=gh(n);return[Ny(n),e,Ny(e)]}function Ny(n){return n.replace(/start|end/g,e=>aO[e])}function uO(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function cO(n,e,t,i){const a=$l(n);let l=uO(ss(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(Ny)))),l}function gh(n){return n.replace(/left|right|bottom|top/g,e=>sO[e])}function fO(n){return{top:0,right:0,bottom:0,left:0,...n}}function YA(n){return typeof n!="number"?fO(n):{top:n,right:n,bottom:n,left:n}}function yh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function Tw(n,e,t){let{reference:i,floating:a}=n;const l=li(e),c=Tv(e),f=wv(c),h=ss(e),m=l==="y",y=i.x+i.width/2-a.width/2,v=i.y+i.height/2-a.height/2,b=i[f]/2-a[f]/2;let A;switch(h){case"top":A={x:y,y:i.y-a.height};break;case"bottom":A={x:y,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:v};break;case"left":A={x:i.x-a.width,y:v};break;default:A={x:i.x,y:i.y}}switch($l(e)){case"start":A[c]-=b*(t&&m?-1:1);break;case"end":A[c]+=b*(t&&m?-1:1);break}return A}const dO=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:y,y:v}=Tw(m,i,h),b=i,A={},R=0;for(let x=0;x<f.length;x++){const{name:N,fn:k}=f[x],{x:z,y:F,data:$,reset:Y}=await k({x:y,y:v,initialPlacement:i,placement:b,strategy:a,middlewareData:A,rects:m,platform:c,elements:{reference:n,floating:e}});y=z??y,v=F??v,A={...A,[N]:{...A[N],...$}},Y&&R<=50&&(R++,typeof Y=="object"&&(Y.placement&&(b=Y.placement),Y.rects&&(m=Y.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):Y.rects),{x:y,y:v}=Tw(m,b,h)),x=-1)}return{x:y,y:v,placement:b,strategy:a,middlewareData:A}};async function Ic(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:h}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:b=!1,padding:A=0}=is(e,n),R=YA(A),N=f[b?v==="floating"?"reference":"floating":v],k=yh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(N)))==null||t?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:h})),z=v==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),$=await(l.isElement==null?void 0:l.isElement(F))?await(l.getScale==null?void 0:l.getScale(F))||{x:1,y:1}:{x:1,y:1},Y=yh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:z,offsetParent:F,strategy:h}):z);return{top:(k.top-Y.top+R.top)/$.y,bottom:(Y.bottom-k.bottom+R.bottom)/$.y,left:(k.left-Y.left+R.left)/$.x,right:(Y.right-k.right+R.right)/$.x}}const hO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:f,middlewareData:h}=e,{element:m,padding:y=0}=is(n,e)||{};if(m==null)return{};const v=YA(y),b={x:t,y:i},A=Tv(a),R=wv(A),x=await c.getDimensions(m),N=A==="y",k=N?"top":"left",z=N?"bottom":"right",F=N?"clientHeight":"clientWidth",$=l.reference[R]+l.reference[A]-b[A]-l.floating[R],Y=b[A]-l.reference[A],ae=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let V=ae?ae[F]:0;(!V||!await(c.isElement==null?void 0:c.isElement(ae)))&&(V=f.floating[F]||l.floating[R]);const E=$/2-Y/2,C=V/2-x[R]/2-1,I=la(v[k],C),U=la(v[z],C),L=I,P=V-x[R]-U,J=V/2-x[R]/2+E,he=Iy(L,J,P),H=!h.arrow&&$l(a)!=null&&J!==he&&l.reference[R]/2-(J<L?I:U)-x[R]/2<0,W=H?J<L?J-L:J-P:0;return{[A]:b[A]+W,data:{[A]:he,centerOffset:J-he-W,...H&&{alignmentOffset:W}},reset:H}}}),mO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:x=!0,...N}=is(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const k=ss(a),z=li(f),F=ss(f)===f,$=await(h.isRTL==null?void 0:h.isRTL(m.floating)),Y=b||(F||!x?[gh(f)]:lO(f)),ae=R!=="none";!b&&ae&&Y.push(...cO(f,x,R,$));const V=[f,...Y],E=await Ic(e,N),C=[];let I=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&C.push(E[k]),v){const J=oO(a,c,$);C.push(E[J[0]],E[J[1]])}if(I=[...I,{placement:a,overflows:C}],!C.every(J=>J<=0)){var U,L;const J=(((U=l.flip)==null?void 0:U.index)||0)+1,he=V[J];if(he&&(!(v==="alignment"?z!==li(he):!1)||I.every(G=>G.overflows[0]>0&&li(G.placement)===z)))return{data:{index:J,overflows:I},reset:{placement:he}};let H=(L=I.filter(W=>W.overflows[0]<=0).sort((W,G)=>W.overflows[1]-G.overflows[1])[0])==null?void 0:L.placement;if(!H)switch(A){case"bestFit":{var P;const W=(P=I.filter(G=>{if(ae){const _e=li(G.placement);return _e===z||_e==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(_e=>_e>0).reduce((_e,j)=>_e+j,0)]).sort((G,_e)=>G[1]-_e[1])[0])==null?void 0:P[0];W&&(H=W);break}case"initialPlacement":H=f;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Aw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Sw(n){return iO.some(e=>n[e]>=0)}const pO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=is(n,e);switch(i){case"referenceHidden":{const l=await Ic(e,{...a,elementContext:"reference"}),c=Aw(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Sw(c)}}}case"escaped":{const l=await Ic(e,{...a,altBoundary:!0}),c=Aw(l,t.floating);return{data:{escapedOffsets:c,escaped:Sw(c)}}}default:return{}}}}};async function gO(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=ss(t),f=$l(t),h=li(t)==="y",m=["left","top"].includes(c)?-1:1,y=l&&h?-1:1,v=is(e,n);let{mainAxis:b,crossAxis:A,alignmentAxis:R}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof R=="number"&&(A=f==="end"?R*-1:R),h?{x:A*y,y:b*m}:{x:b*m,y:A*y}}const yO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:f}=e,h=await gO(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:c}}}}},vO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:N=>{let{x:k,y:z}=N;return{x:k,y:z}}},...h}=is(n,e),m={x:t,y:i},y=await Ic(e,h),v=li(ss(a)),b=Ev(v);let A=m[b],R=m[v];if(l){const N=b==="y"?"top":"left",k=b==="y"?"bottom":"right",z=A+y[N],F=A-y[k];A=Iy(z,A,F)}if(c){const N=v==="y"?"top":"left",k=v==="y"?"bottom":"right",z=R+y[N],F=R-y[k];R=Iy(z,R,F)}const x=f.fn({...e,[b]:A,[v]:R});return{...x,data:{x:x.x-t,y:x.y-i,enabled:{[b]:l,[v]:c}}}}}},_O=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=is(n,e),y={x:t,y:i},v=li(a),b=Ev(v);let A=y[b],R=y[v];const x=is(f,e),N=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(h){const F=b==="y"?"height":"width",$=l.reference[b]-l.floating[F]+N.mainAxis,Y=l.reference[b]+l.reference[F]-N.mainAxis;A<$?A=$:A>Y&&(A=Y)}if(m){var k,z;const F=b==="y"?"width":"height",$=["top","left"].includes(ss(a)),Y=l.reference[v]-l.floating[F]+($&&((k=c.offset)==null?void 0:k[v])||0)+($?0:N.crossAxis),ae=l.reference[v]+l.reference[F]+($?0:((z=c.offset)==null?void 0:z[v])||0)-($?N.crossAxis:0);R<Y?R=Y:R>ae&&(R=ae)}return{[b]:A,[v]:R}}}},bO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:h=()=>{},...m}=is(n,e),y=await Ic(e,m),v=ss(a),b=$l(a),A=li(a)==="y",{width:R,height:x}=l.floating;let N,k;v==="top"||v==="bottom"?(N=v,k=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(k=v,N=b==="end"?"top":"bottom");const z=x-y.top-y.bottom,F=R-y.left-y.right,$=la(x-y[N],z),Y=la(R-y[k],F),ae=!e.middlewareData.shift;let V=$,E=Y;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(E=F),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(V=z),ae&&!b){const I=nr(y.left,0),U=nr(y.right,0),L=nr(y.top,0),P=nr(y.bottom,0);A?E=R-2*(I!==0||U!==0?I+U:nr(y.left,y.right)):V=x-2*(L!==0||P!==0?L+P:nr(y.top,y.bottom))}await h({...e,availableWidth:E,availableHeight:V});const C=await c.getDimensions(f.floating);return R!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Yh(){return typeof window<"u"}function Ql(n){return XA(n)?(n.nodeName||"").toLowerCase():"#document"}function sr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function vi(n){var e;return(e=(XA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function XA(n){return Yh()?n instanceof Node||n instanceof sr(n).Node:!1}function Pr(n){return Yh()?n instanceof Element||n instanceof sr(n).Element:!1}function gi(n){return Yh()?n instanceof HTMLElement||n instanceof sr(n).HTMLElement:!1}function xw(n){return!Yh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof sr(n).ShadowRoot}function Qc(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Mr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function EO(n){return["table","td","th"].includes(Ql(n))}function Xh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Av(n){const e=Sv(),t=Pr(n)?Mr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function wO(n){let e=ua(n);for(;gi(e)&&!Dl(e);){if(Av(e))return e;if(Xh(e))return null;e=ua(e)}return null}function Sv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dl(n){return["html","body","#document"].includes(Ql(n))}function Mr(n){return sr(n).getComputedStyle(n)}function Wh(n){return Pr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ua(n){if(Ql(n)==="html")return n;const e=n.assignedSlot||n.parentNode||xw(n)&&n.host||vi(n);return xw(e)?e.host:e}function WA(n){const e=ua(n);return Dl(e)?n.ownerDocument?n.ownerDocument.body:n.body:gi(e)&&Qc(e)?e:WA(e)}function Nc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=WA(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=sr(a);if(l){const f=Dy(c);return e.concat(c,c.visualViewport||[],Qc(a)?a:[],f&&t?Nc(f):[])}return e.concat(a,Nc(a,[],t))}function Dy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function ZA(n){const e=Mr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=gi(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,f=ph(t)!==l||ph(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function xv(n){return Pr(n)?n:n.contextElement}function gl(n){const e=xv(n);if(!gi(e))return ci(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=ZA(e);let c=(l?ph(t.width):t.width)/i,f=(l?ph(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const TO=ci(0);function JA(n){const e=sr(n);return!Sv()||!e.visualViewport?TO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==sr(n)?!1:e}function io(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=xv(n);let c=ci(1);e&&(i?Pr(i)&&(c=gl(i)):c=gl(n));const f=AO(l,t,i)?JA(l):ci(0);let h=(a.left+f.x)/c.x,m=(a.top+f.y)/c.y,y=a.width/c.x,v=a.height/c.y;if(l){const b=sr(l),A=i&&Pr(i)?sr(i):i;let R=b,x=Dy(R);for(;x&&i&&A!==R;){const N=gl(x),k=x.getBoundingClientRect(),z=Mr(x),F=k.left+(x.clientLeft+parseFloat(z.paddingLeft))*N.x,$=k.top+(x.clientTop+parseFloat(z.paddingTop))*N.y;h*=N.x,m*=N.y,y*=N.x,v*=N.y,h+=F,m+=$,R=sr(x),x=Dy(R)}}return yh({width:y,height:v,x:h,y:m})}function Rv(n,e){const t=Wh(n).scrollLeft;return e?e.left+t:io(vi(n)).left+t}function eS(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Rv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function SO(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=vi(i),f=e?Xh(e.floating):!1;if(i===c||f&&l)return t;let h={scrollLeft:0,scrollTop:0},m=ci(1);const y=ci(0),v=gi(i);if((v||!v&&!l)&&((Ql(i)!=="body"||Qc(c))&&(h=Wh(i)),gi(i))){const A=io(i);m=gl(i),y.x=A.x+i.clientLeft,y.y=A.y+i.clientTop}const b=c&&!v&&!l?eS(c,h,!0):ci(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-h.scrollLeft*m.x+y.x+b.x,y:t.y*m.y-h.scrollTop*m.y+y.y+b.y}}function xO(n){return Array.from(n.getClientRects())}function RO(n){const e=vi(n),t=Wh(n),i=n.ownerDocument.body,a=nr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=nr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Rv(n);const f=-t.scrollTop;return Mr(i).direction==="rtl"&&(c+=nr(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}function CO(n,e){const t=sr(n),i=vi(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,h=0;if(a){l=a.width,c=a.height;const m=Sv();(!m||m&&e==="fixed")&&(f=a.offsetLeft,h=a.offsetTop)}return{width:l,height:c,x:f,y:h}}function IO(n,e){const t=io(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=gi(n)?gl(n):ci(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,h=a*l.x,m=i*l.y;return{width:c,height:f,x:h,y:m}}function Rw(n,e,t){let i;if(e==="viewport")i=CO(n,t);else if(e==="document")i=RO(vi(n));else if(Pr(e))i=IO(e,t);else{const a=JA(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return yh(i)}function tS(n,e){const t=ua(n);return t===e||!Pr(t)||Dl(t)?!1:Mr(t).position==="fixed"||tS(t,e)}function NO(n,e){const t=e.get(n);if(t)return t;let i=Nc(n,[],!1).filter(f=>Pr(f)&&Ql(f)!=="body"),a=null;const l=Mr(n).position==="fixed";let c=l?ua(n):n;for(;Pr(c)&&!Dl(c);){const f=Mr(c),h=Av(c);!h&&f.position==="fixed"&&(a=null),(l?!h&&!a:!h&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qc(c)&&!h&&tS(n,c))?i=i.filter(y=>y!==c):a=f,c=ua(c)}return e.set(n,i),i}function DO(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?Xh(e)?[]:NO(e,this._c):[].concat(t),i],f=c[0],h=c.reduce((m,y)=>{const v=Rw(e,y,a);return m.top=nr(v.top,m.top),m.right=la(v.right,m.right),m.bottom=la(v.bottom,m.bottom),m.left=nr(v.left,m.left),m},Rw(e,f,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function OO(n){const{width:e,height:t}=ZA(n);return{width:e,height:t}}function PO(n,e,t){const i=gi(e),a=vi(e),l=t==="fixed",c=io(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=ci(0);function m(){h.x=Rv(a)}if(i||!i&&!l)if((Ql(e)!=="body"||Qc(a))&&(f=Wh(e)),i){const A=io(e,!0,l,e);h.x=A.x+e.clientLeft,h.y=A.y+e.clientTop}else a&&m();l&&!i&&a&&m();const y=a&&!i&&!l?eS(a,f):ci(0),v=c.left+f.scrollLeft-h.x-y.x,b=c.top+f.scrollTop-h.y-y.y;return{x:v,y:b,width:c.width,height:c.height}}function zg(n){return Mr(n).position==="static"}function Cw(n,e){if(!gi(n)||Mr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return vi(n)===t&&(t=t.ownerDocument.body),t}function nS(n,e){const t=sr(n);if(Xh(n))return t;if(!gi(n)){let a=ua(n);for(;a&&!Dl(a);){if(Pr(a)&&!zg(a))return a;a=ua(a)}return t}let i=Cw(n,e);for(;i&&EO(i)&&zg(i);)i=Cw(i,e);return i&&Dl(i)&&zg(i)&&!Av(i)?t:i||wO(n)||t}const MO=async function(n){const e=this.getOffsetParent||nS,t=this.getDimensions,i=await t(n.floating);return{reference:PO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function kO(n){return Mr(n).direction==="rtl"}const LO={convertOffsetParentRelativeRectToViewportRelativeRect:SO,getDocumentElement:vi,getClippingRect:DO,getOffsetParent:nS,getElementRects:MO,getClientRects:xO,getDimensions:OO,getScale:gl,isElement:Pr,isRTL:kO};function rS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function VO(n,e){let t=null,i;const a=vi(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const m=n.getBoundingClientRect(),{left:y,top:v,width:b,height:A}=m;if(f||e(),!b||!A)return;const R=Vd(v),x=Vd(a.clientWidth-(y+b)),N=Vd(a.clientHeight-(v+A)),k=Vd(y),F={rootMargin:-R+"px "+-x+"px "+-N+"px "+-k+"px",threshold:nr(0,la(1,h))||1};let $=!0;function Y(ae){const V=ae[0].intersectionRatio;if(V!==h){if(!$)return c();V?c(!1,V):i=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!rS(m,n.getBoundingClientRect())&&c(),$=!1}try{t=new IntersectionObserver(Y,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(Y,F)}t.observe(n)}return c(!0),l}function UO(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,m=xv(n),y=a||l?[...m?Nc(m):[],...Nc(e)]:[];y.forEach(k=>{a&&k.addEventListener("scroll",t,{passive:!0}),l&&k.addEventListener("resize",t)});const v=m&&f?VO(m,t):null;let b=-1,A=null;c&&(A=new ResizeObserver(k=>{let[z]=k;z&&z.target===m&&A&&(A.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var F;(F=A)==null||F.observe(e)})),t()}),m&&!h&&A.observe(m),A.observe(e));let R,x=h?io(n):null;h&&N();function N(){const k=io(n);x&&!rS(x,k)&&t(),x=k,R=requestAnimationFrame(N)}return t(),()=>{var k;y.forEach(z=>{a&&z.removeEventListener("scroll",t),l&&z.removeEventListener("resize",t)}),v==null||v(),(k=A)==null||k.disconnect(),A=null,h&&cancelAnimationFrame(R)}}const jO=yO,zO=vO,BO=mO,FO=bO,HO=pO,Iw=hO,qO=_O,GO=(n,e,t)=>{const i=new Map,a={platform:LO,...t},l={...a.platform,_c:i};return dO(n,e,{...a,platform:l})};var $O=typeof document<"u",QO=function(){},eh=$O?S.useLayoutEffect:QO;function vh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!vh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!vh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function iS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Nw(n,e){const t=iS(n);return Math.round(e*t)/t}function Bg(n){const e=S.useRef(n);return eh(()=>{e.current=n}),e}function KO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:h,open:m}=n,[y,v]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,A]=S.useState(i);vh(b,i)||A(i);const[R,x]=S.useState(null),[N,k]=S.useState(null),z=S.useCallback(G=>{G!==ae.current&&(ae.current=G,x(G))},[]),F=S.useCallback(G=>{G!==V.current&&(V.current=G,k(G))},[]),$=l||R,Y=c||N,ae=S.useRef(null),V=S.useRef(null),E=S.useRef(y),C=h!=null,I=Bg(h),U=Bg(a),L=Bg(m),P=S.useCallback(()=>{if(!ae.current||!V.current)return;const G={placement:e,strategy:t,middleware:b};U.current&&(G.platform=U.current),GO(ae.current,V.current,G).then(_e=>{const j={..._e,isPositioned:L.current!==!1};J.current&&!vh(E.current,j)&&(E.current=j,Gh.flushSync(()=>{v(j)}))})},[b,e,t,U,L]);eh(()=>{m===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,v(G=>({...G,isPositioned:!1})))},[m]);const J=S.useRef(!1);eh(()=>(J.current=!0,()=>{J.current=!1}),[]),eh(()=>{if($&&(ae.current=$),Y&&(V.current=Y),$&&Y){if(I.current)return I.current($,Y,P);P()}},[$,Y,P,I,C]);const he=S.useMemo(()=>({reference:ae,floating:V,setReference:z,setFloating:F}),[z,F]),H=S.useMemo(()=>({reference:$,floating:Y}),[$,Y]),W=S.useMemo(()=>{const G={position:t,left:0,top:0};if(!H.floating)return G;const _e=Nw(H.floating,y.x),j=Nw(H.floating,y.y);return f?{...G,transform:"translate("+_e+"px, "+j+"px)",...iS(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:_e,top:j}},[t,f,H.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:P,refs:he,elements:H,floatingStyles:W}),[y,P,he,H,W])}const YO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Iw({element:i.current,padding:a}).fn(t):{}:i?Iw({element:i,padding:a}).fn(t):{}}}},XO=(n,e)=>({...jO(n),options:[n,e]}),WO=(n,e)=>({...zO(n),options:[n,e]}),ZO=(n,e)=>({...qO(n),options:[n,e]}),JO=(n,e)=>({...BO(n),options:[n,e]}),eP=(n,e)=>({...FO(n),options:[n,e]}),tP=(n,e)=>({...HO(n),options:[n,e]}),nP=(n,e)=>({...YO(n),options:[n,e]});var rP="Arrow",sS=S.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return O.jsx(Wt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});sS.displayName=rP;var iP=sS;function sP(n){const[e,t]=S.useState(void 0);return rs(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,f=m.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var aS="Popper",[oS,lS]=Gc(aS),[o7,uS]=oS(aS),cS="PopperAnchor",fS=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=uS(cS,t),c=S.useRef(null),f=Bn(e,c);return S.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:O.jsx(Wt.div,{...a,ref:f})});fS.displayName=cS;var Cv="PopperContent",[aP,oP]=oS(Cv),dS=S.forwardRef((n,e)=>{var ye,Pe,Ve,qe,Ee,Ie;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:A="optimized",onPlaced:R,...x}=n,N=uS(Cv,t),[k,z]=S.useState(null),F=Bn(e,et=>z(et)),[$,Y]=S.useState(null),ae=sP($),V=(ae==null?void 0:ae.width)??0,E=(ae==null?void 0:ae.height)??0,C=i+(l!=="center"?"-"+l:""),I=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},U=Array.isArray(m)?m:[m],L=U.length>0,P={padding:I,boundary:U.filter(uP),altBoundary:L},{refs:J,floatingStyles:he,placement:H,isPositioned:W,middlewareData:G}=KO({strategy:"fixed",placement:C,whileElementsMounted:(...et)=>UO(...et,{animationFrame:A==="always"}),elements:{reference:N.anchor},middleware:[XO({mainAxis:a+E,alignmentAxis:c}),h&&WO({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?ZO():void 0,...P}),h&&JO({...P}),eP({...P,apply:({elements:et,rects:It,availableWidth:Nt,availableHeight:Mt})=>{const{width:Ce,height:Ne}=It.reference,Re=et.floating.style;Re.setProperty("--radix-popper-available-width",`${Nt}px`),Re.setProperty("--radix-popper-available-height",`${Mt}px`),Re.setProperty("--radix-popper-anchor-width",`${Ce}px`),Re.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),$&&nP({element:$,padding:f}),cP({arrowWidth:V,arrowHeight:E}),b&&tP({strategy:"referenceHidden",...P})]}),[_e,j]=pS(H),te=pi(R);rs(()=>{W&&(te==null||te())},[W,te]);const se=(ye=G.arrow)==null?void 0:ye.x,ne=(Pe=G.arrow)==null?void 0:Pe.y,me=((Ve=G.arrow)==null?void 0:Ve.centerOffset)!==0,[ge,pe]=S.useState();return rs(()=>{k&&pe(window.getComputedStyle(k).zIndex)},[k]),O.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:W?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(qe=G.transformOrigin)==null?void 0:qe.x,(Ee=G.transformOrigin)==null?void 0:Ee.y].join(" "),...((Ie=G.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:O.jsx(aP,{scope:t,placedSide:_e,onArrowChange:Y,arrowX:se,arrowY:ne,shouldHideArrow:me,children:O.jsx(Wt.div,{"data-side":_e,"data-align":j,...x,ref:F,style:{...x.style,animation:W?void 0:"none"}})})})});dS.displayName=Cv;var hS="PopperArrow",lP={top:"bottom",right:"left",bottom:"top",left:"right"},mS=S.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=oP(hS,i),c=lP[l.placedSide];return O.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:O.jsx(iP,{...a,ref:t,style:{...a.style,display:"block"}})})});mS.displayName=hS;function uP(n){return n!==null}var cP=n=>({name:"transformOrigin",options:n,fn(e){var N,k,z;const{placement:t,rects:i,middlewareData:a}=e,c=((N=a.arrow)==null?void 0:N.centerOffset)!==0,f=c?0:n.arrowWidth,h=c?0:n.arrowHeight,[m,y]=pS(t),v={start:"0%",center:"50%",end:"100%"}[y],b=(((k=a.arrow)==null?void 0:k.x)??0)+f/2,A=(((z=a.arrow)==null?void 0:z.y)??0)+h/2;let R="",x="";return m==="bottom"?(R=c?v:`${b}px`,x=`${-h}px`):m==="top"?(R=c?v:`${b}px`,x=`${i.floating.height+h}px`):m==="right"?(R=`${-h}px`,x=c?v:`${A}px`):m==="left"&&(R=`${i.floating.width+h}px`,x=c?v:`${A}px`),{data:{x:R,y:x}}}});function pS(n){const[e,t="center"]=n.split("-");return[e,t]}var fP=fS,dP=dS,hP=mS,[Zh,l7]=Gc("Tooltip",[lS]),Iv=lS(),gS="TooltipProvider",mP=700,Dw="tooltip.open",[pP,yS]=Zh(gS),vS=n=>{const{__scopeTooltip:e,delayDuration:t=mP,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:l}=n,c=S.useRef(!0),f=S.useRef(!1),h=S.useRef(0);return S.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),O.jsx(pP,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:S.useCallback(m=>{f.current=m},[]),disableHoverableContent:a,children:l})};vS.displayName=gS;var _S="Tooltip",[u7,Jh]=Zh(_S),Oy="TooltipTrigger",gP=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,a=Jh(Oy,t),l=yS(Oy,t),c=Iv(t),f=S.useRef(null),h=Bn(e,f,a.onTriggerChange),m=S.useRef(!1),y=S.useRef(!1),v=S.useCallback(()=>m.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),O.jsx(fP,{asChild:!0,...c,children:O.jsx(Wt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...i,ref:h,onPointerMove:Ct(n.onPointerMove,b=>{b.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ct(n.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Ct(n.onPointerDown,()=>{a.open&&a.onClose(),m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ct(n.onFocus,()=>{m.current||a.onOpen()}),onBlur:Ct(n.onBlur,a.onClose),onClick:Ct(n.onClick,a.onClose)})})});gP.displayName=Oy;var yP="TooltipPortal",[c7,vP]=Zh(yP,{forceMount:void 0}),Ol="TooltipContent",bS=S.forwardRef((n,e)=>{const t=vP(Ol,n.__scopeTooltip),{forceMount:i=t.forceMount,side:a="top",...l}=n,c=Jh(Ol,n.__scopeTooltip);return O.jsx(Hl,{present:i||c.open,children:c.disableHoverableContent?O.jsx(ES,{side:a,...l,ref:e}):O.jsx(_P,{side:a,...l,ref:e})})}),_P=S.forwardRef((n,e)=>{const t=Jh(Ol,n.__scopeTooltip),i=yS(Ol,n.__scopeTooltip),a=S.useRef(null),l=Bn(e,a),[c,f]=S.useState(null),{trigger:h,onClose:m}=t,y=a.current,{onPointerInTransitChange:v}=i,b=S.useCallback(()=>{f(null),v(!1)},[v]),A=S.useCallback((R,x)=>{const N=R.currentTarget,k={x:R.clientX,y:R.clientY},z=AP(k,N.getBoundingClientRect()),F=SP(k,z),$=xP(x.getBoundingClientRect()),Y=CP([...F,...$]);f(Y),v(!0)},[v]);return S.useEffect(()=>()=>b(),[b]),S.useEffect(()=>{if(h&&y){const R=N=>A(N,y),x=N=>A(N,h);return h.addEventListener("pointerleave",R),y.addEventListener("pointerleave",x),()=>{h.removeEventListener("pointerleave",R),y.removeEventListener("pointerleave",x)}}},[h,y,A,b]),S.useEffect(()=>{if(c){const R=x=>{const N=x.target,k={x:x.clientX,y:x.clientY},z=(h==null?void 0:h.contains(N))||(y==null?void 0:y.contains(N)),F=!RP(k,c);z?b():F&&(b(),m())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[h,y,c,m,b]),O.jsx(ES,{...n,ref:l})}),[bP,EP]=Zh(_S,{isInside:!1}),wP=lN("TooltipContent"),ES=S.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:c,...f}=n,h=Jh(Ol,t),m=Iv(t),{onClose:y}=h;return S.useEffect(()=>(document.addEventListener(Dw,y),()=>document.removeEventListener(Dw,y)),[y]),S.useEffect(()=>{if(h.trigger){const v=b=>{const A=b.target;A!=null&&A.contains(h.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,y]),O.jsx($h,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:O.jsxs(dP,{"data-state":h.stateAttribute,...m,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(wP,{children:i}),O.jsx(bP,{scope:t,isInside:!0,children:O.jsx(ON,{id:h.contentId,role:"tooltip",children:a||i})})]})})});bS.displayName=Ol;var wS="TooltipArrow",TP=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,a=Iv(t);return EP(wS,t).isInside?null:O.jsx(hP,{...a,...i,ref:e})});TP.displayName=wS;function AP(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),a=Math.abs(e.right-n.x),l=Math.abs(e.left-n.x);switch(Math.min(t,i,a,l)){case l:return"left";case a:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function SP(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function xP(n){const{top:e,right:t,bottom:i,left:a}=n;return[{x:a,y:e},{x:t,y:e},{x:t,y:i},{x:a,y:i}]}function RP(n,e){const{x:t,y:i}=n;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const f=e[l],h=e[c],m=f.x,y=f.y,v=h.x,b=h.y;y>i!=b>i&&t<(v-m)*(i-y)/(b-y)+m&&(a=!a)}return a}function CP(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),IP(e)}function IP(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const a=n[i];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))e.pop();else break}e.push(a)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const a=n[i];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))t.pop();else break}t.push(a)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var NP=vS,TS=bS;const DP=NP,OP=S.forwardRef(({className:n,sideOffset:e=4,...t},i)=>O.jsx(TS,{ref:i,sideOffset:e,className:an("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));OP.displayName=TS.displayName;var em=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tm=typeof window>"u"||"Deno"in globalThis;function xr(){}function PP(n,e){return typeof n=="function"?n(e):n}function MP(n){return typeof n=="number"&&n>=0&&n!==1/0}function kP(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Py(n,e){return typeof n=="function"?n(e):n}function LP(n,e){return typeof n=="function"?n(e):n}function Ow(n,e){const{type:t="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:f}=n;if(c){if(i){if(e.queryHash!==Nv(c,e.options))return!1}else if(!Oc(e.queryKey,c))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||l&&!l(e))}function Pw(n,e){const{exact:t,status:i,predicate:a,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(Dc(e.options.mutationKey)!==Dc(l))return!1}else if(!Oc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function Nv(n,e){return((e==null?void 0:e.queryKeyHashFn)||Dc)(n)}function Dc(n){return JSON.stringify(n,(e,t)=>My(t)?Object.keys(t).sort().reduce((i,a)=>(i[a]=t[a],i),{}):t)}function Oc(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Oc(n[t],e[t])):!1}function AS(n,e){if(n===e)return n;const t=Mw(n)&&Mw(e);if(t||My(n)&&My(e)){const i=t?n:Object.keys(n),a=i.length,l=t?e:Object.keys(e),c=l.length,f=t?[]:{},h=new Set(i);let m=0;for(let y=0;y<c;y++){const v=t?y:l[y];(!t&&h.has(v)||t)&&n[v]===void 0&&e[v]===void 0?(f[v]=void 0,m++):(f[v]=AS(n[v],e[v]),f[v]===n[v]&&n[v]!==void 0&&m++)}return a===c&&m===a?n:f}return e}function Mw(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function My(n){if(!kw(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!kw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function kw(n){return Object.prototype.toString.call(n)==="[object Object]"}function VP(n){return new Promise(e=>{setTimeout(e,n)})}function UP(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?AS(n,e):e}function jP(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function zP(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var Dv=Symbol();function SS(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Dv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Za,Xs,wl,K1,BP=(K1=class extends em{constructor(){super();dt(this,Za);dt(this,Xs);dt(this,wl);Qe(this,wl,e=>{if(!tm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){ue(this,Xs)||this.setEventListener(ue(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,Xs))==null||e.call(this),Qe(this,Xs,void 0))}setEventListener(e){var t;Qe(this,wl,e),(t=ue(this,Xs))==null||t.call(this),Qe(this,Xs,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ue(this,Za)!==e&&(Qe(this,Za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof ue(this,Za)=="boolean"?ue(this,Za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Za=new WeakMap,Xs=new WeakMap,wl=new WeakMap,K1),xS=new BP,Tl,Ws,Al,Y1,FP=(Y1=class extends em{constructor(){super();dt(this,Tl,!0);dt(this,Ws);dt(this,Al);Qe(this,Al,e=>{if(!tm&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){ue(this,Ws)||this.setEventListener(ue(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,Ws))==null||e.call(this),Qe(this,Ws,void 0))}setEventListener(e){var t;Qe(this,Al,e),(t=ue(this,Ws))==null||t.call(this),Qe(this,Ws,e(this.setOnline.bind(this)))}setOnline(e){ue(this,Tl)!==e&&(Qe(this,Tl,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ue(this,Tl)}},Tl=new WeakMap,Ws=new WeakMap,Al=new WeakMap,Y1),_h=new FP;function HP(){let n,e;const t=new Promise((a,l)=>{n=a,e=l});t.status="pending",t.catch(()=>{});function i(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{i({status:"fulfilled",value:a}),n(a)},t.reject=a=>{i({status:"rejected",reason:a}),e(a)},t}function qP(n){return Math.min(1e3*2**n,3e4)}function RS(n){return(n??"online")==="online"?_h.isOnline():!0}var CS=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Fg(n){return n instanceof CS}function IS(n){let e=!1,t=0,i=!1,a;const l=HP(),c=x=>{var N;i||(b(new CS(x)),(N=n.abort)==null||N.call(n))},f=()=>{e=!0},h=()=>{e=!1},m=()=>xS.isFocused()&&(n.networkMode==="always"||_h.isOnline())&&n.canRun(),y=()=>RS(n.networkMode)&&n.canRun(),v=x=>{var N;i||(i=!0,(N=n.onSuccess)==null||N.call(n,x),a==null||a(),l.resolve(x))},b=x=>{var N;i||(i=!0,(N=n.onError)==null||N.call(n,x),a==null||a(),l.reject(x))},A=()=>new Promise(x=>{var N;a=k=>{(i||m())&&x(k)},(N=n.onPause)==null||N.call(n)}).then(()=>{var x;a=void 0,i||(x=n.onContinue)==null||x.call(n)}),R=()=>{if(i)return;let x;const N=t===0?n.initialPromise:void 0;try{x=N??n.fn()}catch(k){x=Promise.reject(k)}Promise.resolve(x).then(v).catch(k=>{var ae;if(i)return;const z=n.retry??(tm?0:3),F=n.retryDelay??qP,$=typeof F=="function"?F(t,k):F,Y=z===!0||typeof z=="number"&&t<z||typeof z=="function"&&z(t,k);if(e||!Y){b(k);return}t++,(ae=n.onFail)==null||ae.call(n,t,k),VP($).then(()=>m()?void 0:A()).then(()=>{e?b(k):R()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:f,continueRetry:h,canStart:y,start:()=>(y()?R():A().then(R),l)}}var GP=n=>setTimeout(n,0);function $P(){let n=[],e=0,t=f=>{f()},i=f=>{f()},a=GP;const l=f=>{e?n.push(f):a(()=>{t(f)})},c=()=>{const f=n;n=[],f.length&&a(()=>{i(()=>{f.forEach(h=>{t(h)})})})};return{batch:f=>{let h;e++;try{h=f()}finally{e--,e||c()}return h},batchCalls:f=>(...h)=>{l(()=>{f(...h)})},schedule:l,setNotifyFunction:f=>{t=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{a=f}}}var jn=$P(),Ja,X1,NS=(X1=class{constructor(){dt(this,Ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MP(this.gcTime)&&Qe(this,Ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(tm?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Ja)&&(clearTimeout(ue(this,Ja)),Qe(this,Ja,void 0))}},Ja=new WeakMap,X1),Sl,xl,_r,eo,In,Hc,to,Rr,Yi,W1,QP=(W1=class extends NS{constructor(t){super();dt(this,Rr);dt(this,Sl);dt(this,xl);dt(this,_r);dt(this,eo);dt(this,In);dt(this,Hc);dt(this,to);Qe(this,to,!1),Qe(this,Hc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Qe(this,eo,t.client),Qe(this,_r,ue(this,eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Qe(this,Sl,YP(this.options)),this.state=t.state??ue(this,Sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,In))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,Hc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,_r).remove(this)}setData(t,i){const a=UP(this.state.data,t,this.options);return xn(this,Rr,Yi).call(this,{data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),a}setState(t,i){xn(this,Rr,Yi).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var a,l;const i=(a=ue(this,In))==null?void 0:a.promise;return(l=ue(this,In))==null||l.cancel(t),i?i.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Sl))}isActive(){return this.observers.some(t=>LP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Py(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!kP(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=ue(this,In))==null||i.continue()}onOnline(){var i;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=ue(this,In))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(ue(this,In)&&(ue(this,to)?ue(this,In).cancel({revert:!0}):ue(this,In).cancelRetry()),this.scheduleGc()),ue(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xn(this,Rr,Yi).call(this,{type:"invalidate"})}fetch(t,i){var y,v,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(ue(this,In))return ue(this,In).continueRetry(),ue(this,In).promise}if(t&&this.setOptions(t),!this.options.queryFn){const A=this.observers.find(R=>R.options.queryFn);A&&this.setOptions(A.options)}const a=new AbortController,l=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(Qe(this,to,!0),a.signal)})},c=()=>{const A=SS(this.options,i),x=(()=>{const N={client:ue(this,eo),queryKey:this.queryKey,meta:this.meta};return l(N),N})();return Qe(this,to,!1),this.options.persister?this.options.persister(A,x,this):A(x)},h=(()=>{const A={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:ue(this,eo),state:this.state,fetchFn:c};return l(A),A})();(y=this.options.behavior)==null||y.onFetch(h,this),Qe(this,xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=h.fetchOptions)==null?void 0:v.meta))&&xn(this,Rr,Yi).call(this,{type:"fetch",meta:(b=h.fetchOptions)==null?void 0:b.meta});const m=A=>{var R,x,N,k;Fg(A)&&A.silent||xn(this,Rr,Yi).call(this,{type:"error",error:A}),Fg(A)||((x=(R=ue(this,_r).config).onError)==null||x.call(R,A,this),(k=(N=ue(this,_r).config).onSettled)==null||k.call(N,this.state.data,A,this)),this.scheduleGc()};return Qe(this,In,IS({initialPromise:i==null?void 0:i.initialPromise,fn:h.fetchFn,abort:a.abort.bind(a),onSuccess:A=>{var R,x,N,k;if(A===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(A)}catch(z){m(z);return}(x=(R=ue(this,_r).config).onSuccess)==null||x.call(R,A,this),(k=(N=ue(this,_r).config).onSettled)==null||k.call(N,A,this.state.error,this),this.scheduleGc()},onError:m,onFail:(A,R)=>{xn(this,Rr,Yi).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{xn(this,Rr,Yi).call(this,{type:"pause"})},onContinue:()=>{xn(this,Rr,Yi).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),ue(this,In).start()}},Sl=new WeakMap,xl=new WeakMap,_r=new WeakMap,eo=new WeakMap,In=new WeakMap,Hc=new WeakMap,to=new WeakMap,Rr=new WeakSet,Yi=function(t){const i=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...KP(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=t.error;return Fg(l)&&l.revert&&ue(this,xl)?{...ue(this,xl),fetchStatus:"idle"}:{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=i(this.state),jn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),ue(this,_r).notify({query:this,type:"updated",action:t})})},W1);function KP(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RS(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function YP(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ii,Z1,XP=(Z1=class extends em{constructor(e={}){super();dt(this,ii);this.config=e,Qe(this,ii,new Map)}build(e,t,i){const a=t.queryKey,l=t.queryHash??Nv(a,t);let c=this.get(l);return c||(c=new QP({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){ue(this,ii).has(e.queryHash)||(ue(this,ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=ue(this,ii).get(e.queryHash);t&&(e.destroy(),t===e&&ue(this,ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,ii).get(e)}getAll(){return[...ue(this,ii).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>Ow(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>Ow(e,i)):t}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ii=new WeakMap,Z1),si,Un,no,ai,qs,J1,WP=(J1=class extends NS{constructor(t){super();dt(this,ai);dt(this,si);dt(this,Un);dt(this,no);this.mutationId=t.mutationId,Qe(this,Un,t.mutationCache),Qe(this,si,[]),this.state=t.state||ZP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,si).includes(t)||(ue(this,si).push(t),this.clearGcTimeout(),ue(this,Un).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Qe(this,si,ue(this,si).filter(i=>i!==t)),this.scheduleGc(),ue(this,Un).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,si).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Un).remove(this))}continue(){var t;return((t=ue(this,no))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,f,h,m,y,v,b,A,R,x,N,k,z,F,$,Y,ae,V,E,C;const i=()=>{xn(this,ai,qs).call(this,{type:"continue"})};Qe(this,no,IS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,U)=>{xn(this,ai,qs).call(this,{type:"failed",failureCount:I,error:U})},onPause:()=>{xn(this,ai,qs).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Un).canRun(this)}));const a=this.state.status==="pending",l=!ue(this,no).canStart();try{if(a)i();else{xn(this,ai,qs).call(this,{type:"pending",variables:t,isPaused:l}),await((f=(c=ue(this,Un).config).onMutate)==null?void 0:f.call(c,t,this));const U=await((m=(h=this.options).onMutate)==null?void 0:m.call(h,t));U!==this.state.context&&xn(this,ai,qs).call(this,{type:"pending",context:U,variables:t,isPaused:l})}const I=await ue(this,no).start();return await((v=(y=ue(this,Un).config).onSuccess)==null?void 0:v.call(y,I,t,this.state.context,this)),await((A=(b=this.options).onSuccess)==null?void 0:A.call(b,I,t,this.state.context)),await((x=(R=ue(this,Un).config).onSettled)==null?void 0:x.call(R,I,null,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,I,null,t,this.state.context)),xn(this,ai,qs).call(this,{type:"success",data:I}),I}catch(I){try{throw await((F=(z=ue(this,Un).config).onError)==null?void 0:F.call(z,I,t,this.state.context,this)),await((Y=($=this.options).onError)==null?void 0:Y.call($,I,t,this.state.context)),await((V=(ae=ue(this,Un).config).onSettled)==null?void 0:V.call(ae,void 0,I,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,I,t,this.state.context)),I}finally{xn(this,ai,qs).call(this,{type:"error",error:I})}}finally{ue(this,Un).runNext(this)}}},si=new WeakMap,Un=new WeakMap,no=new WeakMap,ai=new WeakSet,qs=function(t){const i=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),jn.batch(()=>{ue(this,si).forEach(a=>{a.onMutationUpdate(t)}),ue(this,Un).notify({mutation:this,type:"updated",action:t})})},J1);function ZP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zi,Cr,qc,eA,JP=(eA=class extends em{constructor(e={}){super();dt(this,Zi);dt(this,Cr);dt(this,qc);this.config=e,Qe(this,Zi,new Set),Qe(this,Cr,new Map),Qe(this,qc,0)}build(e,t,i){const a=new WP({mutationCache:this,mutationId:++Od(this,qc)._,options:e.defaultMutationOptions(t),state:i});return this.add(a),a}add(e){ue(this,Zi).add(e);const t=Ud(e);if(typeof t=="string"){const i=ue(this,Cr).get(t);i?i.push(e):ue(this,Cr).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ue(this,Zi).delete(e)){const t=Ud(e);if(typeof t=="string"){const i=ue(this,Cr).get(t);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&ue(this,Cr).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ud(e);if(typeof t=="string"){const i=ue(this,Cr).get(t),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const t=Ud(e);if(typeof t=="string"){const a=(i=ue(this,Cr).get(t))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jn.batch(()=>{ue(this,Zi).forEach(e=>{this.notify({type:"removed",mutation:e})}),ue(this,Zi).clear(),ue(this,Cr).clear()})}getAll(){return Array.from(ue(this,Zi))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>Pw(t,i))}findAll(e={}){return this.getAll().filter(t=>Pw(e,t))}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jn.batch(()=>Promise.all(e.map(t=>t.continue().catch(xr))))}},Zi=new WeakMap,Cr=new WeakMap,qc=new WeakMap,eA);function Ud(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Lw(n){return{onFetch:(e,t)=>{var y,v,b,A,R;const i=e.options,a=(b=(v=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,l=((A=e.state.data)==null?void 0:A.pages)||[],c=((R=e.state.data)==null?void 0:R.pageParams)||[];let f={pages:[],pageParams:[]},h=0;const m=async()=>{let x=!1;const N=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},k=SS(e.options,e.fetchOptions),z=async(F,$,Y)=>{if(x)return Promise.reject();if($==null&&F.pages.length)return Promise.resolve(F);const V=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:$,direction:Y?"backward":"forward",meta:e.options.meta};return N(U),U})(),E=await k(V),{maxPages:C}=e.options,I=Y?zP:jP;return{pages:I(F.pages,E,C),pageParams:I(F.pageParams,$,C)}};if(a&&l.length){const F=a==="backward",$=F?e4:Vw,Y={pages:l,pageParams:c},ae=$(i,Y);f=await z(Y,ae,F)}else{const F=n??l.length;do{const $=h===0?c[0]??i.initialPageParam:Vw(i,f);if(h>0&&$==null)break;f=await z(f,$),h++}while(h<F)}return f};e.options.persister?e.fetchFn=()=>{var x,N;return(N=(x=e.options).persister)==null?void 0:N.call(x,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=m}}}function Vw(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function e4(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var Vt,Zs,Js,Rl,Cl,ea,Il,Nl,tA,t4=(tA=class{constructor(n={}){dt(this,Vt);dt(this,Zs);dt(this,Js);dt(this,Rl);dt(this,Cl);dt(this,ea);dt(this,Il);dt(this,Nl);Qe(this,Vt,n.queryCache||new XP),Qe(this,Zs,n.mutationCache||new JP),Qe(this,Js,n.defaultOptions||{}),Qe(this,Rl,new Map),Qe(this,Cl,new Map),Qe(this,ea,0)}mount(){Od(this,ea)._++,ue(this,ea)===1&&(Qe(this,Il,xS.subscribe(async n=>{n&&(await this.resumePausedMutations(),ue(this,Vt).onFocus())})),Qe(this,Nl,_h.subscribe(async n=>{n&&(await this.resumePausedMutations(),ue(this,Vt).onOnline())})))}unmount(){var n,e;Od(this,ea)._--,ue(this,ea)===0&&((n=ue(this,Il))==null||n.call(this),Qe(this,Il,void 0),(e=ue(this,Nl))==null||e.call(this),Qe(this,Nl,void 0))}isFetching(n){return ue(this,Vt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return ue(this,Zs).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ue(this,Vt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=ue(this,Vt).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Py(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return ue(this,Vt).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),a=ue(this,Vt).get(i.queryHash),l=a==null?void 0:a.state.data,c=PP(e,l);if(c!==void 0)return ue(this,Vt).build(this,i).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return jn.batch(()=>ue(this,Vt).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ue(this,Vt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=ue(this,Vt);jn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=ue(this,Vt);return jn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=jn.batch(()=>ue(this,Vt).findAll(n).map(a=>a.cancel(t)));return Promise.all(i).then(xr).catch(xr)}invalidateQueries(n,e={}){return jn.batch(()=>(ue(this,Vt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=jn.batch(()=>ue(this,Vt).findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,t);return t.throwOnError||(l=l.catch(xr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(xr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=ue(this,Vt).build(this,e);return t.isStaleByTime(Py(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xr).catch(xr)}fetchInfiniteQuery(n){return n.behavior=Lw(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xr).catch(xr)}ensureInfiniteQueryData(n){return n.behavior=Lw(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return _h.isOnline()?ue(this,Zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,Vt)}getMutationCache(){return ue(this,Zs)}getDefaultOptions(){return ue(this,Js)}setDefaultOptions(n){Qe(this,Js,n)}setQueryDefaults(n,e){ue(this,Rl).set(Dc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...ue(this,Rl).values()],t={};return e.forEach(i=>{Oc(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){ue(this,Cl).set(Dc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...ue(this,Cl).values()],t={};return e.forEach(i=>{Oc(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...ue(this,Js).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Nv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Dv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...ue(this,Js).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){ue(this,Vt).clear(),ue(this,Zs).clear()}},Vt=new WeakMap,Zs=new WeakMap,Js=new WeakMap,Rl=new WeakMap,Cl=new WeakMap,ea=new WeakMap,Il=new WeakMap,Nl=new WeakMap,tA),n4=S.createContext(void 0),r4=({client:n,children:e})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),O.jsx(n4.Provider,{value:n,children:e})),hc={},Uw;function i4(){if(Uw)return hc;Uw=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.parse=c,hc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,A){const R=new l,x=b.length;if(x<2)return R;const N=(A==null?void 0:A.decode)||y;let k=0;do{const z=b.indexOf("=",k);if(z===-1)break;const F=b.indexOf(";",k),$=F===-1?x:F;if(z>$){k=b.lastIndexOf(";",z-1)+1;continue}const Y=f(b,k,z),ae=h(b,z,Y),V=b.slice(Y,ae);if(R[V]===void 0){let E=f(b,z+1,$),C=h(b,$,E);const I=N(b.slice(E,C));R[V]=I}k=$+1}while(k<x);return R}function f(b,A,R){do{const x=b.charCodeAt(A);if(x!==32&&x!==9)return A}while(++A<R);return R}function h(b,A,R){for(;A>R;){const x=b.charCodeAt(--A);if(x!==32&&x!==9)return A+1}return R}function m(b,A,R){const x=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=x(A);if(!e.test(N))throw new TypeError(`argument val is invalid: ${A}`);let k=b+"="+N;if(!R)return k;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);k+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);k+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);k+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);k+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(k+="; HttpOnly"),R.secure&&(k+="; Secure"),R.partitioned&&(k+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return k}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return a.call(b)==="[object Date]"}return hc}i4();var jw="popstate";function s4(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return ky("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Pc(a)}return o4(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a4(){return Math.random().toString(36).substring(2,10)}function zw(n,e){return{usr:n.state,key:n.key,idx:e}}function ky(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Kl(e):e,state:t,key:e&&e.key||i||a4()}}function Pc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Kl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function o4(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){f="POP";let N=y(),k=N==null?null:N-m;m=N,h&&h({action:f,location:x.location,delta:k})}function b(N,k){f="PUSH";let z=ky(x.location,N,k);m=y()+1;let F=zw(z,m),$=x.createHref(z);try{c.pushState(F,"",$)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign($)}l&&h&&h({action:f,location:x.location,delta:1})}function A(N,k){f="REPLACE";let z=ky(x.location,N,k);m=y();let F=zw(z,m),$=x.createHref(z);c.replaceState(F,"",$),l&&h&&h({action:f,location:x.location,delta:0})}function R(N){return l4(N)}let x={get action(){return f},get location(){return n(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(jw,v),h=N,()=>{a.removeEventListener(jw,v),h=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let k=R(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:A,go(N){return c.go(N)}};return x}function l4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Pc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function DS(n,e,t="/"){return u4(n,e,t,!1)}function u4(n,e,t,i){let a=typeof e=="string"?Kl(e):e,l=as(a.pathname||"/",t);if(l==null)return null;let c=OS(n);c4(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=E4(l);f=_4(c[h],m,i)}return f}function OS(n,e=[],t=[],i=""){let a=(l,c,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Ot(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=ts([i,h.relativePath]),y=t.concat(h);l.children&&l.children.length>0&&(Ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),OS(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:y4(m,l.index),routesMeta:y})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let h of PS(l.path))a(l,c,h)}),e}function PS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=PS(i.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function c4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:v4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var f4=/^:[\w-]+$/,d4=3,h4=2,m4=1,p4=10,g4=-2,Bw=n=>n==="*";function y4(n,e){let t=n.split("/"),i=t.length;return t.some(Bw)&&(i+=g4),e&&(i+=h4),t.filter(a=>!Bw(a)).reduce((a,l)=>a+(f4.test(l)?d4:l===""?m4:p4),i)}function v4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function _4(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),b=h.route;if(!v&&m&&t&&!i[i.length-1].route.index&&(v=bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ts([l,v.pathname]),pathnameBase:S4(ts([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=ts([l,v.pathnameBase]))}return c}function bh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=b4(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let R=f[b]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const A=f[b];return v&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function b4(n,e=!1,t=!0){kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function E4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function as(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function w4(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Kl(n):n;return{pathname:t?t.startsWith("/")?t:T4(t,e):e,search:x4(i),hash:R4(a)}}function T4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function MS(n){let e=A4(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function kS(n,e,t,i=!1){let a;typeof n=="string"?a=Kl(n):(a={...n},Ot(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),Ot(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),Ot(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let v=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}f=v>=0?e[v]:"/"}let h=w4(a,f),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var ts=n=>n.join("/").replace(/\/\/+/g,"/"),S4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),x4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,R4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function C4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var I4=["GET",...LS];new Set(I4);var Yl=S.createContext(null);Yl.displayName="DataRouter";var nm=S.createContext(null);nm.displayName="DataRouterState";var VS=S.createContext({isTransitioning:!1});VS.displayName="ViewTransition";var N4=S.createContext(new Map);N4.displayName="Fetchers";var D4=S.createContext(null);D4.displayName="Await";var _i=S.createContext(null);_i.displayName="Navigation";var Kc=S.createContext(null);Kc.displayName="Location";var bi=S.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Ov=S.createContext(null);Ov.displayName="RouteError";function O4(n,{relative:e}={}){Ot(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(_i),{hash:a,pathname:l,search:c}=Xc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ts([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Yc(){return S.useContext(Kc)!=null}function ds(){return Ot(Yc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Kc).location}var US="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(n){S.useContext(_i).static||S.useLayoutEffect(n)}function rm(){let{isDataRoute:n}=S.useContext(bi);return n?$4():P4()}function P4(){Ot(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Yl),{basename:e,navigator:t}=S.useContext(_i),{matches:i}=S.useContext(bi),{pathname:a}=ds(),l=JSON.stringify(MS(i)),c=S.useRef(!1);return jS(()=>{c.current=!0}),S.useCallback((h,m={})=>{if(kr(c.current,US),!c.current)return;if(typeof h=="number"){t.go(h);return}let y=kS(h,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ts([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}S.createContext(null);function M4(){let{matches:n}=S.useContext(bi),e=n[n.length-1];return e?e.params:{}}function Xc(n,{relative:e}={}){let{matches:t}=S.useContext(bi),{pathname:i}=ds(),a=JSON.stringify(MS(t));return S.useMemo(()=>kS(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function k4(n,e){return zS(n,e)}function zS(n,e,t,i){var k;Ot(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(_i),{matches:l}=S.useContext(bi),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let z=y&&y.path||"";BS(h,!y||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=ds(),b;if(e){let z=typeof e=="string"?Kl(e):e;Ot(m==="/"||((k=z.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${z.pathname}" was given in the \`location\` prop.`),b=z}else b=v;let A=b.pathname||"/",R=A;if(m!=="/"){let z=m.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(z.length).join("/")}let x=DS(n,{pathname:R});kr(y||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),kr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=z4(x&&x.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:ts([m,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:ts([m,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&N?S.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function L4(){let n=G4(),e=C4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var V4=S.createElement(L4,null),U4=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(bi.Provider,{value:this.props.routeContext},S.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j4({routeContext:n,match:e,children:t}){let i=S.useContext(Yl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(bi.Provider,{value:n},t)}function z4(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Ot(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(t)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:y,errors:v}=t,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,m,y)=>{let v,b=!1,A=null,R=null;t&&(v=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||V4,c&&(f<0&&y===0?(BS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,R=null):f===y&&(b=!0,R=m.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,y+1)),N=()=>{let k;return v?k=A:b?k=R:m.route.Component?k=S.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,S.createElement(j4,{match:m,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:k})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(U4,{location:t.location,revalidation:t.revalidation,component:A,error:v,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}function Pv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B4(n){let e=S.useContext(Yl);return Ot(e,Pv(n)),e}function F4(n){let e=S.useContext(nm);return Ot(e,Pv(n)),e}function H4(n){let e=S.useContext(bi);return Ot(e,Pv(n)),e}function Mv(n){let e=H4(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function q4(){return Mv("useRouteId")}function G4(){var i;let n=S.useContext(Ov),e=F4("useRouteError"),t=Mv("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function $4(){let{router:n}=B4("useNavigate"),e=Mv("useNavigate"),t=S.useRef(!1);return jS(()=>{t.current=!0}),S.useCallback(async(a,l={})=>{kr(t.current,US),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Fw={};function BS(n,e,t){!e&&!Fw[n]&&(Fw[n]=!0,kr(!1,t))}S.memo(Q4);function Q4({routes:n,future:e,state:t}){return zS(n,void 0,t,e)}function Xi(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K4({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Ot(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Kl(t));let{pathname:h="/",search:m="",hash:y="",state:v=null,key:b="default"}=t,A=S.useMemo(()=>{let R=as(h,c);return R==null?null:{location:{pathname:R,search:m,hash:y,state:v,key:b},navigationType:i}},[c,h,m,y,v,b,i]);return kr(A!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(_i.Provider,{value:f},S.createElement(Kc.Provider,{children:e,value:A}))}function Y4({children:n,location:e}){return k4(Ly(n),e)}function Ly(n,e=[]){let t=[];return S.Children.forEach(n,(i,a)=>{if(!S.isValidElement(i))return;let l=[...e,a];if(i.type===S.Fragment){t.push.apply(t,Ly(i.props.children,l));return}Ot(i.type===Xi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ly(i.props.children,l)),t.push(c)}),t}var th="get",nh="application/x-www-form-urlencoded";function im(n){return n!=null&&typeof n.tagName=="string"}function X4(n){return im(n)&&n.tagName.toLowerCase()==="button"}function W4(n){return im(n)&&n.tagName.toLowerCase()==="form"}function Z4(n){return im(n)&&n.tagName.toLowerCase()==="input"}function J4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eM(n,e){return n.button===0&&(!e||e==="_self")&&!J4(n)}function Vy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(a=>[t,a]):[[t,i]])},[]))}function tM(n,e){let t=Vy(n);return e&&e.forEach((i,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var jd=null;function nM(){if(jd===null)try{new FormData(document.createElement("form"),0),jd=!1}catch{jd=!0}return jd}var rM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qg(n){return n!=null&&!rM.has(n)?(kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):n}function iM(n,e){let t,i,a,l,c;if(W4(n)){let f=n.getAttribute("action");i=f?as(f,e):null,t=n.getAttribute("method")||th,a=qg(n.getAttribute("enctype"))||nh,l=new FormData(n)}else if(X4(n)||Z4(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?as(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||th,a=qg(n.getAttribute("formenctype"))||qg(f.getAttribute("enctype"))||nh,l=new FormData(f,n),!nM()){let{name:m,type:y,value:v}=n;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,v)}}else{if(im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=th,i=null,a=nh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function kv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oM(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await sM(l,t);return c.links?c.links():[]}return[]}));return fM(i.flat(1).filter(aM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hw(n,e,t,i,a,l){let c=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var y;return t[m].pathname!==h.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):l==="data"?e.filter((h,m)=>{var v;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function lM(n,e,{includeHydrateFallback:t}={}){return uM(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function uM(n){return[...new Set(n)]}function cM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fM(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(cM(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dM=new Set([100,101,204,205]);function hM(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&as(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function FS(){let n=S.useContext(Yl);return kv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mM(){let n=S.useContext(nm);return kv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Lv=S.createContext(void 0);Lv.displayName="FrameworkContext";function HS(){let n=S.useContext(Lv);return kv(n,"You must render this element inside a <HydratedRouter> element"),n}function pM(n,e){let t=S.useContext(Lv),[i,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let x=k=>{k.forEach(z=>{c(z.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[n]),S.useEffect(()=>{if(i){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[i]);let A=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:mc(f,A),onBlur:mc(h,R),onMouseEnter:mc(m,A),onMouseLeave:mc(y,R),onTouchStart:mc(v,A)}]:[!1,b,{}]}function mc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gM({page:n,...e}){let{router:t}=FS(),i=S.useMemo(()=>DS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(vM,{page:n,matches:i,...e}):null}function yM(n){let{manifest:e,routeModules:t}=HS(),[i,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return oM(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function vM({page:n,matches:e,...t}){let i=ds(),{manifest:a,routeModules:l}=HS(),{basename:c}=FS(),{loaderData:f,matches:h}=mM(),m=S.useMemo(()=>Hw(n,e,h,a,i,"data"),[n,e,h,a,i]),y=S.useMemo(()=>Hw(n,e,h,a,i,"assets"),[n,e,h,a,i]),v=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,x=!1;if(e.forEach(k=>{var F;let z=a.routes[k.route.id];!z||!z.hasLoader||(!m.some($=>$.route.id===k.route.id)&&k.route.id in f&&((F=l[k.route.id])!=null&&F.shouldRevalidate)||z.hasClientLoader?x=!0:R.add(k.route.id))}),R.size===0)return[];let N=hM(n,c);return x&&R.size>0&&N.searchParams.set("_routes",e.filter(k=>R.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[c,f,i,a,m,e,n,l]),b=S.useMemo(()=>lM(y,a),[y,a]),A=yM(y);return S.createElement(S.Fragment,null,v.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),b.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),A.map(({key:R,link:x})=>S.createElement("link",{key:R,...x})))}function _M(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.6.2")}catch{}function bM({basename:n,children:e,window:t}){let i=S.useRef();i.current==null&&(i.current=s4({window:t,v5Compat:!0}));let a=i.current,[l,c]=S.useState({action:a.action,location:a.location}),f=S.useCallback(h=>{S.startTransition(()=>c(h))},[c]);return S.useLayoutEffect(()=>a.listen(f),[a,f]),S.createElement(K4,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:m,preventScrollReset:y,viewTransition:v,...b},A){let{basename:R}=S.useContext(_i),x=typeof m=="string"&&GS.test(m),N,k=!1;if(typeof m=="string"&&x&&(N=m,qS))try{let C=new URL(window.location.href),I=m.startsWith("//")?new URL(C.protocol+m):new URL(m),U=as(I.pathname,R);I.origin===C.origin&&U!=null?m=U+I.search+I.hash:k=!0}catch{kr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=O4(m,{relative:a}),[F,$,Y]=pM(i,b),ae=AM(m,{replace:c,state:f,target:h,preventScrollReset:y,relative:a,viewTransition:v});function V(C){e&&e(C),C.defaultPrevented||ae(C)}let E=S.createElement("a",{...b,...Y,href:N||z,onClick:k||l?e:V,ref:_M(A,$),target:h,"data-discover":!x&&t==="render"?"true":void 0});return F&&!x?S.createElement(S.Fragment,null,E,S.createElement(gM,{page:z})):E});ui.displayName="Link";var EM=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...m},y){let v=Xc(c,{relative:m.relative}),b=ds(),A=S.useContext(nm),{navigator:R,basename:x}=S.useContext(_i),N=A!=null&&NM(v)&&f===!0,k=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,z=b.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(z=z.toLowerCase(),F=F?F.toLowerCase():null,k=k.toLowerCase()),F&&x&&(F=as(F,x)||F);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Y=z===k||!a&&z.startsWith(k)&&z.charAt($)==="/",ae=F!=null&&(F===k||!a&&F.startsWith(k)&&F.charAt(k.length)==="/"),V={isActive:Y,isPending:ae,isTransitioning:N},E=Y?e:void 0,C;typeof i=="function"?C=i(V):C=[i,Y?"active":null,ae?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(V):l;return S.createElement(ui,{...m,"aria-current":E,className:C,ref:y,style:I,to:c,viewTransition:f},typeof h=="function"?h(V):h)});EM.displayName="NavLink";var wM=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=th,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:v,...b},A)=>{let R=CM(),x=IM(f,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&GS.test(f),z=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,Y=($==null?void 0:$.getAttribute("formmethod"))||c;R($||F.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v})};return S.createElement("form",{ref:A,method:N,action:x,onSubmit:i?h:z,...b,"data-discover":!k&&n==="render"?"true":void 0})});wM.displayName="Form";function TM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(n){let e=S.useContext(Yl);return Ot(e,TM(n)),e}function AM(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=rm(),h=ds(),m=Xc(n,{relative:l});return S.useCallback(y=>{if(eM(y,e)){y.preventDefault();let v=t!==void 0?t:Pc(h)===Pc(m);f(n,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,m,t,i,e,n,a,l,c])}function SM(n){kr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(Vy(n)),t=S.useRef(!1),i=ds(),a=S.useMemo(()=>tM(i.search,t.current?null:e.current),[i.search]),l=rm(),c=S.useCallback((f,h)=>{const m=Vy(typeof f=="function"?f(a):f);t.current=!0,l("?"+m,h)},[l,a]);return[a,c]}var xM=0,RM=()=>`__${String(++xM)}__`;function CM(){let{router:n}=$S("useSubmit"),{basename:e}=S.useContext(_i),t=q4();return S.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:h,body:m}=iM(i,e);if(a.navigate===!1){let y=a.fetcherKey||RM();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function IM(n,{relative:e}={}){let{basename:t}=S.useContext(_i),i=S.useContext(bi);Ot(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Xc(n||".",{relative:e})},c=ds();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ts([t,l.pathname])),Pc(l)}function NM(n,e={}){let t=S.useContext(VS);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$S("useViewTransitionState"),a=Xc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=as(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=as(t.nextLocation.pathname,i)||t.nextLocation.pathname;return bh(a.pathname,c)!=null||bh(a.pathname,l)!=null}[...dM];const QS=S.createContext(void 0),DM=({children:n})=>{const[e,t]=S.useState([]),i=m=>{t(y=>y.find(b=>b.id===m.id)?y.map(b=>b.id===m.id?{...b,quantity:b.quantity+1}:b):[...y,{...m,quantity:1}])},a=m=>{t(y=>y.filter(v=>v.id!==m))},l=(m,y)=>{if(y<=0){a(m);return}t(v=>v.map(b=>b.id===m?{...b,quantity:y}:b))},c=()=>e.reduce((m,y)=>m+y.price*y.quantity,0),f=()=>e.reduce((m,y)=>m+y.quantity,0),h=()=>{t([])};return O.jsx(QS.Provider,{value:{items:e,addToCart:i,removeFromCart:a,updateQuantity:l,getTotalPrice:c,getTotalItems:f,clearCart:h},children:n})},KS=()=>{const n=S.useContext(QS);if(!n)throw new Error("useCart must be used within a CartProvider");return n},OM=_v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wi=S.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...a},l)=>{const c=i?aN:"button";return O.jsx(c,{className:an(OM({variant:e,size:t,className:n})),ref:l,...a})});Wi.displayName="Button";var Gg="focusScope.autoFocusOnMount",$g="focusScope.autoFocusOnUnmount",qw={bubbles:!1,cancelable:!0},PM="FocusScope",YS=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=n,[f,h]=S.useState(null),m=pi(a),y=pi(l),v=S.useRef(null),b=Bn(e,x=>h(x)),A=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(i){let x=function(F){if(A.paused||!f)return;const $=F.target;f.contains($)?v.current=$:Gs(v.current,{select:!0})},N=function(F){if(A.paused||!f)return;const $=F.relatedTarget;$!==null&&(f.contains($)||Gs(v.current,{select:!0}))},k=function(F){if(document.activeElement===document.body)for(const Y of F)Y.removedNodes.length>0&&Gs(f)};document.addEventListener("focusin",x),document.addEventListener("focusout",N);const z=new MutationObserver(k);return f&&z.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",N),z.disconnect()}}},[i,f,A.paused]),S.useEffect(()=>{if(f){$w.add(A);const x=document.activeElement;if(!f.contains(x)){const k=new CustomEvent(Gg,qw);f.addEventListener(Gg,m),f.dispatchEvent(k),k.defaultPrevented||(MM(jM(XS(f)),{select:!0}),document.activeElement===x&&Gs(f))}return()=>{f.removeEventListener(Gg,m),setTimeout(()=>{const k=new CustomEvent($g,qw);f.addEventListener($g,y),f.dispatchEvent(k),k.defaultPrevented||Gs(x??document.body,{select:!0}),f.removeEventListener($g,y),$w.remove(A)},0)}}},[f,m,y,A]);const R=S.useCallback(x=>{if(!t&&!i||A.paused)return;const N=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,k=document.activeElement;if(N&&k){const z=x.currentTarget,[F,$]=kM(z);F&&$?!x.shiftKey&&k===$?(x.preventDefault(),t&&Gs(F,{select:!0})):x.shiftKey&&k===F&&(x.preventDefault(),t&&Gs($,{select:!0})):k===z&&x.preventDefault()}},[t,i,A.paused]);return O.jsx(Wt.div,{tabIndex:-1,...c,ref:b,onKeyDown:R})});YS.displayName=PM;function MM(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Gs(i,{select:e}),document.activeElement!==t)return}function kM(n){const e=XS(n),t=Gw(e,n),i=Gw(e.reverse(),n);return[t,i]}function XS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gw(n,e){for(const t of n)if(!LM(t,{upTo:e}))return t}function LM(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function VM(n){return n instanceof HTMLInputElement&&"select"in n}function Gs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&VM(n)&&e&&n.select()}}var $w=UM();function UM(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Qw(n,e),n.unshift(e)},remove(e){var t;n=Qw(n,e),(t=n[0])==null||t.resume()}}}function Qw(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function jM(n){return n.filter(e=>e.tagName!=="A")}var Qg=0;function zM(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Kw()),document.body.insertAdjacentElement("beforeend",n[1]??Kw()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qg--}},[])}function Kw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var oi=function(){return oi=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},oi.apply(this,arguments)};function Wc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function BM(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var rh="right-scroll-bar-position",ih="width-before-scroll-bar",FM="with-scroll-bars-hidden",HM="--removed-body-scroll-bar-size";function Kg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function qM(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var GM=typeof window<"u"?S.useLayoutEffect:S.useEffect,Yw=new WeakMap;function $M(n,e){var t=qM(null,function(i){return n.forEach(function(a){return Kg(a,i)})});return GM(function(){var i=Yw.get(t);if(i){var a=new Set(i),l=new Set(n),c=t.current;a.forEach(function(f){l.has(f)||Kg(f,null)}),l.forEach(function(f){a.has(f)||Kg(f,c)})}Yw.set(t,n)},[n]),t}function QM(n){return n}function KM(n,e){e===void 0&&(e=QM);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var h=function(){var y=c;c=[],y.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),t={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),t}}}};return a}function YM(n){n===void 0&&(n={});var e=KM(null);return e.options=oi({async:!0,ssr:!1},n),e}var WS=function(n){var e=n.sideCar,t=Wc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,oi({},t))};WS.isSideCarExport=!0;function XM(n,e){return n.useMedium(e),WS}var ZS=YM(),Yg=function(){},sm=S.forwardRef(function(n,e){var t=S.useRef(null),i=S.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),a=i[0],l=i[1],c=n.forwardProps,f=n.children,h=n.className,m=n.removeScrollBar,y=n.enabled,v=n.shards,b=n.sideCar,A=n.noRelative,R=n.noIsolation,x=n.inert,N=n.allowPinchZoom,k=n.as,z=k===void 0?"div":k,F=n.gapMode,$=Wc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=b,ae=$M([t,e]),V=oi(oi({},$),a);return S.createElement(S.Fragment,null,y&&S.createElement(Y,{sideCar:ZS,removeScrollBar:m,shards:v,noRelative:A,noIsolation:R,inert:x,setCallbacks:l,allowPinchZoom:!!N,lockRef:t,gapMode:F}),c?S.cloneElement(S.Children.only(f),oi(oi({},V),{ref:ae})):S.createElement(z,oi({},V,{className:h,ref:ae}),f))});sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sm.classNames={fullWidth:ih,zeroRight:rh};var WM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=WM();return e&&n.setAttribute("nonce",e),n}function JM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function ek(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var tk=function(){var n=0,e=null;return{add:function(t){n==0&&(e=ZM())&&(JM(e,t),ek(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nk=function(){var n=tk();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},JS=function(){var n=nk(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},rk={left:0,top:0,right:0,gap:0},Xg=function(n){return parseInt(n||"",10)||0},ik=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Xg(t),Xg(i),Xg(a)]},sk=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return rk;var e=ik(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},ak=JS(),yl="data-scroll-locked",ok=function(n,e,t,i){var a=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(FM,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rh,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(ih,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(HM,": ").concat(f,`px;
  }
`)},Xw=function(){var n=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(n)?n:0},lk=function(){S.useEffect(function(){return document.body.setAttribute(yl,(Xw()+1).toString()),function(){var n=Xw()-1;n<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,n.toString())}},[])},uk=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;lk();var l=S.useMemo(function(){return sk(a)},[a]);return S.createElement(ak,{styles:ok(l,!e,a,t?"":"!important")})},Uy=!1;if(typeof window<"u")try{var zd=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{Uy=!1}var ol=Uy?{passive:!1}:!1,ck=function(n){return n.tagName==="TEXTAREA"},ex=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ck(n)&&t[e]==="visible")},fk=function(n){return ex(n,"overflowY")},dk=function(n){return ex(n,"overflowX")},Ww=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=tx(n,i);if(a){var l=nx(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},hk=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},mk=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},tx=function(n,e){return n==="v"?fk(e):dk(e)},nx=function(n,e){return n==="v"?hk(e):mk(e)},pk=function(n,e){return n==="h"&&e==="rtl"?-1:1},gk=function(n,e,t,i,a){var l=pk(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,h=e.contains(f),m=!1,y=c>0,v=0,b=0;do{if(!f)break;var A=nx(n,f),R=A[0],x=A[1],N=A[2],k=x-N-l*R;(R||k)&&tx(n,f)&&(v+=k,b+=R);var z=f.parentNode;f=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(y&&Math.abs(v)<1||!y&&Math.abs(b)<1)&&(m=!0),m},Bd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Zw=function(n){return[n.deltaX,n.deltaY]},Jw=function(n){return n&&"current"in n?n.current:n},yk=function(n,e){return n[0]===e[0]&&n[1]===e[1]},vk=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},_k=0,ll=[];function bk(n){var e=S.useRef([]),t=S.useRef([0,0]),i=S.useRef(),a=S.useState(_k++)[0],l=S.useState(JS)[0],c=S.useRef(n);S.useEffect(function(){c.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var x=BM([n.lockRef.current],(n.shards||[]).map(Jw),!0).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=S.useCallback(function(x,N){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!c.current.allowPinchZoom;var k=Bd(x),z=t.current,F="deltaX"in x?x.deltaX:z[0]-k[0],$="deltaY"in x?x.deltaY:z[1]-k[1],Y,ae=x.target,V=Math.abs(F)>Math.abs($)?"h":"v";if("touches"in x&&V==="h"&&ae.type==="range")return!1;var E=Ww(V,ae);if(!E)return!0;if(E?Y=V:(Y=V==="v"?"h":"v",E=Ww(V,ae)),!E)return!1;if(!i.current&&"changedTouches"in x&&(F||$)&&(i.current=Y),!Y)return!0;var C=i.current||Y;return gk(C,N,x,C==="h"?F:$)},[]),h=S.useCallback(function(x){var N=x;if(!(!ll.length||ll[ll.length-1]!==l)){var k="deltaY"in N?Zw(N):Bd(N),z=e.current.filter(function(Y){return Y.name===N.type&&(Y.target===N.target||N.target===Y.shadowParent)&&yk(Y.delta,k)})[0];if(z&&z.should){N.cancelable&&N.preventDefault();return}if(!z){var F=(c.current.shards||[]).map(Jw).filter(Boolean).filter(function(Y){return Y.contains(N.target)}),$=F.length>0?f(N,F[0]):!c.current.noIsolation;$&&N.cancelable&&N.preventDefault()}}},[]),m=S.useCallback(function(x,N,k,z){var F={name:x,delta:N,target:k,should:z,shadowParent:Ek(k)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function($){return $!==F})},1)},[]),y=S.useCallback(function(x){t.current=Bd(x),i.current=void 0},[]),v=S.useCallback(function(x){m(x.type,Zw(x),x.target,f(x,n.lockRef.current))},[]),b=S.useCallback(function(x){m(x.type,Bd(x),x.target,f(x,n.lockRef.current))},[]);S.useEffect(function(){return ll.push(l),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",h,ol),document.addEventListener("touchmove",h,ol),document.addEventListener("touchstart",y,ol),function(){ll=ll.filter(function(x){return x!==l}),document.removeEventListener("wheel",h,ol),document.removeEventListener("touchmove",h,ol),document.removeEventListener("touchstart",y,ol)}},[]);var A=n.removeScrollBar,R=n.inert;return S.createElement(S.Fragment,null,R?S.createElement(l,{styles:vk(a)}):null,A?S.createElement(uk,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Ek(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const wk=XM(ZS,bk);var rx=S.forwardRef(function(n,e){return S.createElement(sm,oi({},n,{ref:e,sideCar:wk}))});rx.classNames=sm.classNames;var Tk=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ul=new WeakMap,Fd=new WeakMap,Hd={},Wg=0,ix=function(n){return n&&(n.host||ix(n.parentNode))},Ak=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=ix(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Sk=function(n,e,t,i){var a=Ak(e,Array.isArray(n)?n:[n]);Hd[t]||(Hd[t]=new WeakMap);var l=Hd[t],c=[],f=new Set,h=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(b){if(f.has(b))y(b);else try{var A=b.getAttribute(i),R=A!==null&&A!=="false",x=(ul.get(b)||0)+1,N=(l.get(b)||0)+1;ul.set(b,x),l.set(b,N),c.push(b),x===1&&R&&Fd.set(b,!0),N===1&&b.setAttribute(t,"true"),R||b.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return y(e),f.clear(),Wg++,function(){c.forEach(function(v){var b=ul.get(v)-1,A=l.get(v)-1;ul.set(v,b),l.set(v,A),b||(Fd.has(v)||v.removeAttribute(i),Fd.delete(v)),A||v.removeAttribute(t)}),Wg--,Wg||(ul=new WeakMap,ul=new WeakMap,Fd=new WeakMap,Hd={})}},xk=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=Tk(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),Sk(i,a,t,"aria-hidden")):function(){return null}},am="Dialog",[sx,h7]=Gc(am),[Rk,Ur]=sx(am),ax=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=n,f=S.useRef(null),h=S.useRef(null),[m,y]=cA({prop:i,defaultProp:a??!1,onChange:l,caller:am});return O.jsx(Rk,{scope:e,triggerRef:f,contentRef:h,contentId:jg(),titleId:jg(),descriptionId:jg(),open:m,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(v=>!v),[y]),modal:c,children:t})};ax.displayName=am;var ox="DialogTrigger",lx=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Ur(ox,t),l=Bn(e,a.triggerRef);return O.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jv(a.open),...i,ref:l,onClick:Ct(n.onClick,a.onOpenToggle)})});lx.displayName=ox;var Vv="DialogPortal",[Ck,ux]=sx(Vv,{forceMount:void 0}),cx=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:a}=n,l=Ur(Vv,e);return O.jsx(Ck,{scope:e,forceMount:t,children:S.Children.map(i,c=>O.jsx(Hl,{present:t||l.open,children:O.jsx(pv,{asChild:!0,container:a,children:c})}))})};cx.displayName=Vv;var Eh="DialogOverlay",fx=S.forwardRef((n,e)=>{const t=ux(Eh,n.__scopeDialog),{forceMount:i=t.forceMount,...a}=n,l=Ur(Eh,n.__scopeDialog);return l.modal?O.jsx(Hl,{present:i||l.open,children:O.jsx(Nk,{...a,ref:e})}):null});fx.displayName=Eh;var Ik=Cc("DialogOverlay.RemoveScroll"),Nk=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Ur(Eh,t);return O.jsx(rx,{as:Ik,allowPinchZoom:!0,shards:[a.contentRef],children:O.jsx(Wt.div,{"data-state":jv(a.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),so="DialogContent",dx=S.forwardRef((n,e)=>{const t=ux(so,n.__scopeDialog),{forceMount:i=t.forceMount,...a}=n,l=Ur(so,n.__scopeDialog);return O.jsx(Hl,{present:i||l.open,children:l.modal?O.jsx(Dk,{...a,ref:e}):O.jsx(Ok,{...a,ref:e})})});dx.displayName=so;var Dk=S.forwardRef((n,e)=>{const t=Ur(so,n.__scopeDialog),i=S.useRef(null),a=Bn(e,t.contentRef,i);return S.useEffect(()=>{const l=i.current;if(l)return xk(l)},[]),O.jsx(hx,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ct(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&l.preventDefault()}),onFocusOutside:Ct(n.onFocusOutside,l=>l.preventDefault())})}),Ok=S.forwardRef((n,e)=>{const t=Ur(so,n.__scopeDialog),i=S.useRef(!1),a=S.useRef(!1);return O.jsx(hx,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,f;(c=n.onCloseAutoFocus)==null||c.call(n,l),l.defaultPrevented||(i.current||(f=t.triggerRef.current)==null||f.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{var h,m;(h=n.onInteractOutside)==null||h.call(n,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((m=t.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),hx=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=n,f=Ur(so,t),h=S.useRef(null),m=Bn(e,h);return zM(),O.jsxs(O.Fragment,{children:[O.jsx(YS,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:O.jsx($h,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":jv(f.open),...c,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(Pk,{titleId:f.titleId}),O.jsx(kk,{contentRef:h,descriptionId:f.descriptionId})]})]})}),Uv="DialogTitle",mx=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Ur(Uv,t);return O.jsx(Wt.h2,{id:a.titleId,...i,ref:e})});mx.displayName=Uv;var px="DialogDescription",gx=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Ur(px,t);return O.jsx(Wt.p,{id:a.descriptionId,...i,ref:e})});gx.displayName=px;var yx="DialogClose",vx=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Ur(yx,t);return O.jsx(Wt.button,{type:"button",...i,ref:e,onClick:Ct(n.onClick,()=>a.onOpenChange(!1))})});vx.displayName=yx;function jv(n){return n?"open":"closed"}var _x="DialogTitleWarning",[m7,bx]=iN(_x,{contentName:so,titleName:Uv,docsSlug:"dialog"}),Pk=({titleId:n})=>{const e=bx(_x),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Mk="DialogDescriptionWarning",kk=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bx(Mk).contentName}}.`;return S.useEffect(()=>{var l;const a=(l=n.current)==null?void 0:l.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},Lk=ax,Vk=lx,Uk=cx,Ex=fx,wx=dx,Tx=mx,Ax=gx,jk=vx;const zk=Lk,Bk=Vk,Fk=Uk,Sx=S.forwardRef(({className:n,...e},t)=>O.jsx(Ex,{className:an("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));Sx.displayName=Ex.displayName;const Hk=_v("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xx=S.forwardRef(({side:n="right",className:e,children:t,...i},a)=>O.jsxs(Fk,{children:[O.jsx(Sx,{}),O.jsxs(wx,{ref:a,className:an(Hk({side:n}),e),...i,children:[t,O.jsxs(jk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[O.jsx(PA,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xx.displayName=wx.displayName;const qk=S.forwardRef(({className:n,...e},t)=>O.jsx(Tx,{ref:t,className:an("text-lg font-semibold text-foreground",n),...e}));qk.displayName=Tx.displayName;const Gk=S.forwardRef(({className:n,...e},t)=>O.jsx(Ax,{ref:t,className:an("text-sm text-muted-foreground",n),...e}));Gk.displayName=Ax.displayName;const $k=()=>{};var eT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Qk=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Cx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,m=h?n[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let b=(f&15)<<2|m>>6,A=m&63;h||(A=64,c||(b=64)),i.push(t[y],t[v],t[b],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Rx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Qk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||v==null)throw new Kk;const b=l<<2|f>>4;if(i.push(b),m!==64){const A=f<<4&240|m>>2;if(i.push(A),v!==64){const R=m<<6&192|v;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Kk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yk=function(n){const e=Rx(n);return Cx.encodeByteArray(e,!0)},wh=function(n){return Yk(n).replace(/\./g,"")},Ix=function(n){try{return Cx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=()=>Xk().__FIREBASE_DEFAULTS__,Zk=()=>{if(typeof process>"u"||typeof eT>"u")return;const n=eT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ix(n[1]);return e&&JSON.parse(e)},om=()=>{try{return $k()||Wk()||Zk()||Jk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nx=n=>{var e,t;return(t=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},e6=n=>{const e=Nx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Dx=()=>{var n;return(n=om())===null||n===void 0?void 0:n.config},Ox=n=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n){return n.endsWith(".cloudworkstations.dev")}async function Px(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wh(JSON.stringify(t)),wh(JSON.stringify(c)),""].join(".")}const wc={};function r6(){const n={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?n.emulator.push(e):n.prod.push(e);return n}function i6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let tT=!1;function Mx(n,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||wc[n]===e||wc[n]||tT)return;wc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=r6().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tT=!0,c()},b}function y(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=i6(i),A=t("text"),R=document.getElementById(A)||document.createElement("span"),x=t("learnmore"),N=document.getElementById(x)||document.createElement("a"),k=t("preprendIcon"),z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;f(F),y(N,x);const $=m();h(z,k),F.append(z,R,N,$),document.body.appendChild(F)}l?(R.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function a6(){var n;const e=(n=om())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c6(){const n=On();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function f6(){return!a6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d6(){try{return typeof indexedDB=="object"}catch{return!1}}function h6(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="FirebaseError";class hs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=m6,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?p6(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new hs(a,f,i)}}function p6(n,e){return n.replace(g6,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const g6=/\{\$([^}]+)}/g;function y6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ao(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(nT(l)&&nT(c)){if(!ao(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function nT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function gc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function v6(n,e){const t=new _6(n,e);return t.subscribe.bind(t)}class _6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");b6(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Zg),a.error===void 0&&(a.error=Zg),a.complete===void 0&&(a.complete=Zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class oo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new t6;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T6(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w6(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w6(n){return n===Xa?void 0:n}function T6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const S6={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},x6=rt.INFO,R6={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},C6=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=R6[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zv{constructor(e){this.name=e,this._logLevel=x6,this._logHandler=C6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const I6=(n,e)=>e.some(t=>n instanceof t);let rT,iT;function N6(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D6(){return iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kx=new WeakMap,jy=new WeakMap,Lx=new WeakMap,Jg=new WeakMap,Bv=new WeakMap;function O6(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(na(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&kx.set(t,n)}).catch(()=>{}),Bv.set(e,n),e}function P6(n){if(jy.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});jy.set(n,e)}let zy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return na(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function M6(n){zy=n(zy)}function k6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ey(this),e,...t);return Lx.set(i,e.sort?e.sort():[e]),na(i)}:D6().includes(n)?function(...e){return n.apply(ey(this),e),na(kx.get(this))}:function(...e){return na(n.apply(ey(this),e))}}function L6(n){return typeof n=="function"?k6(n):(n instanceof IDBTransaction&&P6(n),I6(n,N6())?new Proxy(n,zy):n)}function na(n){if(n instanceof IDBRequest)return O6(n);if(Jg.has(n))return Jg.get(n);const e=L6(n);return e!==n&&(Jg.set(n,e),Bv.set(e,n)),e}const ey=n=>Bv.get(n);function V6(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=na(c);return i&&c.addEventListener("upgradeneeded",h=>{i(na(c.result),h.oldVersion,h.newVersion,na(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const U6=["get","getKey","getAll","getAllKeys","count"],j6=["put","add","delete","clear"],ty=new Map;function sT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=j6.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||U6.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&h.done]))[0]};return ty.set(e,l),l}M6(n=>({...n,get:(e,t,i)=>sT(e,t)||n.get(e,t,i),has:(e,t)=>!!sT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B6(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function B6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const By="@firebase/app",aT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new zv("@firebase/app"),F6="@firebase/app-compat",H6="@firebase/analytics-compat",q6="@firebase/analytics",G6="@firebase/app-check-compat",$6="@firebase/app-check",Q6="@firebase/auth",K6="@firebase/auth-compat",Y6="@firebase/database",X6="@firebase/data-connect",W6="@firebase/database-compat",Z6="@firebase/functions",J6="@firebase/functions-compat",eL="@firebase/installations",tL="@firebase/installations-compat",nL="@firebase/messaging",rL="@firebase/messaging-compat",iL="@firebase/performance",sL="@firebase/performance-compat",aL="@firebase/remote-config",oL="@firebase/remote-config-compat",lL="@firebase/storage",uL="@firebase/storage-compat",cL="@firebase/firestore",fL="@firebase/ai",dL="@firebase/firestore-compat",hL="firebase",mL="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="[DEFAULT]",pL={[By]:"fire-core",[F6]:"fire-core-compat",[q6]:"fire-analytics",[H6]:"fire-analytics-compat",[$6]:"fire-app-check",[G6]:"fire-app-check-compat",[Q6]:"fire-auth",[K6]:"fire-auth-compat",[Y6]:"fire-rtdb",[X6]:"fire-data-connect",[W6]:"fire-rtdb-compat",[Z6]:"fire-fn",[J6]:"fire-fn-compat",[eL]:"fire-iid",[tL]:"fire-iid-compat",[nL]:"fire-fcm",[rL]:"fire-fcm-compat",[iL]:"fire-perf",[sL]:"fire-perf-compat",[aL]:"fire-rc",[oL]:"fire-rc-compat",[lL]:"fire-gcs",[uL]:"fire-gcs-compat",[cL]:"fire-fst",[dL]:"fire-fst-compat",[fL]:"fire-vertex","fire-js":"fire-js",[hL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,gL=new Map,Hy=new Map;function oT(n,e){try{n.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pl(n){const e=n.name;if(Hy.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,n);for(const t of Th.values())oT(t,n);for(const t of gL.values())oT(t,n);return!0}function Fv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ir(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new Zc("app","Firebase",yL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=mL;function Vx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Fy,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw ra.create("bad-app-name",{appName:String(a)});if(t||(t=Dx()),!t)throw ra.create("no-options");const l=Th.get(a);if(l){if(ao(t,l.options)&&ao(i,l.config))return l;throw ra.create("duplicate-app",{appName:a})}const c=new A6(a);for(const h of Hy.values())c.addComponent(h);const f=new vL(t,i,c);return Th.set(a,f),f}function Ux(n=Fy){const e=Th.get(n);if(!e&&n===Fy&&Dx())return Vx();if(!e)throw ra.create("no-app",{appName:n});return e}function ia(n,e,t){var i;let a=(i=pL[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}Pl(new oo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="firebase-heartbeat-database",bL=1,Mc="firebase-heartbeat-store";let ny=null;function jx(){return ny||(ny=V6(_L,bL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ra.create("idb-open",{originalErrorMessage:n.message})})),ny}async function EL(n){try{const t=(await jx()).transaction(Mc),i=await t.objectStore(Mc).get(zx(n));return await t.done,i}catch(e){if(e instanceof hs)os.warn(e.message);else{const t=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(t.message)}}}async function lT(n,e){try{const i=(await jx()).transaction(Mc,"readwrite");await i.objectStore(Mc).put(e,zx(n)),await i.done}catch(t){if(t instanceof hs)os.warn(t.message);else{const i=ra.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});os.warn(i.message)}}}function zx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=1024,TL=30;class AL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=uT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>TL){const c=RL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){os.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uT(),{heartbeatsToSend:i,unsentEntries:a}=SL(this._heartbeatsCache.heartbeats),l=wh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function uT(){return new Date().toISOString().substring(0,10)}function SL(n,e=wL){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),cT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),cT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class xL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d6()?h6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return lT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return lT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function cT(n){return wh(JSON.stringify({version:2,heartbeats:n})).length}function RL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(n){Pl(new oo("platform-logger",e=>new z6(e),"PRIVATE")),Pl(new oo("heartbeat",e=>new AL(e),"PRIVATE")),ia(By,aT,n),ia(By,aT,"esm2017"),ia("fire-js","")}CL("");function Bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IL=Bx,Fx=new Zc("auth","Firebase",Bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new zv("@firebase/auth");function NL(n,...e){Ah.logLevel<=rt.WARN&&Ah.warn(`Auth (${Wl}): ${n}`,...e)}function sh(n,...e){Ah.logLevel<=rt.ERROR&&Ah.error(`Auth (${Wl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n,...e){throw Hv(n,...e)}function fi(n,...e){return Hv(n,...e)}function Hx(n,e,t){const i=Object.assign(Object.assign({},IL()),{[e]:t});return new Zc("auth","Firebase",i).create(e,{appName:n.name})}function sa(n){return Hx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Fx.create(n,...e)}function ze(n,e,...t){if(!n)throw Hv(e,...t)}function Ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sh(e),new Error(e)}function ls(n,e){n||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function DL(){return fT()==="http:"||fT()==="https:"}function fT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DL()||l6()||"connection"in navigator)?navigator.onLine:!0}function PL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,ls(t>e,"Short delay should be less than long delay!"),this.isMobile=s6()||u6()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e){ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LL=new ef(3e4,6e4);function fo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ya(n,e,t,i,a={}){return Gx(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Jc(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},l);return o6()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Xl(n.emulatorConfig.host)&&(m.credentials="include"),qx.fetch()(await $x(n,n.config.apiHost,t,f),m)})}async function Gx(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ML),e);try{const a=new UL(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw qd(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw qd(n,"user-disabled",c);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Hx(n,y,m);Lr(n,y)}}catch(a){if(a instanceof hs)throw a;Lr(n,"network-request-failed",{message:String(a)})}}async function lm(n,e,t,i,a={}){const l=await ya(n,e,t,i,a);return"mfaPendingCredential"in l&&Lr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function $x(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?qv(n.config,a):`${n.config.apiScheme}://${a}`;return kL.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function VL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fi(this.auth,"network-request-failed")),LL.get())})}}function qd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=fi(n,e,i);return a.customData._tokenResponse=t,a}function dT(n){return n!==void 0&&n.enterprise!==void 0}class jL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zL(n,e){return ya(n,"GET","/v2/recaptchaConfig",fo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(n,e){return ya(n,"POST","/v1/accounts:delete",e)}async function Sh(n,e){return ya(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FL(n,e=!1){const t=Xt(n),i=await t.getIdToken(e),a=Gv(i);ze(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Tc(ry(a.auth_time)),issuedAtTime:Tc(ry(a.iat)),expirationTime:Tc(ry(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ry(n){return Number(n)*1e3}function Gv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ix(t);return a?JSON.parse(a):(sh("Failed to decode base64 JWT payload"),null)}catch(a){return sh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function hT(n){const e=Gv(n);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof hs&&HL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function HL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await kc(n,Sh(t,{idToken:i}));ze(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Qx(l.providerUserInfo):[],f=$L(n.providerData,c),h=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),y=h?m:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Gy(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function GL(n){const e=Xt(n);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $L(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Qx(n){return n.map(e=>{var{providerId:t}=e,i=Wc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,e){const t=await Gx(n,{},async()=>{const i=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await $x(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:i};return n.emulatorConfig&&Xl(n.emulatorConfig.host)&&(h.credentials="include"),qx.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KL(n,e){return ya(n,"POST","/v2/accounts:revokeToken",fo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=hT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await QL(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new vl;return i&&(ze(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(n,e){ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Wc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await kc(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FL(this,e)}reload(){return GL(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await kc(this,BL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,f,h,m,y;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,x=(f=t.tenantId)!==null&&f!==void 0?f:void 0,N=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,k=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:$,isAnonymous:Y,providerData:ae,stsTokenManager:V}=t;ze(F&&V,e,"internal-error");const E=vl.fromJSON(this.name,V);ze(typeof F=="string",e,"internal-error"),Hs(v,e.name),Hs(b,e.name),ze(typeof $=="boolean",e,"internal-error"),ze(typeof Y=="boolean",e,"internal-error"),Hs(A,e.name),Hs(R,e.name),Hs(x,e.name),Hs(N,e.name),Hs(k,e.name),Hs(z,e.name);const C=new Nr({uid:F,auth:e,email:b,emailVerified:$,displayName:v,isAnonymous:Y,photoURL:R,phoneNumber:A,tenantId:x,stsTokenManager:E,createdAt:k,lastLoginAt:z});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(I=>Object.assign({},I))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new vl;a.updateFromServerResponse(t);const l=new Nr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await xh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Qx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new vl;f.updateFromIdToken(i);const h=new Nr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function es(n){ls(n instanceof Function,"Expected a class definition");let e=mT.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kx.type="NONE";const pT=Kx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n,e,t){return`firebase:${n}:${e}:${t}`}class _l{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=ah(this.userKey,a.apiKey,l),this.fullPersistenceKey=ah("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sh(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _l(es(pT),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||es(pT);const c=ah(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const b=await Sh(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Nr._fromGetAccountInfoResponse(e,b,y)}else v=Nr._fromJSON(e,y);m!==l&&(f=v),l=m;break}}catch{}const h=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new _l(l,e,i):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new _l(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eR(e))return"Blackberry";if(tR(e))return"Webos";if(Xx(e))return"Safari";if((e.includes("chrome/")||Wx(e))&&!e.includes("edge/"))return"Chrome";if(Jx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Yx(n=On()){return/firefox\//i.test(n)}function Xx(n=On()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wx(n=On()){return/crios\//i.test(n)}function Zx(n=On()){return/iemobile/i.test(n)}function Jx(n=On()){return/android/i.test(n)}function eR(n=On()){return/blackberry/i.test(n)}function tR(n=On()){return/webos/i.test(n)}function $v(n=On()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YL(n=On()){var e;return $v(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XL(){return c6()&&document.documentMode===10}function nR(n=On()){return $v(n)||Jx(n)||tR(n)||eR(n)||/windows phone/i.test(n)||Zx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e=[]){let t;switch(n){case"Browser":t=gT(On());break;case"Worker":t=`${gT(On())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e={}){return ya(n,"GET","/v2/passwordPolicy",fo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=6;class eV{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:JL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new WL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=es(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sh(this,{idToken:e}),i=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ir(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(a=h.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(sa(this));const t=e?Xt(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZL(this),t=new eV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&es(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[es(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&NL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zl(n){return Xt(n)}class yT{constructor(e){this.auth=e,this.observer=null,this.addObserver=v6(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nV(n){um=n}function iR(n){return um.loadJS(n)}function rV(){return um.recaptchaEnterpriseScript}function iV(){return um.gapiScript}function sV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aV{constructor(){this.enterprise=new oV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lV="recaptcha-enterprise",sR="NO_RECAPTCHA";class uV{constructor(e){this.type=lV,this.auth=Zl(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{zL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new jL(h);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(h=>{f(h)})})}function a(l,c,f){const h=window.grecaptcha;dT(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(sR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&dT(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=rV();h.length!==0&&(h+=f),iR(h).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function vT(n,e,t,i=!1,a=!1){const l=new uV(n);let c;if(a)c=sR;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function _T(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await vT(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n,e){const t=Fv(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ao(l,e??{}))return a;Lr(a,"already-initialized")}return t.initialize({options:e})}function fV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(es);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dV(n,e,t){const i=Zl(n);ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=aR(e),{host:c,port:f}=hV(e),h=f===null?"":`:${f}`,m={url:`${l}//${c}${h}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ze(ao(m,i.config.emulator)&&ao(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Xl(c)?(Px(`${l}//${c}${h}`),Mx("Auth",!0)):mV()}function aR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hV(n){const e=aR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:bT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:bT(c)}}}function bT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,t){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function pV(n,e){return ya(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(n,e){return lm(n,"POST","/v1/accounts:signInWithPassword",fo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(n,e){return lm(n,"POST","/v1/accounts:signInWithEmailLink",fo(n,e))}async function vV(n,e){return lm(n,"POST","/v1/accounts:signInWithEmailLink",fo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Qv{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Lc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Lc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _T(e,t,"signInWithPassword",gV);case"emailLink":return yV(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _T(e,i,"signUpPassword",pV);case"emailLink":return vV(e,{idToken:t,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n,e){return lm(n,"POST","/v1/accounts:signInWithIdp",fo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="http://localhost";class lo extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Wc(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new lo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return bl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bl(e,t)}buildRequest(){const e={requestUri:_V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EV(n){const e=pc(gc(n)).link,t=e?pc(gc(e)).deep_link_id:null,i=pc(gc(n)).deep_link_id;return(i?pc(gc(i)).link:null)||i||t||e||n}class Kv{constructor(e){var t,i,a,l,c,f;const h=pc(gc(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,v=bV((a=h.mode)!==null&&a!==void 0?a:null);ze(m&&y&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=y,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=EV(e);try{return new Kv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,t){return Lc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kv.parseLink(t);return ze(i,"argument-error"),Lc._fromEmailAndCode(e,i.code,i.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends oR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends tf{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Qs.credential(t,i)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends tf{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends tf{constructor(){super("twitter.com")}static credential(e,t){return lo._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Nr._fromIdTokenResponse(e,i,a),c=ET(i);return new Ml({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=ET(i);return new Ml({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function ET(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends hs{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Rh(e,t,i,a)}}function lR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(n,l,e,i):l})}async function wV(n,e,t=!1){const i=await kc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ml._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(n,e,t=!1){const{auth:i}=n;if(Ir(i.app))return Promise.reject(sa(i));const a="reauthenticate";try{const l=await kc(n,lR(i,a,e,n),t);ze(l.idToken,i,"internal-error");const c=Gv(l.idToken);ze(c,i,"internal-error");const{sub:f}=c;return ze(n.uid===f,i,"user-mismatch"),Ml._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(n,e,t=!1){if(Ir(n.app))return Promise.reject(sa(n));const i="signIn",a=await lR(n,i,e),l=await Ml._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function AV(n,e){return uR(Zl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(n){const e=Zl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xV(n,e,t){return Ir(n.app)?Promise.reject(sa(n)):AV(Xt(n),Jl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&SV(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n,e){return Xt(n).setPersistence(e)}function CV(n,e,t,i){return Xt(n).onIdTokenChanged(e,t,i)}function IV(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function NV(n,e,t,i){return Xt(n).onAuthStateChanged(e,t,i)}function DV(n){return Xt(n).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=1e3,PV=10;class fR extends cR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);XL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PV):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fR.type="LOCAL";const MV=fR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends cR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dR.type="SESSION";const Yv=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new cm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(t.origin,l)),h=await kV(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const m=Xv("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function VV(n){di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function UV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function zV(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebaseLocalStorageDb",BV=1,Ih="firebaseLocalStorage",pR="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fm(n,e){return n.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function FV(){const n=indexedDB.deleteDatabase(mR);return new nf(n).toPromise()}function $y(){const n=indexedDB.open(mR,BV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ih,{keyPath:pR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ih)?e(i):(i.close(),await FV(),e(await $y()))})})}async function wT(n,e,t){const i=fm(n,!0).put({[pR]:e,value:t});return new nf(i).toPromise()}async function HV(n,e){const t=fm(n,!1).get(e),i=await new nf(t).toPromise();return i===void 0?null:i.value}function TT(n,e){const t=fm(n,!0).delete(e);return new nf(t).toPromise()}const qV=800,GV=3;class gR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $y(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>GV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(zV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await UV(),!this.activeServiceWorker)return;this.sender=new LV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $y();return await wT(e,Ch,"1"),await TT(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>HV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=fm(a,!1).getAll();return new nf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gR.type="LOCAL";const $V=gR;new ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(n,e){return e?es(e):(ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KV(n){return uR(n.auth,new Wv(n),n.bypassAuthState)}function YV(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),TV(t,new Wv(n),n.bypassAuthState)}async function XV(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),wV(t,new Wv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KV;case"linkViaPopup":case"linkViaRedirect":return XV;case"reauthViaPopup":case"reauthViaRedirect":return YV;default:Lr(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new ef(2e3,1e4);class pl extends yR{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=Xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WV.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="pendingRedirect",oh=new Map;class JV extends yR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const i=await e3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e3(n,e){const t=r3(e),i=n3(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function t3(n,e){oh.set(n._key(),e)}function n3(n){return es(n._redirectPersistence)}function r3(n){return ah(ZV,n.config.apiKey,n.name)}async function i3(n,e,t=!1){if(Ir(n.app))return Promise.reject(sa(n));const i=Zl(n),a=QV(i,e),c=await new JV(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=10*60*1e3;class a3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s3&&this.cachedEventUids.clear(),this.cachedEventUids.has(AT(e))}saveEventToCache(e){this.cachedEventUids.add(AT(e)),this.lastProcessedEventTime=Date.now()}}function AT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(n,e={}){return ya(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c3=/^https?/;async function f3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await l3(n);for(const t of e)try{if(d3(t))return}catch{}Lr(n,"unauthorized-domain")}function d3(n){const e=qy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!c3.test(t))return!1;if(u3.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new ef(3e4,6e4);function ST(){const n=di().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function m3(n){return new Promise((e,t)=>{var i,a,l;function c(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),t(fi(n,"network-request-failed"))},timeout:h3.get()})}if(!((a=(i=di().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=di().gapi)===null||l===void 0)&&l.load)c();else{const f=sV("iframefcb");return di()[f]=()=>{gapi.load?c():t(fi(n,"network-request-failed"))},iR(`${iV()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw lh=null,e})}let lh=null;function p3(n){return lh=lh||m3(n),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new ef(5e3,15e3),y3="__/auth/iframe",v3="emulator/auth/iframe",_3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E3(n){const e=n.config;ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qv(e,v3):`https://${n.config.authDomain}/${y3}`,i={apiKey:e.apiKey,appName:n.name,v:Wl},a=b3.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Jc(i).slice(1)}`}async function w3(n){const e=await p3(n),t=di().gapi;return ze(t,n,"internal-error"),e.open({where:document.body,url:E3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_3,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=fi(n,"network-request-failed"),f=di().setTimeout(()=>{l(c)},g3.get());function h(){di().clearTimeout(f),a(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A3=500,S3=600,x3="_blank",R3="http://localhost";class xT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C3(n,e,t,i=A3,a=S3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},T3),{width:i.toString(),height:a.toString(),top:l,left:c}),m=On().toLowerCase();t&&(f=Wx(m)?x3:t),Yx(m)&&(e=e||R3,h.scrollbars="yes");const y=Object.entries(h).reduce((b,[A,R])=>`${b}${A}=${R},`,"");if(YL(m)&&f!=="_self")return I3(e||"",f),new xT(null);const v=window.open(e||"",f,y);ze(v,n,"popup-blocked");try{v.focus()}catch{}return new xT(v)}function I3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="__/auth/handler",D3="emulator/auth/handler",O3=encodeURIComponent("fac");async function RT(n,e,t,i,a,l){ze(n.config.authDomain,n,"auth-domain-config-required"),ze(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Wl,eventId:a};if(e instanceof oR){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",y6(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof tf){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await n._getAppCheckToken(),m=h?`#${O3}=${encodeURIComponent(h)}`:"";return`${P3(n)}?${Jc(f).slice(1)}${m}`}function P3({config:n}){return n.emulator?qv(n,D3):`https://${n.authDomain}/${N3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="webStorageSupport";class M3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yv,this._completeRedirectFn=i3,this._overrideRedirectResult=t3}async _openPopup(e,t,i,a){var l;ls((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await RT(e,t,i,qy(),a);return C3(e,c,Xv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await RT(e,t,i,qy(),a);return VV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ls(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await w3(e),i=new a3(e);return t.register("authEvent",a=>(ze(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iy,{type:iy},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[iy];c!==void 0&&t(!!c),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nR()||Xx()||$v()}}const k3=M3;var CT="@firebase/auth",IT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U3(n){Pl(new oo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;ze(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rR(n)},m=new tV(i,a,l,h);return fV(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Pl(new oo("auth-internal",e=>{const t=Zl(e.getProvider("auth").getImmediate());return(i=>new L3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(CT,IT,V3(n)),ia(CT,IT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=5*60,z3=Ox("authIdTokenMaxAge")||j3;let NT=null;const B3=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>z3)return;const a=t==null?void 0:t.token;NT!==a&&(NT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Zv(n=Ux()){const e=Fv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cV(n,{popupRedirectResolver:k3,persistence:[$V,MV,Yv]}),i=Ox("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=B3(l.toString());IV(t,c,()=>c(t.currentUser)),CV(t,f=>c(f))}}const a=Nx("auth");return a&&dV(t,`http://${a}`),t}function F3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=fi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",F3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U3("Browser");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,_R;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,E){function C(){}C.prototype=E.prototype,V.D=E.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(I,U,L){for(var P=Array(arguments.length-2),J=2;J<arguments.length;J++)P[J-2]=arguments[J];return E.prototype[U].apply(I,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,E,C){C||(C=0);var I=Array(16);if(typeof E=="string")for(var U=0;16>U;++U)I[U]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(U=0;16>U;++U)I[U]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=V.g[0],C=V.g[1],U=V.g[2];var L=V.g[3],P=E+(L^C&(U^L))+I[0]+3614090360&4294967295;E=C+(P<<7&4294967295|P>>>25),P=L+(U^E&(C^U))+I[1]+3905402710&4294967295,L=E+(P<<12&4294967295|P>>>20),P=U+(C^L&(E^C))+I[2]+606105819&4294967295,U=L+(P<<17&4294967295|P>>>15),P=C+(E^U&(L^E))+I[3]+3250441966&4294967295,C=U+(P<<22&4294967295|P>>>10),P=E+(L^C&(U^L))+I[4]+4118548399&4294967295,E=C+(P<<7&4294967295|P>>>25),P=L+(U^E&(C^U))+I[5]+1200080426&4294967295,L=E+(P<<12&4294967295|P>>>20),P=U+(C^L&(E^C))+I[6]+2821735955&4294967295,U=L+(P<<17&4294967295|P>>>15),P=C+(E^U&(L^E))+I[7]+4249261313&4294967295,C=U+(P<<22&4294967295|P>>>10),P=E+(L^C&(U^L))+I[8]+1770035416&4294967295,E=C+(P<<7&4294967295|P>>>25),P=L+(U^E&(C^U))+I[9]+2336552879&4294967295,L=E+(P<<12&4294967295|P>>>20),P=U+(C^L&(E^C))+I[10]+4294925233&4294967295,U=L+(P<<17&4294967295|P>>>15),P=C+(E^U&(L^E))+I[11]+2304563134&4294967295,C=U+(P<<22&4294967295|P>>>10),P=E+(L^C&(U^L))+I[12]+1804603682&4294967295,E=C+(P<<7&4294967295|P>>>25),P=L+(U^E&(C^U))+I[13]+4254626195&4294967295,L=E+(P<<12&4294967295|P>>>20),P=U+(C^L&(E^C))+I[14]+2792965006&4294967295,U=L+(P<<17&4294967295|P>>>15),P=C+(E^U&(L^E))+I[15]+1236535329&4294967295,C=U+(P<<22&4294967295|P>>>10),P=E+(U^L&(C^U))+I[1]+4129170786&4294967295,E=C+(P<<5&4294967295|P>>>27),P=L+(C^U&(E^C))+I[6]+3225465664&4294967295,L=E+(P<<9&4294967295|P>>>23),P=U+(E^C&(L^E))+I[11]+643717713&4294967295,U=L+(P<<14&4294967295|P>>>18),P=C+(L^E&(U^L))+I[0]+3921069994&4294967295,C=U+(P<<20&4294967295|P>>>12),P=E+(U^L&(C^U))+I[5]+3593408605&4294967295,E=C+(P<<5&4294967295|P>>>27),P=L+(C^U&(E^C))+I[10]+38016083&4294967295,L=E+(P<<9&4294967295|P>>>23),P=U+(E^C&(L^E))+I[15]+3634488961&4294967295,U=L+(P<<14&4294967295|P>>>18),P=C+(L^E&(U^L))+I[4]+3889429448&4294967295,C=U+(P<<20&4294967295|P>>>12),P=E+(U^L&(C^U))+I[9]+568446438&4294967295,E=C+(P<<5&4294967295|P>>>27),P=L+(C^U&(E^C))+I[14]+3275163606&4294967295,L=E+(P<<9&4294967295|P>>>23),P=U+(E^C&(L^E))+I[3]+4107603335&4294967295,U=L+(P<<14&4294967295|P>>>18),P=C+(L^E&(U^L))+I[8]+1163531501&4294967295,C=U+(P<<20&4294967295|P>>>12),P=E+(U^L&(C^U))+I[13]+2850285829&4294967295,E=C+(P<<5&4294967295|P>>>27),P=L+(C^U&(E^C))+I[2]+4243563512&4294967295,L=E+(P<<9&4294967295|P>>>23),P=U+(E^C&(L^E))+I[7]+1735328473&4294967295,U=L+(P<<14&4294967295|P>>>18),P=C+(L^E&(U^L))+I[12]+2368359562&4294967295,C=U+(P<<20&4294967295|P>>>12),P=E+(C^U^L)+I[5]+4294588738&4294967295,E=C+(P<<4&4294967295|P>>>28),P=L+(E^C^U)+I[8]+2272392833&4294967295,L=E+(P<<11&4294967295|P>>>21),P=U+(L^E^C)+I[11]+1839030562&4294967295,U=L+(P<<16&4294967295|P>>>16),P=C+(U^L^E)+I[14]+4259657740&4294967295,C=U+(P<<23&4294967295|P>>>9),P=E+(C^U^L)+I[1]+2763975236&4294967295,E=C+(P<<4&4294967295|P>>>28),P=L+(E^C^U)+I[4]+1272893353&4294967295,L=E+(P<<11&4294967295|P>>>21),P=U+(L^E^C)+I[7]+4139469664&4294967295,U=L+(P<<16&4294967295|P>>>16),P=C+(U^L^E)+I[10]+3200236656&4294967295,C=U+(P<<23&4294967295|P>>>9),P=E+(C^U^L)+I[13]+681279174&4294967295,E=C+(P<<4&4294967295|P>>>28),P=L+(E^C^U)+I[0]+3936430074&4294967295,L=E+(P<<11&4294967295|P>>>21),P=U+(L^E^C)+I[3]+3572445317&4294967295,U=L+(P<<16&4294967295|P>>>16),P=C+(U^L^E)+I[6]+76029189&4294967295,C=U+(P<<23&4294967295|P>>>9),P=E+(C^U^L)+I[9]+3654602809&4294967295,E=C+(P<<4&4294967295|P>>>28),P=L+(E^C^U)+I[12]+3873151461&4294967295,L=E+(P<<11&4294967295|P>>>21),P=U+(L^E^C)+I[15]+530742520&4294967295,U=L+(P<<16&4294967295|P>>>16),P=C+(U^L^E)+I[2]+3299628645&4294967295,C=U+(P<<23&4294967295|P>>>9),P=E+(U^(C|~L))+I[0]+4096336452&4294967295,E=C+(P<<6&4294967295|P>>>26),P=L+(C^(E|~U))+I[7]+1126891415&4294967295,L=E+(P<<10&4294967295|P>>>22),P=U+(E^(L|~C))+I[14]+2878612391&4294967295,U=L+(P<<15&4294967295|P>>>17),P=C+(L^(U|~E))+I[5]+4237533241&4294967295,C=U+(P<<21&4294967295|P>>>11),P=E+(U^(C|~L))+I[12]+1700485571&4294967295,E=C+(P<<6&4294967295|P>>>26),P=L+(C^(E|~U))+I[3]+2399980690&4294967295,L=E+(P<<10&4294967295|P>>>22),P=U+(E^(L|~C))+I[10]+4293915773&4294967295,U=L+(P<<15&4294967295|P>>>17),P=C+(L^(U|~E))+I[1]+2240044497&4294967295,C=U+(P<<21&4294967295|P>>>11),P=E+(U^(C|~L))+I[8]+1873313359&4294967295,E=C+(P<<6&4294967295|P>>>26),P=L+(C^(E|~U))+I[15]+4264355552&4294967295,L=E+(P<<10&4294967295|P>>>22),P=U+(E^(L|~C))+I[6]+2734768916&4294967295,U=L+(P<<15&4294967295|P>>>17),P=C+(L^(U|~E))+I[13]+1309151649&4294967295,C=U+(P<<21&4294967295|P>>>11),P=E+(U^(C|~L))+I[4]+4149444226&4294967295,E=C+(P<<6&4294967295|P>>>26),P=L+(C^(E|~U))+I[11]+3174756917&4294967295,L=E+(P<<10&4294967295|P>>>22),P=U+(E^(L|~C))+I[2]+718787259&4294967295,U=L+(P<<15&4294967295|P>>>17),P=C+(L^(U|~E))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+L&4294967295}i.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var C=E-this.blockSize,I=this.B,U=this.h,L=0;L<E;){if(U==0)for(;L<=C;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<E;)if(I[U++]=V.charCodeAt(L++),U==this.blockSize){a(this,I),U=0;break}}else for(;L<E;)if(I[U++]=V[L++],U==this.blockSize){a(this,I),U=0;break}}this.h=U,this.o+=E},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var C=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=C&255,C/=256;for(this.u(V),V=Array(16),E=C=0;4>E;++E)for(var I=0;32>I;I+=8)V[C++]=this.g[E]>>>I&255;return V};function l(V,E){var C=f;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=E(V)}function c(V,E){this.h=E;for(var C=[],I=!0,U=V.length-1;0<=U;U--){var L=V[U]|0;I&&L==E||(C[U]=L,I=!1)}this.g=C}var f={};function h(V){return-128<=V&&128>V?l(V,function(E){return new c([E|0],0>E?-1:0)}):new c([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return v;if(0>V)return N(m(-V));for(var E=[],C=1,I=0;V>=C;I++)E[I]=V/C|0,C*=4294967296;return new c(E,0)}function y(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return N(y(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(E,8)),I=v,U=0;U<V.length;U+=8){var L=Math.min(8,V.length-U),P=parseInt(V.substring(U,U+L),E);8>L?(L=m(Math.pow(E,L)),I=I.j(L).add(m(P))):(I=I.j(C),I=I.add(m(P)))}return I}var v=h(0),b=h(1),A=h(16777216);n=c.prototype,n.m=function(){if(x(this))return-N(this).m();for(var V=0,E=1,C=0;C<this.g.length;C++){var I=this.i(C);V+=(0<=I?I:4294967296+I)*E,E*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(x(this))return"-"+N(this).toString(V);for(var E=m(Math.pow(V,6)),C=this,I="";;){var U=$(C,E).g;C=k(C,U.j(E));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=U,R(C))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function x(V){return V.h==-1}n.l=function(V){return V=k(this,V),x(V)?-1:R(V)?0:1};function N(V){for(var E=V.g.length,C=[],I=0;I<E;I++)C[I]=~V.g[I];return new c(C,~V.h).add(b)}n.abs=function(){return x(this)?N(this):this},n.add=function(V){for(var E=Math.max(this.g.length,V.g.length),C=[],I=0,U=0;U<=E;U++){var L=I+(this.i(U)&65535)+(V.i(U)&65535),P=(L>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);I=P>>>16,L&=65535,P&=65535,C[U]=P<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function k(V,E){return V.add(N(E))}n.j=function(V){if(R(this)||R(V))return v;if(x(this))return x(V)?N(this).j(N(V)):N(N(this).j(V));if(x(V))return N(this.j(N(V)));if(0>this.l(A)&&0>V.l(A))return m(this.m()*V.m());for(var E=this.g.length+V.g.length,C=[],I=0;I<2*E;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<V.g.length;U++){var L=this.i(I)>>>16,P=this.i(I)&65535,J=V.i(U)>>>16,he=V.i(U)&65535;C[2*I+2*U]+=P*he,z(C,2*I+2*U),C[2*I+2*U+1]+=L*he,z(C,2*I+2*U+1),C[2*I+2*U+1]+=P*J,z(C,2*I+2*U+1),C[2*I+2*U+2]+=L*J,z(C,2*I+2*U+2)}for(I=0;I<E;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=E;I<2*E;I++)C[I]=0;return new c(C,0)};function z(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function F(V,E){this.g=V,this.h=E}function $(V,E){if(R(E))throw Error("division by zero");if(R(V))return new F(v,v);if(x(V))return E=$(N(V),E),new F(N(E.g),N(E.h));if(x(E))return E=$(V,N(E)),new F(N(E.g),E.h);if(30<V.g.length){if(x(V)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var C=b,I=E;0>=I.l(V);)C=Y(C),I=Y(I);var U=ae(C,1),L=ae(I,1);for(I=ae(I,2),C=ae(C,2);!R(I);){var P=L.add(I);0>=P.l(V)&&(U=U.add(C),L=P),I=ae(I,1),C=ae(C,1)}return E=k(V,U.j(E)),new F(U,E)}for(U=v;0<=V.l(E);){for(C=Math.max(1,Math.floor(V.m()/E.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=m(C),P=L.j(E);x(P)||0<P.l(V);)C-=I,L=m(C),P=L.j(E);R(L)&&(L=b),U=U.add(L),V=k(V,P)}return new F(U,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var E=Math.max(this.g.length,V.g.length),C=[],I=0;I<E;I++)C[I]=this.i(I)&V.i(I);return new c(C,this.h&V.h)},n.or=function(V){for(var E=Math.max(this.g.length,V.g.length),C=[],I=0;I<E;I++)C[I]=this.i(I)|V.i(I);return new c(C,this.h|V.h)},n.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),C=[],I=0;I<E;I++)C[I]=this.i(I)^V.i(I);return new c(C,this.h^V.h)};function Y(V){for(var E=V.g.length+1,C=[],I=0;I<E;I++)C[I]=V.i(I)<<1|V.i(I-1)>>>31;return new c(C,V.h)}function ae(V,E){var C=E>>5;E%=32;for(var I=V.g.length-C,U=[],L=0;L<I;L++)U[L]=0<E?V.i(L+C)>>>E|V.i(L+C+1)<<32-E:V.i(L+C);return new c(U,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_R=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,aa=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bR,yc,ER,uh,Qy,wR,TR,AR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,w){return d==Array.prototype||d==Object.prototype||(d[_]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gd=="object"&&Gd];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var w=i;d=d.split(".");for(var M=0;M<d.length-1;M++){var K=d[M];if(!(K in w))break e;w=w[K]}d=d[d.length-1],M=w[d],_=_(M),_!=M&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var w=0,M=!1,K={next:function(){if(!M&&w<d.length){var ie=w++;return{value:_(ie,d[ie]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,w){return d.call.apply(d.bind,arguments)}function v(d,_,w){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),d.apply(_,K)}}return function(){return d.apply(_,arguments)}}function b(d,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function A(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var M=w.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function R(d,_){function w(){}w.prototype=_.prototype,d.aa=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(M,K,ie){for(var ve=Array(arguments.length-2),at=2;at<arguments.length;at++)ve[at-2]=arguments[at];return _.prototype[K].apply(M,ve)}}function x(d){const _=d.length;if(0<_){const w=Array(_);for(let M=0;M<_;M++)w[M]=d[M];return w}return[]}function N(d,_){for(let w=1;w<arguments.length;w++){const M=arguments[w];if(h(M)){const K=d.length||0,ie=M.length||0;d.length=K+ie;for(let ve=0;ve<ie;ve++)d[K+ve]=M[ve]}else d.push(M)}}class k{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(d,_,w){for(const M in d)_.call(w,d[M],M,d)}function V(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function E(d){const _={};for(const w in d)_[w]=d[w];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,_){let w,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(w in M)d[w]=M[w];for(let ie=0;ie<C.length;ie++)w=C[ie],Object.prototype.hasOwnProperty.call(M,w)&&(d[w]=M[w])}}function U(d){var _=1;d=d.split(":");const w=[];for(;0<_&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function L(d){f.setTimeout(()=>{throw d},0)}function P(){var d=_e;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,w){const M=he.get();M.set(_,w),this.h?this.h.next=M:this.g=M,this.h=M}}var he=new k(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let W,G=!1,_e=new J,j=()=>{const d=f.Promise.resolve(void 0);W=()=>{d.then(te)}};var te=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(w){L(w)}var _=he;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}G=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};f.addEventListener("test",w,_),f.removeEventListener("test",w,_)}catch{}return d}();function ge(d,_){if(ne.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Y){e:{try{$(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ge.aa.h.call(this)}}R(ge,ne);var pe={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Ve(d,_,w,M,K){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!M,this.ha=K,this.key=++Pe,this.da=this.fa=!1}function qe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ee(d){this.src=d,this.g={},this.h=0}Ee.prototype.add=function(d,_,w,M,K){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var ve=et(d,_,M,K);return-1<ve?(_=d[ve],w||(_.fa=!1)):(_=new Ve(_,this.src,ie,!!M,K),_.fa=w,d.push(_)),_};function Ie(d,_){var w=_.type;if(w in d.g){var M=d.g[w],K=Array.prototype.indexOf.call(M,_,void 0),ie;(ie=0<=K)&&Array.prototype.splice.call(M,K,1),ie&&(qe(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function et(d,_,w,M){for(var K=0;K<d.length;++K){var ie=d[K];if(!ie.da&&ie.listener==_&&ie.capture==!!w&&ie.ha==M)return K}return-1}var It="closure_lm_"+(1e6*Math.random()|0),Nt={};function Mt(d,_,w,M,K){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)Mt(d,_[ie],w,M,K);return null}return w=ct(w),d&&d[ye]?d.K(_,w,m(M)?!!M.capture:!1,K):Ce(d,_,w,!1,M,K)}function Ce(d,_,w,M,K,ie){if(!_)throw Error("Invalid event type");var ve=m(K)?!!K.capture:!!K,at=je(d);if(at||(d[It]=at=new Ee(d)),w=at.add(_,w,M,ve,ie),w.proxy)return w;if(M=Ne(),w.proxy=M,M.src=d,M.listener=w,d.addEventListener)me||(K=ve),K===void 0&&(K=!1),d.addEventListener(_.toString(),M,K);else if(d.attachEvent)d.attachEvent(Me(_.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ne(){function d(w){return _.call(d.src,d.listener,w)}const _=Oe;return d}function Re(d,_,w,M,K){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Re(d,_[ie],w,M,K);else M=m(M)?!!M.capture:!!M,w=ct(w),d&&d[ye]?(d=d.i,_=String(_).toString(),_ in d.g&&(ie=d.g[_],w=et(ie,w,M,K),-1<w&&(qe(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete d.g[_],d.h--)))):d&&(d=je(d))&&(_=d.g[_.toString()],d=-1,_&&(d=et(_,w,M,K)),(w=-1<d?_[d]:null)&&be(w))}function be(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ye])Ie(_.i,d);else{var w=d.type,M=d.proxy;_.removeEventListener?_.removeEventListener(w,M,d.capture):_.detachEvent?_.detachEvent(Me(w),M):_.addListener&&_.removeListener&&_.removeListener(M),(w=je(_))?(Ie(w,d),w.h==0&&(w.src=null,_[It]=null)):qe(d)}}}function Me(d){return d in Nt?Nt[d]:Nt[d]="on"+d}function Oe(d,_){if(d.da)d=!0;else{_=new ge(_,this);var w=d.listener,M=d.ha||d.src;d.fa&&be(d),d=w.call(M,_)}return d}function je(d){return d=d[It],d instanceof Ee?d:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(d){return typeof d=="function"?d:(d[st]||(d[st]=function(_){return d.handleEvent(_)}),d[st])}function $e(){se.call(this),this.i=new Ee(this),this.M=this,this.F=null}R($e,se),$e.prototype[ye]=!0,$e.prototype.removeEventListener=function(d,_,w,M){Re(this,d,_,w,M)};function Ye(d,_){var w,M=d.F;if(M)for(w=[];M;M=M.F)w.push(M);if(d=d.M,M=_.type||_,typeof _=="string")_=new ne(_,d);else if(_ instanceof ne)_.target=_.target||d;else{var K=_;_=new ne(M,d),I(_,K)}if(K=!0,w)for(var ie=w.length-1;0<=ie;ie--){var ve=_.g=w[ie];K=on(ve,M,!0,_)&&K}if(ve=_.g=d,K=on(ve,M,!0,_)&&K,K=on(ve,M,!1,_)&&K,w)for(ie=0;ie<w.length;ie++)ve=_.g=w[ie],K=on(ve,M,!1,_)&&K}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var w=d.g[_],M=0;M<w.length;M++)qe(w[M]);delete d.g[_],d.h--}}this.F=null},$e.prototype.K=function(d,_,w,M){return this.i.add(String(d),_,!1,w,M)},$e.prototype.L=function(d,_,w,M){return this.i.add(String(d),_,!0,w,M)};function on(d,_,w,M){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,ie=0;ie<_.length;++ie){var ve=_[ie];if(ve&&!ve.da&&ve.capture==w){var at=ve.listener,Jt=ve.ha||ve.src;ve.fa&&Ie(d.i,ve),K=at.call(Jt,M)!==!1&&K}}return K&&!M.defaultPrevented}function jt(d,_,w){if(typeof d=="function")w&&(d=b(d,w));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Pn(d){d.g=jt(()=>{d.g=null,d.i&&(d.i=!1,Pn(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class iu extends se{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(d){se.call(this),this.h=d,this.g={}}R(At,se);var jr=[];function zr(d){ae(d.g,function(_,w){this.g.hasOwnProperty(w)&&be(_)},d),d.g={}}At.prototype.N=function(){At.aa.N.call(this),zr(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=f.JSON.stringify,Ei=f.JSON.parse,wi=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function su(){}su.prototype.h=null;function au(d){return d.h||(d.h=d.i())}function ou(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ne.call(this,"d")}R(Ai,ne);function lu(){ne.call(this,"c")}R(lu,ne);var Br={},uu=null;function ms(){return uu=uu||new $e}Br.La="serverreachability";function yo(d){ne.call(this,Br.La,d)}R(yo,ne);function ps(d){const _=ms();Ye(_,new yo(_))}Br.STAT_EVENT="statevent";function ff(d,_){ne.call(this,Br.STAT_EVENT,d),this.stat=_}R(ff,ne);function xt(d){const _=ms();Ye(_,new ff(_,d))}Br.Ma="timingevent";function Zt(d,_){ne.call(this,Br.Ma,d),this.size=_}R(Zt,ne);function qt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function cu(d,_,w,M,K,ie){d.info(function(){if(d.g)if(ie)for(var ve="",at=ie.split("&"),Jt=0;Jt<at.length;Jt++){var ot=at[Jt].split("=");if(1<ot.length){var un=ot[0];ot=ot[1];var en=un.split("_");ve=2<=en.length&&en[1]=="type"?ve+(un+"="+ot+"&"):ve+(un+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+_+`
`+w+`
`+ve})}function Nm(d,_,w,M,K,ie,ve){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+_+`
`+w+`
`+ie+" "+ve})}function gs(d,_,w,M){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+ba(d,w)+(M?" "+M:"")})}function df(d,_){d.info(function(){return"TIMEOUT: "+_})}ar.prototype.info=function(){};function ba(d,_){if(!d.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var M=w[d];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var ie=K[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<K.length;ve++)K[ve]=""}}}}return mn(w)}catch{return _}}var ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Hr(){}R(Hr,su),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Fr=new Hr;function Mn(d,_,w,M){this.j=d,this.i=_,this.l=w,this.R=M||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zt}function zt(){this.i=null,this.g="",this.h=!1}var fu={},vo={};function Er(d,_,w){d.L=1,d.v=Sa(Qn(_)),d.m=w,d.P=!0,xi(d,null)}function xi(d,_){d.F=Date.now(),Ea(d),d.A=Qn(d.v);var w=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),yu(w.i,"t",M),d.C=0,w=d.j.J,d.h=new zt,d.g=Cf(d.j,w?_:null,!d.m),0<d.O&&(d.M=new iu(b(d.Y,d,d.g),d.O)),_=d.U,w=d.g,M=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(jr[0]=K.toString()),K=jr);for(var ie=0;ie<K.length;ie++){var ve=Mt(w,K[ie],M||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),ps(),cu(d.i,d.u,d.A,d.l,d.R,d.m)}Mn.prototype.ca=function(d){d=d.target;const _=this.M;_&&cr(d)==3?_.j():this.Y(d)},Mn.prototype.Y=function(d){try{if(d==this.g)e:{const en=cr(this.g);var _=this.g.Ba();const Mi=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||bf(this.g)))){this.J||en!=4||_==7||(_==8||0>=Mi?ps(3):ps(2)),vs(this);var w=this.g.Z();this.X=w;t:if(hf(this)){var M=bf(this.g);d="";var K=M.length,ie=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),qr(this);var ve="";break t}this.h.i=new f.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,d+=this.h.i.decode(M[_],{stream:!(ie&&_==K-1)});M.length=0,this.h.g+=d,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,Nm(this.i,this.u,this.A,this.l,this.R,en,w),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Jt=this.g;if((at=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(at)){var ot=at;break t}}ot=null}if(w=ot)gs(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,w);else{this.o=!1,this.s=3,xt(12),pn(this),qr(this);break e}}if(this.P){w=!0;let gn;for(;!this.J&&this.C<ve.length;)if(gn=mf(this,ve),gn==vo){en==4&&(this.s=4,xt(14),w=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==fu){this.s=4,xt(15),gs(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else gs(this.i,this.l,gn,null),wa(this,gn);if(hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ve.length!=0||this.h.h||(this.s=1,xt(16),w=!1),this.o=this.o&&w,!w)gs(this.i,this.l,ve,"[Invalid Chunked Response]"),pn(this),qr(this);else if(0<ve.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Pa(un),un.M=!0,xt(11))}}else gs(this.i,this.l,ve,null),wa(this,ve);en==4&&pn(this),this.o&&!this.J&&(en==4?Sf(this.j,this):(this.o=!1,Ea(this)))}else km(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),pn(this),qr(this)}}}catch{}finally{}};function hf(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mf(d,_){var w=d.C,M=_.indexOf(`
`,w);return M==-1?vo:(w=Number(_.substring(w,M)),isNaN(w)?fu:(M+=1,M+w>_.length?vo:(_=_.slice(M,M+w),d.C=M+w,_)))}Mn.prototype.cancel=function(){this.J=!0,pn(this)};function Ea(d){d.S=Date.now()+d.I,pf(d,d.I)}function pf(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=qt(b(d.ba,d),_)}function vs(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Mn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(df(this.i,this.A),this.L!=2&&(ps(),xt(17)),pn(this),this.s=2,qr(this)):pf(this,this.S-d)};function qr(d){d.j.G==0||d.J||Sf(d.j,d)}function pn(d){vs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,zr(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function wa(d,_){try{var w=d.j;if(w.G!=0&&(w.g==d||du(w.h,d))){if(!d.K&&du(w.h,d)&&w.G==3){try{var M=w.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)No(w),Co(w);else break e;wu(w),xt(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=qt(b(w.Za,w),6e3));if(1>=bo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Pi(w,11)}else if((d.K||w.g==d)&&No(w),!z(_))for(K=w.Da.g.parse(_),_=0;_<K.length;_++){let ot=K[_];if(w.T=ot[0],ot=ot[1],w.G==2)if(ot[0]=="c"){w.K=ot[1],w.ia=ot[2];const un=ot[3];un!=null&&(w.la=un,w.j.info("VER="+w.la));const en=ot[4];en!=null&&(w.Aa=en,w.j.info("SVER="+w.Aa));const Mi=ot[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(M=1.5*Mi,w.L=M,w.j.info("backChannelRequestTimeoutMs_="+M)),M=w;const gn=d.g;if(gn){const Wr=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var ie=M.h;ie.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Eo(ie,ie.h),ie.h=null))}if(M.D){const Au=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(M.ya=Au,vt(M.I,M.D,Au))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),M=w;var ve=d;if(M.qa=Rf(M,M.J?M.ia:null,M.W),ve.K){kn(M.h,ve);var at=ve,Jt=M.L;Jt&&(at.I=Jt),at.B&&(vs(at),Ea(at)),M.g=ve}else Tf(M);0<w.i.length&&Io(w)}else ot[0]!="stop"&&ot[0]!="close"||Pi(w,7);else w.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Pi(w,7):bu(w):ot[0]!="noop"&&w.l&&w.l.ta(ot),w.v=0)}}ps(4)}catch{}}var gf=class{constructor(d,_){this.g=d,this.map=_}};function Ri(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _o(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bo(d){return d.h?1:d.g?d.g.size:0}function du(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Eo(d,_){d.g?d.g.add(_):d.h=_}function kn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ri.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.D);return _}return x(d.i)}function Dm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],w=d.length,M=0;M<w;M++)_.push(d[M]);return _}_=[],w=0;for(M in d)_[w++]=d[M];return _}function wo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var w=0;w<d;w++)_.push(w);return _}_=[],w=0;for(const M in d)_[w++]=M;return _}}}function mu(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var w=wo(d),M=Dm(d),K=M.length,ie=0;ie<K;ie++)_.call(void 0,M[ie],w&&w[ie],d)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Om(d,_){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var M=d[w].indexOf("="),K=null;if(0<=M){var ie=d[w].substring(0,M);K=d[w].substring(M+1)}else ie=d[w];_(ie,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Gt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Gt){this.h=d.h,Aa(this,d.j),this.o=d.o,this.g=d.g,_s(this,d.s),this.l=d.l;var _=d.i,w=new Ii;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),Ci(this,w),this.m=d.m}else d&&(_=String(d).match(Ta))?(this.h=!1,Aa(this,_[1]||"",!0),this.o=or(_[2]||""),this.g=or(_[3]||"",!0),_s(this,_[4]),this.l=or(_[5]||"",!0),Ci(this,_[6]||"",!0),this.m=or(_[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Gt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(xa(_,pu,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(xa(_,pu,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(xa(w,w.charAt(0)=="/"?Pm:gu,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",xa(w,To)),d.join("")};function Qn(d){return new Gt(d)}function Aa(d,_,w){d.j=w?or(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function _s(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ci(d,_,w){_ instanceof Ii?(d.i=_,vf(d.i,d.h)):(w||(_=xa(_,Mm)),d.i=new Ii(_,d.h))}function vt(d,_,w){d.i.set(_,w)}function Sa(d){return vt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function or(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function xa(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,yf),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var pu=/[#\/\?@]/g,gu=/[#\?:]/g,Pm=/[#\?]/g,Mm=/[#\?@]/g,To=/#/g;function Ii(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function lr(d){d.g||(d.g=new Map,d.h=0,d.i&&Om(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Ii.prototype,n.add=function(d,_){lr(this),this.i=null,d=Gr(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function Ni(d,_){lr(d),_=Gr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Di(d,_){return lr(d),_=Gr(d,_),d.g.has(_)}n.forEach=function(d,_){lr(this),this.g.forEach(function(w,M){w.forEach(function(K){d.call(_,K,M,this)},this)},this)},n.na=function(){lr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let M=0;M<_.length;M++){const K=d[M];for(let ie=0;ie<K.length;ie++)w.push(_[M])}return w},n.V=function(d){lr(this);let _=[];if(typeof d=="string")Di(this,d)&&(_=_.concat(this.g.get(Gr(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)_=_.concat(d[w])}return _},n.set=function(d,_){return lr(this),this.i=null,d=Gr(this,d),Di(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function yu(d,_,w){Ni(d,_),0<w.length&&(d.i=null,d.g.set(Gr(d,_),x(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var M=_[w];const ie=encodeURIComponent(String(M)),ve=this.V(M);for(M=0;M<ve.length;M++){var K=ie;ve[M]!==""&&(K+="="+encodeURIComponent(String(ve[M]))),d.push(K)}}return this.i=d.join("&")};function Gr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function vf(d,_){_&&!d.j&&(lr(d),d.i=null,d.g.forEach(function(w,M){var K=M.toLowerCase();M!=K&&(Ni(this,M),yu(this,K,w))},d)),d.j=_}function Ra(d,_){const w=new ar;if(f.Image){const M=new Image;M.onload=A(ur,w,"TestLoadImage: loaded",!0,_,M),M.onerror=A(ur,w,"TestLoadImage: error",!1,_,M),M.onabort=A(ur,w,"TestLoadImage: abort",!1,_,M),M.ontimeout=A(ur,w,"TestLoadImage: timeout",!1,_,M),f.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else _(!1)}function wr(d,_){const w=new ar,M=new AbortController,K=setTimeout(()=>{M.abort(),ur(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:M.signal}).then(ie=>{clearTimeout(K),ie.ok?ur(w,"TestPingServer: ok",!0,_):ur(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),ur(w,"TestPingServer: error",!1,_)})}function ur(d,_,w,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(w)}catch{}}function Ca(){this.g=new wi}function $r(d,_,w){const M=w||"";try{mu(d,function(K,ie){let ve=K;m(K)&&(ve=mn(K)),_.push(M+ie+"="+encodeURIComponent(ve))})}catch(K){throw _.push(M+"type="+encodeURIComponent("_badmap")),K}}function bs(d){this.l=d.Ub||null,this.j=d.eb||!1}R(bs,su),bs.prototype.g=function(){return new Oi(this.l,this.j)},bs.prototype.i=function(d){return function(){return d}}({});function Oi(d,_){$e.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Oi,$e),n=Oi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Qr(this):Kr(this),this.readyState==3&&vu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Qr(this))},n.Qa=function(d){this.g&&(this.response=d,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Kr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function Kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function _u(d){let _="";return ae(d,function(w,M){_+=M,_+=":",_+=w,_+=`\r
`}),_}function ln(d,_,w){e:{for(M in w){var M=!1;break e}M=!0}M||(w=_u(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):vt(d,_,w))}function mt(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(mt,$e);var Ao=/^https?$/i,Ia=["POST","PUT"];n=mt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,w,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?au(this.o):au(Fr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ie){_f(this,ie);return}if(d=w||"",w=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)w.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ie of M.keys())w.set(ie,M.get(ie));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ia,_,void 0))||M||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of w)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Na(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){_f(this,ie)}};function _f(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,So(d),Yr(d)}function So(d){d.A||(d.A=!0,Ye(d,"complete"),Ye(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ye(this,"complete"),Ye(this,"abort"),Yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},n.bb=function(){xo(this)};function xo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||cr(d)!=4||d.Z()!=2)){if(d.u&&cr(d)==4)jt(d.Ea,0,d);else if(Ye(d,"readystatechange"),cr(d)==4){d.h=!1;try{const ve=d.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var M;if(M=ve===0){var K=String(d.D).match(Ta)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),M=!Ao.test(K?K.toLowerCase():"")}w=M}if(w)Ye(d,"complete"),Ye(d,"success");else{d.m=6;try{var ie=2<cr(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",So(d)}}finally{Yr(d)}}}}function Yr(d,_){if(d.g){Na(d);const w=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Ye(d,"ready");try{w.onreadystatechange=M}catch{}}}function Na(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function cr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ei(_)}};function bf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function km(d){const _={};d=(d.g&&2<=cr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(z(d[M]))continue;var w=U(d[M]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=_[K]||[];_[K]=ie,ie.push(w)}V(_,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function Ro(d){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,d),this.cb=Da("retryDelaySeedMs",1e4,d),this.Wa=Da("forwardChannelMaxRetries",2,d),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(d&&d.concurrentRequestLimit),this.Da=new Ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ro.prototype,n.la=8,n.G=1,n.connect=function(d,_,w,M){xt(0),this.W=d,this.H=_||{},w&&M!==void 0&&(this.H.OSID=w,this.H.OAID=M),this.F=this.X,this.I=Rf(this,null,this.W),Io(this)};function bu(d){if(Ef(d),d.G==3){var _=d.U++,w=Qn(d.I);if(vt(w,"SID",d.K),vt(w,"RID",_),vt(w,"TYPE","terminate"),Oa(d,w),_=new Mn(d,d.j,_),_.L=2,_.v=Sa(Qn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=_.v,w=!0),w||(_.g=Cf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ea(_)}xf(d)}function Co(d){d.g&&(Pa(d),d.g.cancel(),d.g=null)}function Ef(d){Co(d),d.u&&(f.clearTimeout(d.u),d.u=null),No(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Io(d){if(!_o(d.h)&&!d.s){d.s=!0;var _=d.Ga;W||j(),G||(W(),G=!0),_e.add(_,d),d.B=0}}function Lm(d,_){return bo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=qt(b(d.Ga,d,_),Tu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Mn(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=E(ie),I(ie,this.S)):ie=this.S),this.m!==null||this.O||(K.H=ie,ie=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var M=this.i[w];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=wf(this,K,_),w=Qn(this.I),vt(w,"RID",d),vt(w,"CVER",22),this.D&&vt(w,"X-HTTP-Session-Id",this.D),Oa(this,w),ie&&(this.O?_="headers="+encodeURIComponent(String(_u(ie)))+"&"+_:this.m&&ln(w,this.m,ie)),Eo(this.h,K),this.Ua&&vt(w,"TYPE","init"),this.P?(vt(w,"$req",_),vt(w,"SID","null"),K.T=!0,Er(K,w,null)):Er(K,w,_),this.G=2}}else this.G==3&&(d?Eu(this,d):this.i.length==0||_o(this.h)||Eu(this))};function Eu(d,_){var w;_?w=_.l:w=d.U++;const M=Qn(d.I);vt(M,"SID",d.K),vt(M,"RID",w),vt(M,"AID",d.T),Oa(d,M),d.m&&d.o&&ln(M,d.m,d.o),w=new Mn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),_&&(d.i=_.D.concat(d.i)),_=wf(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Eo(d.h,w),Er(w,M,_)}function Oa(d,_){d.H&&ae(d.H,function(w,M){vt(_,M,w)}),d.l&&mu({},function(w,M){vt(_,M,w)})}function wf(d,_,w){w=Math.min(d.i.length,w);var M=d.l?b(d.l.Na,d.l,d):null;e:{var K=d.i;let ie=-1;for(;;){const ve=["count="+w];ie==-1?0<w?(ie=K[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let at=!0;for(let Jt=0;Jt<w;Jt++){let ot=K[Jt].g;const un=K[Jt].map;if(ot-=ie,0>ot)ie=Math.max(0,K[Jt].g-100),at=!1;else try{$r(un,ve,"req"+ot+"_")}catch{M&&M(un)}}if(at){M=ve.join("&");break e}}}return d=d.i.splice(0,w),_.D=d,M}function Tf(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;W||j(),G||(W(),G=!0),_e.add(_,d),d.v=0}}function wu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=qt(b(d.Fa,d),Tu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Af(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=qt(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Co(this),Af(this))};function Pa(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Af(d){d.g=new Mn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Qn(d.qa);vt(_,"RID","rpc"),vt(_,"SID",d.K),vt(_,"AID",d.T),vt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&vt(_,"TO",d.ja),vt(_,"TYPE","xmlhttp"),Oa(d,_),d.m&&d.o&&ln(_,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Sa(Qn(_)),w.m=null,w.P=!0,xi(w,d)}n.Za=function(){this.C!=null&&(this.C=null,Co(this),wu(this),xt(19))};function No(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Sf(d,_){var w=null;if(d.g==_){No(d),Pa(d),d.g=null;var M=2}else if(du(d.h,_))w=_.D,kn(d.h,_),M=1;else return;if(d.G!=0){if(_.o)if(M==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var K=d.B;M=ms(),Ye(M,new Zt(M,w)),Io(d)}else Tf(d);else if(K=_.s,K==3||K==0&&0<_.X||!(M==1&&Lm(d,_)||M==2&&wu(d)))switch(w&&0<w.length&&(_=d.h,_.i=_.i.concat(w)),K){case 1:Pi(d,5);break;case 4:Pi(d,10);break;case 3:Pi(d,6);break;default:Pi(d,2)}}}function Tu(d,_){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*_}function Pi(d,_){if(d.j.info("Error code "+_),_==2){var w=b(d.fb,d),M=d.Xa;const K=!M;M=new Gt(M||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Aa(M,"https"),Sa(M),K?Ra(M.toString(),w):wr(M.toString(),w)}else xt(2);d.G=0,d.l&&d.l.sa(_),xf(d),Ef(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function xf(d){if(d.G=0,d.ka=[],d.l){const _=hu(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ka,_),N(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function Rf(d,_,w){var M=w instanceof Gt?Qn(w):new Gt(w);if(M.g!="")_&&(M.g=_+"."+M.g),_s(M,M.s);else{var K=f.location;M=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var ie=new Gt(null);M&&Aa(ie,M),_&&(ie.g=_),K&&_s(ie,K),w&&(ie.l=w),M=ie}return w=d.D,_=d.ya,w&&_&&vt(M,w,_),vt(M,"VER",d.la),Oa(d,M),M}function Cf(d,_,w){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new mt(new bs({eb:w})):new mt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function If(){}n=If.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Do(){}Do.prototype.g=function(d,_){return new Ln(d,_)};function Ln(d,_){$e.call(this),this.g=new Ro(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!z(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!z(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Xr(this)}R(Ln,$e),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){bu(this.g)},Ln.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=mn(d),d=w);_.i.push(new gf(_.Ya++,d)),_.G==3&&Io(_)},Ln.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,Ln.aa.N.call(this)};function Nf(d){Ai.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(Nf,Ai);function Df(){lu.call(this),this.status=1}R(Df,lu);function Xr(d){this.g=d}R(Xr,If),Xr.prototype.ua=function(){Ye(this.g,"a")},Xr.prototype.ta=function(d){Ye(this.g,new Nf(d))},Xr.prototype.sa=function(d){Ye(this.g,new Df)},Xr.prototype.ra=function(){Ye(this.g,"b")},Do.prototype.createWebChannel=Do.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,AR=function(){return new Do},TR=function(){return ms()},wR=Br,Qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,uh=ys,Si.COMPLETE="complete",ER=Si,ou.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",$e.prototype.listen=$e.prototype.K,yc=ou,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,bR=mt}).apply(typeof Gd<"u"?Gd:typeof self<"u"?self:typeof window<"u"?window:{});const OT="@firebase/firestore",PT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new zv("@firebase/firestore");function fl(){return uo.logLevel}function we(n,...e){if(uo.logLevel<=rt.DEBUG){const t=e.map(Jv);uo.debug(`Firestore (${eu}): ${n}`,...t)}}function us(n,...e){if(uo.logLevel<=rt.ERROR){const t=e.map(Jv);uo.error(`Firestore (${eu}): ${n}`,...t)}}function kl(n,...e){if(uo.logLevel<=rt.WARN){const t=e.map(Jv);uo.warn(`Firestore (${eu}): ${n}`,...t)}}function Jv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,SR(n,i,t)}function SR(n,e,t){let i=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw us(i),new Error(i)}function pt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||SR(e,a,i)}function Ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nn.UNAUTHENTICATED))}shutdown(){}}class q3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G3{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let l=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ns,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},f=h=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ns)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new xR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class $3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new $3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new MT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Y3(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function Ky(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Ze(i,a);{const l=RR(),c=X3(l.encode(kT(n,t)),l.encode(kT(e,t)));return c!==0?c:Ze(i,a)}}t+=i>65535?2:1}return Ze(n.length,e.length)}function kT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ze(n[t],e[t]);return Ze(n.length,e.length)}function Ll(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=-62135596800,VT=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*VT);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LT)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-LT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ut(0,0))}static max(){return new He(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__name__";class ri{constructor(e,t,i){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Be(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ri.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ze(e.length,t.length)}static compareSegments(e,t){const i=ri.isNumericId(e),a=ri.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ri.extractNumericId(e).compare(ri.extractNumericId(t)):Ky(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class St extends ri{construct(e,t,i){return new St(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new St(t)}static emptyPath(){return new St([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ri{construct(e,t,i){return new Tn(e,t,i)}static isValidIdentifier(e){return W3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UT}static keyField(){return new Tn([UT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Te(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Te(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function Z3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=He.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new ca(a,ke.empty(),e)}function J3(n){return new ca(n.readTime,n.key,Vc)}class ca{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ca(He.min(),ke.empty(),Vc)}static max(){return new ca(He.max(),ke.empty(),Vc)}}function e5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==t5)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},h=>i(h))}),c=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const m=h;t(e[m]).next(y=>{c[m]=y,++f,f===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new fe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function r5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-1;function hm(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}function i5(n){return typeof n=="number"&&Number.isInteger(n)&&!Nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="";function s5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jT(e)),e=a5(n.get(t),e);return jT(e)}function a5(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case IR:t+="";break;default:t+=l}}return t}function jT(n){return n+IR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new En(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BT(this.data.getIterator())}getIteratorFrom(e){return new BT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class BT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new rr([])}unionWith(e){let t=new sn(Tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new DR("Invalid base64 string: "+l):l}}(e);return new An(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new An(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const o5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const t=o5.exec(n);if(pt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function da(n){return typeof n=="string"?An.fromBase64String(n):An.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="server_timestamp",PR="__type__",MR="__previous_value__",kR="__local_write_time__";function t0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[PR])===null||t===void 0?void 0:t.stringValue)===OR}function mm(n){const e=n.mapValue.fields[MR];return t0(e)?mm(e):e}function Uc(n){const e=fa(n.mapValue.fields[kR].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,t,i,a,l,c,f,h,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=y}}const Dh="(default)";class jc{constructor(e,t){this.projectId=e,this.database=t||Dh}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="__type__",u5="__max__",Qd={mapValue:{}},VR="__vector__",Oh="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t0(n)?4:f5(n)?9007199254740991:c5(n)?10:11:Be(28295,{value:n})}function yi(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Uc(n).isEqual(Uc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=fa(a.timestampValue),f=fa(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return da(a.bytesValue).isEqual(da(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ht(a.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ht(a.integerValue)===Ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ht(a.doubleValue),f=Ht(l.doubleValue);return c===f?Nh(c)===Nh(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Ll(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(zT(c)!==zT(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!yi(c[h],f[h])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function zc(n,e){return(n.values||[]).find(t=>yi(t,e))!==void 0}function Vl(n,e){if(n===e)return 0;const t=ha(n),i=ha(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Ht(l.integerValue||l.doubleValue),h=Ht(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return FT(n.timestampValue,e.timestampValue);case 4:return FT(Uc(n),Uc(e));case 5:return Ky(n.stringValue,e.stringValue);case 6:return function(l,c){const f=da(l),h=da(c);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),h=c.split("/");for(let m=0;m<f.length&&m<h.length;m++){const y=Ze(f[m],h[m]);if(y!==0)return y}return Ze(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ze(Ht(l.latitude),Ht(c.latitude));return f!==0?f:Ze(Ht(l.longitude),Ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return HT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,h,m,y;const v=l.fields||{},b=c.fields||{},A=(f=v[Oh])===null||f===void 0?void 0:f.arrayValue,R=(h=b[Oh])===null||h===void 0?void 0:h.arrayValue,x=Ze(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return x!==0?x:HT(A,R)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Qd.mapValue&&c===Qd.mapValue)return 0;if(l===Qd.mapValue)return 1;if(c===Qd.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),m=c.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const b=Ky(h[v],y[v]);if(b!==0)return b;const A=Vl(f[h[v]],m[y[v]]);if(A!==0)return A}return Ze(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{Pe:t})}}function FT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=fa(n),i=fa(e),a=Ze(t.seconds,i.seconds);return a!==0?a:Ze(t.nanos,i.nanos)}function HT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Vl(t[a],i[a]);if(l)return l}return Ze(t.length,i.length)}function Ul(n){return Yy(n)}function Yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=fa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return da(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Yy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Yy(t.fields[c])}`;return a+"}"}(n.mapValue):Be(61005,{value:n})}function ch(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(n);return e?16+ch(e):16;case 5:return 2*n.stringValue.length;case 6:return da(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+ch(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return va(i.fields,(l,c)=>{a+=l.length+ch(c)}),a}(n.mapValue);default:throw Be(13486,{value:n})}}function qT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xy(n){return!!n&&"integerValue"in n}function n0(n){return!!n&&"arrayValue"in n}function GT(n){return!!n&&"nullValue"in n}function $T(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fh(n){return!!n&&"mapValue"in n}function c5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LR])===null||t===void 0?void 0:t.stringValue)===VR}function Ac(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ac(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===u5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=Tn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=Ac(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];fh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){va(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new $n(Ac(this.value))}}function UR(n){const e=[];return va(n.fields,(t,i)=>{const a=new Tn([t]);if(fh(i)){const l=UR(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Dn(e,0,He.min(),He.min(),He.min(),$n.empty(),0)}static newFoundDocument(e,t,i,a){return new Dn(e,1,t,He.min(),i,a,0)}static newNoDocument(e,t){return new Dn(e,2,t,He.min(),He.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,He.min(),He.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function QT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=ke.comparator(ke.fromName(c.referenceValue),t.key):i=Vl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function KT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function d5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class Yt extends jR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new m5(e,t,i):t==="array-contains"?new y5(e,i):t==="in"?new v5(e,i):t==="not-in"?new _5(e,i):t==="array-contains-any"?new b5(e,i):new Yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new p5(e,i):new g5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vl(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends jR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Vr(e,t)}matches(e){return zR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function zR(n){return n.op==="and"}function BR(n){return h5(n)&&zR(n)}function h5(n){for(const e of n.filters)if(e instanceof Vr)return!1;return!0}function Wy(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(BR(n))return n.filters.map(e=>Wy(e)).join(",");{const e=n.filters.map(t=>Wy(t)).join(",");return`${n.op}(${e})`}}function FR(n,e){return n instanceof Yt?function(i,a){return a instanceof Yt&&i.op===a.op&&i.field.isEqual(a.field)&&yi(i.value,a.value)}(n,e):n instanceof Vr?function(i,a){return a instanceof Vr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&FR(c,a.filters[f]),!0):!1}(n,e):void Be(19439)}function HR(n){return n instanceof Yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ul(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(HR).join(" ,")+"}"}(n):"Filter"}class m5 extends Yt{constructor(e,t,i){super(e,t,i),this.key=ke.fromName(i.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class p5 extends Yt{constructor(e,t){super(e,"in",t),this.keys=qR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class g5 extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=qR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ke.fromName(i.referenceValue))}class y5 extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return n0(t)&&zc(t.arrayValue,this.value)}}class v5 extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zc(this.value.arrayValue,t)}}class _5 extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zc(this.value.arrayValue,t)}}class b5 extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!n0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function YT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new E5(n,e,t,i,a,l,c)}function r0(n){const e=Ge(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ul(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ul(i)).join(",")),e.Ie=t}return e.Ie}function i0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KT(n.startAt,e.startAt)&&KT(n.endAt,e.endAt)}function Zy(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function w5(n,e,t,i,a,l,c,f){return new rf(n,e,t,i,a,l,c,f)}function pm(n){return new rf(n)}function XT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GR(n){return n.collectionGroup!==null}function Sc(n){const e=Ge(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new sn(Tn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Mh(l,i))}),t.has(Tn.keyField().canonicalString())||e.Ee.push(new Mh(Tn.keyField(),i))}return e.Ee}function hi(n){const e=Ge(n);return e.de||(e.de=T5(e,Sc(n))),e.de}function T5(n,e){if(n.limitType==="F")return YT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Mh(a.field,l)});const t=n.endAt?new Ph(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ph(n.startAt.position,n.startAt.inclusive):null;return YT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Jy(n,e){const t=n.filters.concat([e]);return new rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ev(n,e,t){return new rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gm(n,e){return i0(hi(n),hi(e))&&n.limitType===e.limitType}function $R(n){return`${r0(hi(n))}|lt:${n.limitType}`}function dl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>HR(a)).join(", ")}]`),hm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ul(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ul(a)).join(",")),`Target(${i})`}(hi(n))}; limitType=${n.limitType})`}function ym(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Sc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,f,h){const m=QT(c,f,h);return c.inclusive?m<=0:m<0}(i.startAt,Sc(i),a)||i.endAt&&!function(c,f,h){const m=QT(c,f,h);return c.inclusive?m>=0:m>0}(i.endAt,Sc(i),a))}(n,e)}function A5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QR(n){return(e,t)=>{let i=!1;for(const a of Sc(n)){const l=S5(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function S5(n,e,t){const i=n.field.isKeyField()?ke.comparator(e.key,t.key):function(l,c,f){const h=c.data.field(l),m=f.data.field(l);return h!==null&&m!==null?Vl(h,m):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return NR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Pt(ke.comparator);function cs(){return x5}const KR=new Pt(ke.comparator);function vc(...n){let e=KR;for(const t of n)e=e.insert(t.key,t);return e}function YR(n){let e=KR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Wa(){return xc()}function XR(){return xc()}function xc(){return new ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const R5=new Pt(ke.comparator),C5=new sn(ke.comparator);function it(...n){let e=C5;for(const t of n)e=e.add(t);return e}const I5=new sn(Ze);function N5(){return I5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function WR(n){return{integerValue:""+n}}function D5(n,e){return i5(e)?WR(e):s0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function O5(n,e,t){return n instanceof kh?function(a,l){const c={fields:{[PR]:{stringValue:OR},[kR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&t0(l)&&(l=mm(l)),l&&(c.fields[MR]=l),{mapValue:c}}(t,e):n instanceof Bc?JR(n,e):n instanceof Fc?eC(n,e):function(a,l){const c=ZR(a,l),f=WT(c)+WT(a.Re);return Xy(c)&&Xy(a.Re)?WR(f):s0(a.serializer,f)}(n,e)}function P5(n,e,t){return n instanceof Bc?JR(n,e):n instanceof Fc?eC(n,e):t}function ZR(n,e){return n instanceof Lh?function(i){return Xy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class kh extends vm{}class Bc extends vm{constructor(e){super(),this.elements=e}}function JR(n,e){const t=tC(e);for(const i of n.elements)t.some(a=>yi(a,i))||t.push(i);return{arrayValue:{values:t}}}class Fc extends vm{constructor(e){super(),this.elements=e}}function eC(n,e){let t=tC(e);for(const i of n.elements)t=t.filter(a=>!yi(a,i));return{arrayValue:{values:t}}}class Lh extends vm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function WT(n){return Ht(n.integerValue||n.doubleValue)}function tC(n){return n0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function M5(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Bc&&a instanceof Bc||i instanceof Fc&&a instanceof Fc?Ll(i.elements,a.elements,yi):i instanceof Lh&&a instanceof Lh?yi(i.Re,a.Re):i instanceof kh&&a instanceof kh}(n.transform,e.transform)}class k5{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _m{}function nC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new a0(n.key,Or.none()):new sf(n.key,n.data,Or.none());{const t=n.data,i=$n.empty();let a=new sn(Tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new _a(n.key,i,new rr(a.toArray()),Or.none())}}function L5(n,e,t){n instanceof sf?function(a,l,c){const f=a.value.clone(),h=JT(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof _a?function(a,l,c){if(!dh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=JT(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(rC(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Rc(n,e,t,i){return n instanceof sf?function(l,c,f,h){if(!dh(l.precondition,c))return f;const m=l.value.clone(),y=e1(l.fieldTransforms,h,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof _a?function(l,c,f,h){if(!dh(l.precondition,c))return f;const m=e1(l.fieldTransforms,h,c),y=c.data;return y.setAll(rC(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(l,c,f){return dh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function V5(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=ZR(i.transform,a||null);l!=null&&(t===null&&(t=$n.empty()),t.set(i.field,l))}return t||null}function ZT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ll(i,a,(l,c)=>M5(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sf extends _m{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _a extends _m{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function JT(n,e,t){const i=new Map;pt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,P5(c,f,t[a]))}return i}function e1(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,O5(l,c,e))}return i}class a0 extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U5 extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&L5(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Rc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Rc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=XR();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const h=nC(c,f);h!==null&&i.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(t,i)=>ZT(t,i))&&Ll(this.baseMutations,e.baseMutations,(t,i)=>ZT(t,i))}}class o0{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){pt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return R5}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new o0(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,ut;function F5(n){switch(n){case de.OK:return Be(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function iC(n){if(n===void 0)return us("GRPC error has no .code"),de.UNKNOWN;switch(n){case Kt.OK:return de.OK;case Kt.CANCELLED:return de.CANCELLED;case Kt.UNKNOWN:return de.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return de.INTERNAL;case Kt.UNAVAILABLE:return de.UNAVAILABLE;case Kt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Kt.NOT_FOUND:return de.NOT_FOUND;case Kt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Kt.ABORTED:return de.ABORTED;case Kt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Kt.DATA_LOSS:return de.DATA_LOSS;default:return Be(39323,{code:n})}}(ut=Kt||(Kt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new aa([4294967295,4294967295],0);function t1(n){const e=RR().encode(n),t=new _R;return t.update(e),new Uint8Array(t.digest())}function n1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new aa([t,i],0),new aa([a,l],0)]}class l0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(i<0)throw new _c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=aa.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(aa.fromNumber(i)));return a.compare(H5)===1&&(a=new aa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=t1(e),[i,a]=n1(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new l0(l,a,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=t1(e),[i,a]=n1(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bm(He.min(),a,new Pt(Ze),cs(),it())}}class af{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new af(i,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class sC{constructor(e,t){this.targetId=e,this.Ce=t}}class aC{constructor(e,t,i=An.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class r1{constructor(){this.Fe=0,this.Me=i1(),this.xe=An.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=it(),t=it(),i=it();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Be(38017,{changeType:l})}}),new af(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=i1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class q5{constructor(e){this.ze=e,this.je=new Map,this.He=cs(),this.Je=Kd(),this.Ye=Kd(),this.Ze=new Pt(Ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Zy(l))if(i===0){const c=new ke(l.path);this.tt(t,c,Dn.newNoDocument(c,He.min()))}else pt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),h=f?this.lt(f,e,c):1;if(h!==0){this.st(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=da(i).toUint8Array()}catch(h){if(h instanceof DR)return kl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new l0(c,a,l)}catch(h){return kl(h instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&Zy(f.target)){const h=new ke(f.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,Dn.newNoDocument(h,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=it();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new bm(e,t,this.Ze,this.He,i);return this.He=cs(),this.Je=Kd(),this.Ye=Kd(),this.Ze=new Pt(Ze),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new r1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sn(Ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sn(Ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new r1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new Pt(ke.comparator)}function i1(){return new Pt(ke.comparator)}const G5={asc:"ASCENDING",desc:"DESCENDING"},$5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q5={and:"AND",or:"OR"};class K5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tv(n,e){return n.useProto3Json||hm(e)?e:{value:e}}function Vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Y5(n,e){return Vh(n,e.toTimestamp())}function mi(n){return pt(!!n,49232),He.fromTimestamp(function(t){const i=fa(t);return new Ut(i.seconds,i.nanos)}(n))}function u0(n,e){return nv(n,e).canonicalString()}function nv(n,e){const t=function(a){return new St(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lC(n){const e=St.fromString(n);return pt(hC(e),10190,{key:e.toString()}),e}function rv(n,e){return u0(n.databaseId,e.path)}function sy(n,e){const t=lC(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(cC(t))}function uC(n,e){return u0(n.databaseId,e)}function X5(n){const e=lC(n);return e.length===4?St.emptyPath():cC(e)}function iv(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cC(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function s1(n,e,t){return{name:rv(n,e),fields:t.value.mapValue.fields}}function W5(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Be(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(pt(y===void 0||typeof y=="string",58123),An.fromBase64String(y||"")):(pt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),An.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const y=m.code===void 0?de.UNKNOWN:iC(m.code);return new Te(y,m.message||"")}(c);t=new aC(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=sy(n,i.document.name),l=mi(i.document.updateTime),c=i.document.createTime?mi(i.document.createTime):He.min(),f=new $n({mapValue:{fields:i.document.fields}}),h=Dn.newFoundDocument(a,l,c,f),m=i.targetIds||[],y=i.removedTargetIds||[];t=new hh(m,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=sy(n,i.document),l=i.readTime?mi(i.readTime):He.min(),c=Dn.newNoDocument(a,l),f=i.removedTargetIds||[];t=new hh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=sy(n,i.document),l=i.removedTargetIds||[];t=new hh([],l,a,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new B5(a,l),f=i.targetId;t=new sC(f,c)}}return t}function Z5(n,e){let t;if(e instanceof sf)t={update:s1(n,e.key,e.value)};else if(e instanceof a0)t={delete:rv(n,e.key)};else if(e instanceof _a)t={update:s1(n,e.key,e.data),updateMask:o9(e.fieldMask)};else{if(!(e instanceof U5))return Be(16599,{ft:e.type});t={verify:rv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof kh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Fc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lh)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Be(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Y5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Be(27497)}(n,e.precondition)),t}function J5(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?mi(a.updateTime):mi(l);return c.isEqual(He.min())&&(c=mi(l)),new k5(c,a.transformResults||[])}(t,e))):[]}function e9(n,e){return{documents:[uC(n,e.path)]}}function t9(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=uC(n,a);const l=function(m){if(m.length!==0)return dC(Vr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:hl(b.field),direction:i9(b.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=tv(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function n9(n){let e=X5(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){pt(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(v){const b=fC(v);return b instanceof Vr&&BR(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(v){return v.map(b=>function(R){return new Mh(ml(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(v){let b;return b=typeof v=="object"?v.value:v,hm(b)?null:b}(t.limit));let h=null;t.startAt&&(h=function(v){const b=!!v.before,A=v.values||[];return new Ph(A,b)}(t.startAt));let m=null;return t.endAt&&(m=function(v){const b=!v.before,A=v.values||[];return new Ph(A,b)}(t.endAt)),w5(e,a,c,l,f,"F",h,m)}function r9(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ml(t.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(t.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(t.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ml(t.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return Yt.create(ml(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(i=>fC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function i9(n){return G5[n]}function s9(n){return $5[n]}function a9(n){return Q5[n]}function hl(n){return{fieldPath:n.canonicalString()}}function ml(n){return Tn.fromServerFormat(n.fieldPath)}function dC(n){return n instanceof Yt?function(t){if(t.op==="=="){if($T(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NAN"}};if(GT(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($T(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NOT_NAN"}};if(GT(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(t.field),op:s9(t.op),value:t.value}}}(n):n instanceof Vr?function(t){const i=t.getFilters().map(a=>dC(a));return i.length===1?i[0]:{compositeFilter:{op:a9(t.op),filters:i}}}(n):Be(54877,{filter:n})}function o9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t,i,a,l=He.min(),c=He.min(),f=An.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.wt=e}}function u9(n){const e=n9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.Cn=new f9}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ca.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class f9{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new sn(St.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new sn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mC=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(mC,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new jl(0)}static lr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="LruGarbageCollector",d9=1048576;function l1([n,e],[t,i]){const a=Ze(n,t);return a===0?Ze(e,i):a}class h9{constructor(e){this.Er=e,this.buffer=new sn(l1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();l1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class m9{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(o1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nu(t)?we(o1,"Ignoring IndexedDB error during garbage collection: ",t):await tu(t)}await this.mr(3e5)})}}class p9{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(dm.le);const i=new h9(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(a1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,f,h,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(i=v,f=Date.now(),this.removeTargets(e,i,t))).next(v=>(l=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(m=Date.now(),fl()<=rt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function g9(n,e){return new p9(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.changes=new ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Rc(i.mutation,a,rr.empty(),Ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,t,i=it()){const a=Wa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=vc();return l.forEach((f,h)=>{c=c.insert(f,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,it()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,a){let l=cs();const c=xc(),f=function(){return xc()}();return t.forEach((h,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof _a)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Rc(y.mutation,m,y.mutation.getFieldMask(),Ut.now())):c.set(m.key,rr.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var v;return f.set(m,new v9(y,(v=c.get(m))!==null&&v!==void 0?v:null))}),f))}recalculateAndSaveOverlays(e,t){const i=xc();let a=new Pt((c,f)=>c-f),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let y=i.get(h)||rr.empty();y=f.applyToLocalView(m,y),i.set(h,y);const v=(a.get(f.batchId)||it()).add(h);a=a.insert(f.batchId,v)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,y=h.value,v=XR();y.forEach(b=>{if(!l.has(b)){const A=nC(t.get(b),i.get(b));A!==null&&v.set(b,A),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):fe.resolve(Wa());let f=Vc,h=l;return c.next(m=>fe.forEach(m,(y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{h=h.insert(y,b)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,h,m,it())).next(y=>({batchId:f,changes:YR(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(i=>{let a=vc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=vc();return this.indexManager.getCollectionParents(e,l).next(f=>fe.forEach(f,h=>{const m=function(v,b){return new rf(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((h,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Dn.newInvalidDocument(y)))});let f=vc();return c.forEach((h,m)=>{const y=l.get(h);y!==void 0&&Rc(y.mutation,m,rr.empty(),Ut.now()),ym(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:mi(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:u9(a.bundledQuery),readTime:mi(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.overlays=new Pt(ke.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Wa();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Wa(),l=t.length+1,c=new ke(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&h.largestBatchId>i&&a.set(h.getKey(),h)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Pt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Wa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Wa(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return fe.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new z5(t,i));let l=this.Qr.get(t);l===void 0&&(l=it(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.$r=new sn(hn.Ur),this.Kr=new sn(hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new hn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new hn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ke(new St([])),i=new hn(t,e),a=new hn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ke(new St([])),i=new hn(t,e),a=new hn(t,e+1);let l=it();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new hn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class hn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ke.comparator(e.key,t.key)||Ze(e.Zr,t.Zr)}static Wr(e,t){return Ze(e.Zr,t.Zr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new sn(hn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new j5(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new hn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?e0:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new hn(t,0),a=new hn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const f=this.ei(c.Zr);l.push(f)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(Ze);return t.forEach(a=>{const l=new hn(a,0),c=new hn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{i=i.add(f.Zr)})}),fe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ke.isDocumentKey(l)||(l=l.child(""));const c=new hn(new ke(l),0);let f=new sn(Ze);return this.Xr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(h.Zr)),!0)},c),fe.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){pt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return fe.forEach(t.mutations,a=>{const l=new hn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new hn(t,0),a=this.Xr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.ii=e,this.docs=function(){return new Pt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let i=cs();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Dn.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=cs();const c=t.path,f=new ke(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:y}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||e5(J3(y),i)<=0||(a.has(y.key)||ym(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Be(9500)}si(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new S9(this)}getSize(e){return fe.resolve(this.size)}}class S9 extends y9{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.persistence=e,this.oi=new ho(t=>r0(t),i0),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new c0,this.targetCount=0,this.ui=jl.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new jl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.ci={},this.overlays={},this.li=new dm(0),this.hi=!1,this.hi=!0,this.Pi=new w9,this.referenceDelegate=e(this),this.Ti=new x9(this),this.indexManager=new c9,this.remoteDocumentCache=function(a){return new A9(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new l9(t),this.Ei=new b9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new E9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new T9(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){we("MemoryPersistence","Starting transaction:",e);const a=new R9(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return fe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class R9 extends n5{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Vi=new c0,this.mi=null}static fi(e){return new f0(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,i=>{const a=ke.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,He.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.yi=new ho(i=>s5(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=g9(this,t)}static fi(e,t){return new Uh(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?fe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,He.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ch(e.data.value)),t}Dr(e,t,i){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=it(),a=it();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new d0(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return f6()?8:r5(On())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new C9;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(fl()<=rt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(fl()<=rt.DEBUG&&we("QueryEngine","Query:",dl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(fl()<=rt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(t))):fe.resolve())}ws(e,t){if(XT(t))return fe.resolve(null);let i=hi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=ev(t,null,"F"),i=hi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=it(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const m=this.vs(t,f);return this.Cs(t,m,c,h.readTime)?this.ws(e,ev(t,null,"F")):this.Fs(e,m,t,h)}))})))}bs(e,t,i,a){return XT(t)||a.isEqual(He.min())?fe.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?fe.resolve(null):(fl()<=rt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(t)),this.Fs(e,c,t,Z3(a,Vc)).next(f=>f))})}vs(e,t){let i=new sn(QR(e));return t.forEach((a,l)=>{ym(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return fl()<=rt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",dl(t)),this.ys.getDocumentsMatchingQuery(e,t,ca.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="LocalStore",N9=3e8;class D9{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Pt(Ze),this.Os=new ho(l=>r0(l),i0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function O9(n,e,t,i){return new D9(n,e,t,i)}async function gC(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let h=it();for(const m of a){c.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(i,h).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:f}))})})}function P9(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,h,m,y){const v=m.batch,b=v.keys();let A=fe.resolve();return b.forEach(R=>{A=A.next(()=>y.getEntry(h,R)).next(x=>{const N=m.docVersions.get(R);pt(N!==null,48541),x.version.compareTo(N)<0&&(v.applyToRemoteDocument(x,m),x.isValidDocument()&&(x.setReadTime(m.commitVersion),y.addEntry(x)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(h,v))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=it();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function yC(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function M9(n,e){const t=Ge(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((y,v)=>{const b=a.get(v);if(!b)return;f.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,v)));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(An.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),function(x,N,k){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=N9?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,A,y)&&f.push(t.Ti.updateTargetData(l,A))});let h=cs(),m=it();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(k9(l,c,e.documentUpdates).next(y=>{h=y.qs,m=y.Qs})),!i.isEqual(He.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(v=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return fe.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,h,m)).next(()=>h)}).then(l=>(t.xs=a,l))}function k9(n,e,t){let i=it(),a=it();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=cs();return t.forEach((f,h)=>{const m=l.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(He.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):we(h0,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{qs:c,Qs:a}})}function L9(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=e0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function V9(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,fe.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new ta(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function sv(n,e,t){const i=Ge(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!nu(c))throw c;we(h0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function u1(n,e,t){const i=Ge(n);let a=He.min(),l=it();return i.persistence.runTransaction("Execute query","readwrite",c=>function(h,m,y){const v=Ge(h),b=v.Os.get(y);return b!==void 0?fe.resolve(v.xs.get(b)):v.Ti.getTargetData(m,y)}(i,c,hi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(h=>{l=h})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:He.min(),t?l:it())).next(f=>(U9(i,A5(e),f),{documents:f,$s:l})))}function U9(n,e,t){let i=n.Ns.get(e)||He.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class c1{constructor(){this.activeTargetIds=N5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j9{constructor(){this.xo=new c1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new c1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="ConnectivityMonitor";class d1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(f1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(f1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function av(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="RestConnection",B9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F9{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===Dh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=av(),f=this.jo(e,t.toUriEncodedString());we(ay,`Sending RPC '${e}' ${c}:`,f,i);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,a,l);const{host:m}=new URL(f),y=Xl(m);return this.Jo(e,f,h,i,y).then(v=>(we(ay,`Received RPC '${e}' ${c}: `,v),v),v=>{throw kl(ay,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",i),v})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=B9[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class q9 extends F9{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=av();return new Promise((f,h)=>{const m=new bR;m.setWithCredentials(!0),m.listenOnce(ER.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uh.NO_ERROR:const v=m.getResponseJson();we(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case uh.TIMEOUT:we(Cn,`RPC '${e}' ${c} timed out`),h(new Te(de.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const b=m.getStatus();if(we(Cn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const x=function(k){const z=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(z)>=0?z:de.UNKNOWN}(R.status);h(new Te(x,R.message))}else h(new Te(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Te(de.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{we(Cn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);we(Cn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",y,i,15)})}I_(e,t,i){const a=av(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AR(),f=TR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const y=l.join("");we(Cn,`Creating RPC '${e}' stream ${a}: ${y}`,h);const v=c.createWebChannel(y,h);this.E_(v);let b=!1,A=!1;const R=new H9({Zo:N=>{A?we(Cn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(b||(we(Cn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),we(Cn,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Xo:()=>v.close()}),x=(N,k,z)=>{N.listen(k,F=>{try{z(F)}catch($){setTimeout(()=>{throw $},0)}})};return x(v,yc.EventType.OPEN,()=>{A||(we(Cn,`RPC '${e}' stream ${a} transport opened.`),R.__())}),x(v,yc.EventType.CLOSE,()=>{A||(A=!0,we(Cn,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(v))}),x(v,yc.EventType.ERROR,N=>{A||(A=!0,kl(Cn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),R.u_(new Te(de.UNAVAILABLE,"The operation could not be completed")))}),x(v,yc.EventType.MESSAGE,N=>{var k;if(!A){const z=N.data[0];pt(!!z,16349);const F=z,$=(F==null?void 0:F.error)||((k=F[0])===null||k===void 0?void 0:k.error);if($){we(Cn,`RPC '${e}' stream ${a} received error:`,$);const Y=$.status;let ae=function(C){const I=Kt[C];if(I!==void 0)return iC(I)}(Y),V=$.message;ae===void 0&&(ae=de.INTERNAL,V="Unknown error status: "+Y+" with message "+$.message),A=!0,R.u_(new Te(ae,V)),v.close()}else we(Cn,`RPC '${e}' stream ${a} received:`,z),R.c_(z)}}),x(f,wR.STAT_EVENT,N=>{N.stat===Qy.PROXY?we(Cn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Qy.NOPROXY&&we(Cn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){return new K5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="PersistentStream";class _C{constructor(e,t,i,a,l,c,f,h){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vC(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(us(t.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new Te(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(h1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(we(h1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G9 extends _C{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=W5(this.serializer,e),i=function(l){if(!("targetChange"in l))return He.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?mi(c.readTime):He.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=iv(this.serializer),t.addTarget=function(l,c){let f;const h=c.target;if(f=Zy(h)?{documents:e9(l,h)}:{query:t9(l,h).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=oC(l,c.resumeToken);const m=tv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(He.min())>0){f.readTime=Vh(l,c.snapshotVersion.toTimestamp());const m=tv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=r9(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=iv(this.serializer),t.removeTarget=e,this.Q_(t)}}class $9 extends _C{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=J5(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=iv(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Z5(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{}class K9 extends Q9{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,nv(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(de.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,nv(t,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(de.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Y9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(us(t),this.ua=!1):we("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class X9{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{mo(this)&&(we(co,"Restarting streams for network reachability change."),await async function(h){const m=Ge(h);m.da.add(4),await of(m),m.Va.set("Unknown"),m.da.delete(4),await wm(m)}(this))})}),this.Va=new Y9(i,a)}}async function wm(n){if(mo(n))for(const e of n.Aa)await e(!0)}async function of(n){for(const e of n.Aa)await e(!1)}function bC(n,e){const t=Ge(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),y0(t)?g0(t):ru(t).N_()&&p0(t,e))}function m0(n,e){const t=Ge(n),i=ru(t);t.Ea.delete(e),i.N_()&&EC(t,e),t.Ea.size===0&&(i.N_()?i.k_():mo(t)&&t.Va.set("Unknown"))}function p0(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ru(n).Z_(e)}function EC(n,e){n.ma.Ke(e),ru(n).X_(e)}function g0(n){n.ma=new q5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ru(n).start(),n.Va.ca()}function y0(n){return mo(n)&&!ru(n).O_()&&n.Ea.size>0}function mo(n){return Ge(n).da.size===0}function wC(n){n.ma=void 0}async function W9(n){n.Va.set("Online")}async function Z9(n){n.Ea.forEach((e,t)=>{p0(n,e)})}async function J9(n,e){wC(n),y0(n)?(n.Va.Pa(e),g0(n)):n.Va.set("Unknown")}async function eU(n,e,t){if(n.Va.set("Online"),e instanceof aC&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){we(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jh(n,i)}else if(e instanceof hh?n.ma.Xe(e):e instanceof sC?n.ma.ot(e):n.ma.nt(e),!t.isEqual(He.min()))try{const i=await yC(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=l.Ea.get(m);y&&l.Ea.set(m,y.withResumeToken(h.resumeToken,c))}}),f.targetMismatches.forEach((h,m)=>{const y=l.Ea.get(h);if(!y)return;l.Ea.set(h,y.withResumeToken(An.EMPTY_BYTE_STRING,y.snapshotVersion)),EC(l,h);const v=new ta(y.target,h,m,y.sequenceNumber);p0(l,v)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){we(co,"Failed to raise snapshot:",i),await jh(n,i)}}async function jh(n,e,t){if(!nu(e))throw e;n.da.add(1),await of(n),n.Va.set("Offline"),t||(t=()=>yC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(co,"Retrying IndexedDB access"),await t(),n.da.delete(1),await wm(n)})}function TC(n,e){return e().catch(t=>jh(n,t,e))}async function Tm(n){const e=Ge(n),t=ma(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:e0;for(;tU(e);)try{const a=await L9(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,nU(e,a)}catch(a){await jh(e,a)}AC(e)&&SC(e)}function tU(n){return mo(n)&&n.Ia.length<10}function nU(n,e){n.Ia.push(e);const t=ma(n);t.N_()&&t.ea&&t.ta(e.mutations)}function AC(n){return mo(n)&&!ma(n).O_()&&n.Ia.length>0}function SC(n){ma(n).start()}async function rU(n){ma(n).ia()}async function iU(n){const e=ma(n);for(const t of n.Ia)e.ta(t.mutations)}async function sU(n,e,t){const i=n.Ia.shift(),a=o0.from(i,e,t);await TC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Tm(n)}async function aU(n,e){e&&ma(n).ea&&await async function(i,a){if(function(c){return F5(c)&&c!==de.ABORTED}(a.code)){const l=i.Ia.shift();ma(i).L_(),await TC(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Tm(i)}}(n,e),AC(n)&&SC(n)}async function m1(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),we(co,"RemoteStore received new credentials");const i=mo(t);t.da.add(3),await of(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await wm(t)}async function oU(n,e){const t=Ge(n);e?(t.da.delete(2),await wm(t)):e||(t.da.add(2),await of(t),t.Va.set("Unknown"))}function ru(n){return n.fa||(n.fa=function(t,i,a){const l=Ge(t);return l.oa(),new G9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:W9.bind(null,n),n_:Z9.bind(null,n),i_:J9.bind(null,n),Y_:eU.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),y0(n)?g0(n):n.Va.set("Unknown")):(await n.fa.stop(),wC(n))})),n.fa}function ma(n){return n.ga||(n.ga=function(t,i,a){const l=Ge(t);return l.oa(),new $9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:rU.bind(null,n),i_:aU.bind(null,n),na:iU.bind(null,n),ra:sU.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Tm(n)):(await n.ga.stop(),n.Ia.length>0&&(we(co,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new v0(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(n,e){if(us("AsyncQueue",`${e}: ${n}`),nu(n))return new Te(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ke.comparator(t.key,i.key):(t,i)=>ke.comparator(t.key,i.key),this.keyedMap=vc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new El;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.pa=new Pt(ke.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class zl{constructor(e,t,i,a,l,c,f,h,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new zl(e,t,El.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class uU{constructor(){this.queries=g1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ge(t),l=a.queries;a.queries=g1(),l.forEach((c,f)=>{for(const h of f.Sa)h.onError(i)})})(this,new Te(de.ABORTED,"Firestore shutting down"))}}function g1(){return new ho(n=>$R(n),gm)}async function b0(n,e){const t=Ge(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new lU,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=_0(c,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&w0(t)}async function E0(n,e){const t=Ge(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function cU(n,e){const t=Ge(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(i=!0);c.ba=a}}i&&w0(t)}function fU(n,e,t){const i=Ge(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function w0(n){n.Ca.forEach(e=>{e.next()})}var ov,y1;(y1=ov||(ov={})).xa="default",y1.Cache="cache";class T0{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new zl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ov.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.key=e}}class RC{constructor(e){this.key=e}}class dU{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.Za=QR(e),this.Xa=new El(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new p1,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,v)=>{const b=a.get(y),A=ym(this.query,v)?v:null,R=!!b&&this.mutatedKeys.has(b.key),x=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;b&&A?b.data.isEqual(A.data)?R!==x&&(i.track({type:3,doc:A}),N=!0):this.ru(b,A)||(i.track({type:2,doc:A}),N=!0,(h&&this.Za(A,h)>0||m&&this.Za(A,m)<0)&&(f=!0)):!b&&A?(i.track({type:0,doc:A}),N=!0):b&&!A&&(i.track({type:1,doc:b}),N=!0,(h||m)&&(f=!0)),N&&(A?(c=c.add(A),l=x?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Xa:c,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,v)=>function(A,R){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:N})}};return x(A)-x(R)}(y.type,v.type)||this.Za(y.doc,v.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],h=this.Ya.size===0&&this.current&&!a?1:0,m=h!==this.Ja;return this.Ja=h,c.length!==0||m?{snapshot:new zl(this.query,e.Xa,l,c,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new p1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new RC(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new xC(i))}),t}au(e){this.Ha=e.$s,this.Ya=it();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return zl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const A0="SyncEngine";class hU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class mU{constructor(e){this.key=e,this.cu=!1}}class pU{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ho(f=>$R(f),gm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pt(ke.comparator),this.Eu=new Map,this.du=new c0,this.Au={},this.Ru=new Map,this.Vu=jl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function gU(n,e,t=!0){const i=PC(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await CC(i,e,t,!0),a}async function yU(n,e){const t=PC(n);await CC(t,e,!0,!1)}async function CC(n,e,t,i){const a=await V9(n.localStore,hi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await vU(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&bC(n.remoteStore,a),f}async function vU(n,e,t,i,a){n.fu=(v,b,A)=>async function(x,N,k,z){let F=N.view.tu(k);F.Cs&&(F=await u1(x.localStore,N.query,!1).then(({documents:V})=>N.view.tu(V,F)));const $=z&&z.targetChanges.get(N.targetId),Y=z&&z.targetMismatches.get(N.targetId)!=null,ae=N.view.applyChanges(F,x.isPrimaryClient,$,Y);return _1(x,N.targetId,ae.ou),ae.snapshot}(n,v,b,A);const l=await u1(n.localStore,e,!0),c=new dU(e,l.$s),f=c.tu(l.documents),h=af.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,h);_1(n,t,m.ou);const y=new hU(e,t,c);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function _U(n,e,t){const i=Ge(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!gm(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await sv(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&m0(i.remoteStore,a.targetId),lv(i,a.targetId)}).catch(tu)):(lv(i,a.targetId),await sv(i.localStore,a.targetId,!0))}async function bU(n,e){const t=Ge(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),m0(t.remoteStore,i.targetId))}async function EU(n,e,t){const i=CU(n);try{const a=await function(c,f){const h=Ge(c),m=Ut.now(),y=f.reduce((A,R)=>A.add(R.key),it());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=cs(),x=it();return h.Bs.getEntries(A,y).next(N=>{R=N,R.forEach((k,z)=>{z.isValidDocument()||(x=x.add(k))})}).next(()=>h.localDocuments.getOverlayedDocuments(A,R)).next(N=>{v=N;const k=[];for(const z of f){const F=V5(z,v.get(z.key).overlayedDocument);F!=null&&k.push(new _a(z.key,F,UR(F.value.mapValue),Or.exists(!0)))}return h.mutationQueue.addMutationBatch(A,m,k,f)}).next(N=>{b=N;const k=N.applyToLocalDocumentSet(v,x);return h.documentOverlayCache.saveOverlays(A,N.batchId,k)})}).then(()=>({batchId:b.batchId,changes:YR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,h){let m=c.Au[c.currentUser.toKey()];m||(m=new Pt(Ze)),m=m.insert(f,h),c.Au[c.currentUser.toKey()]=m}(i,a.batchId,t),await lf(i,a.changes),await Tm(i.remoteStore)}catch(a){const l=_0(a,"Failed to persist write");t.reject(l)}}async function IC(n,e){const t=Ge(n);try{const i=await M9(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?pt(c.cu,14607):a.removedDocuments.size>0&&(pt(c.cu,42227),c.cu=!1))}),await lf(t,i,e)}catch(i){await tu(i)}}function v1(n,e,t){const i=Ge(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const h=Ge(c);h.onlineState=f;let m=!1;h.queries.forEach((y,v)=>{for(const b of v.Sa)b.Fa(f)&&(m=!0)}),m&&w0(h)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function wU(n,e,t){const i=Ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Pt(ke.comparator);c=c.insert(l,Dn.newNoDocument(l,He.min()));const f=it().add(l),h=new bm(He.min(),new Map,new Pt(Ze),c,f);await IC(i,h),i.Iu=i.Iu.remove(l),i.Eu.delete(e),S0(i)}else await sv(i.localStore,e,!1).then(()=>lv(i,e,t)).catch(tu)}async function TU(n,e){const t=Ge(n),i=e.batch.batchId;try{const a=await P9(t.localStore,e);DC(t,i,null),NC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await lf(t,a)}catch(a){await tu(a)}}async function AU(n,e,t){const i=Ge(n);try{const a=await function(c,f){const h=Ge(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,f).next(v=>(pt(v!==null,37113),y=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(i.localStore,e);DC(i,e,t),NC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await lf(i,a)}catch(a){await tu(a)}}function NC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function DC(n,e,t){const i=Ge(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function lv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||OC(n,i)})}function OC(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(m0(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),S0(n))}function _1(n,e,t){for(const i of t)i instanceof xC?(n.du.addReference(i.key,e),SU(n,i)):i instanceof RC?(we(A0,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||OC(n,i.key)):Be(19791,{pu:i})}function SU(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(we(A0,"New document in limbo: "+t),n.Tu.add(i),S0(n))}function S0(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ke(St.fromString(e)),i=n.Vu.next();n.Eu.set(i,new mU(t)),n.Iu=n.Iu.insert(t,i),bC(n.remoteStore,new ta(hi(pm(t.path)),i,"TargetPurposeLimboResolution",dm.le))}}async function lf(n,e,t){const i=Ge(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,h)=>{c.push(i.fu(h,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const v=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){a.push(m);const v=d0.Rs(h.targetId,m);l.push(v)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(h,m){const y=Ge(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(m,b=>fe.forEach(b.ds,A=>y.persistence.referenceDelegate.addReference(v,b.targetId,A)).next(()=>fe.forEach(b.As,A=>y.persistence.referenceDelegate.removeReference(v,b.targetId,A)))))}catch(v){if(!nu(v))throw v;we(h0,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const A=y.xs.get(b),R=A.snapshotVersion,x=A.withLastLimboFreeSnapshotVersion(R);y.xs=y.xs.insert(b,x)}}}(i.localStore,l))}async function xU(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){we(A0,"User change. New user:",e.toKey());const i=await gC(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(h=>{h.reject(new Te(de.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lf(t,i.ks)}}function RU(n,e){const t=Ge(n),i=t.Eu.get(e);if(i&&i.cu)return it().add(i.key);{let a=it();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const f=t.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function PC(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wU.bind(null,e),e.lu.Y_=cU.bind(null,e.eventManager),e.lu.gu=fU.bind(null,e.eventManager),e}function CU(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AU.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return O9(this.persistence,new I9,e.initialUser,this.serializer)}Su(e){return new pC(f0.fi,this.serializer)}bu(e){return new j9}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class IU extends zh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){pt(this.persistence.referenceDelegate instanceof Uh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new m9(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new pC(i=>Uh.fi(i,t),this.serializer)}}class uv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),await oU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uU}()}createDatastore(e){const t=Em(e.databaseInfo.databaseId),i=function(l){return new q9(l)}(e.databaseInfo);return function(l,c,f,h){return new K9(l,c,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,f){return new X9(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>v1(this.syncEngine,t,0),function(){return d1.C()?new d1:new z9}())}createSyncEngine(e,t){return function(a,l,c,f,h,m,y){const v=new pU(a,l,c,f,h,m);return y&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ge(a);we(co,"RemoteStore shutting down."),l.da.add(5),await of(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}uv.provider={build:()=>new uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class NU{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=CR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{we(pa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(we(pa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=_0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ly(n,e){n.asyncQueue.verifyOperationInProgress(),we(pa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await gC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function b1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DU(n);we(pa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>m1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>m1(e.remoteStore,a)),n._onlineComponents=e}async function DU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(pa,"Using user provided OfflineComponentProvider");try{await ly(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;kl("Error using user provided cache. Falling back to memory cache: "+t),await ly(n,new zh)}}else we(pa,"Using default OfflineComponentProvider"),await ly(n,new IU(void 0));return n._offlineComponents}async function MC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(pa,"Using user provided OnlineComponentProvider"),await b1(n,n._uninitializedComponentsProvider._online)):(we(pa,"Using default OnlineComponentProvider"),await b1(n,new uv))),n._onlineComponents}function OU(n){return MC(n).then(e=>e.syncEngine)}async function Bh(n){const e=await MC(n),t=e.eventManager;return t.onListen=gU.bind(null,e.syncEngine),t.onUnlisten=_U.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bU.bind(null,e.syncEngine),t}function PU(n,e,t={}){const i=new ns;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,h,m){const y=new x0({next:b=>{y.xu(),c.enqueueAndForget(()=>E0(l,v));const A=b.docs.has(f);!A&&b.fromCache?m.reject(new Te(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&h&&h.source==="server"?m.reject(new Te(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new T0(pm(f.path),y,{includeMetadataChanges:!0,Qa:!0});return b0(l,v)}(await Bh(n),n.asyncQueue,e,t,i)),i.promise}function MU(n,e,t={}){const i=new ns;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,h,m){const y=new x0({next:b=>{y.xu(),c.enqueueAndForget(()=>E0(l,v)),b.fromCache&&h.source==="server"?m.reject(new Te(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new T0(f,y,{includeMetadataChanges:!0,Qa:!0});return b0(l,v)}(await Bh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n,e,t){if(!t)throw new Te(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kU(n,e,t,i){if(e===!0&&i===!0)throw new Te(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w1(n){if(!ke.isDocumentKey(n))throw new Te(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T1(n){if(ke.isDocumentKey(n))throw new Te(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Am(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Am(n);throw new Te(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firestore.googleapis.com",A1=!0;class S1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VC,this.ssl=A1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:A1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d9)throw new Te(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new H3;switch(i.type){case"firstParty":return new Q3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=E1.get(t);i&&(we("ComponentProvider","Removing Datastore"),E1.delete(t),i.terminate())}(this),Promise.resolve()}}function LU(n,e,t,i={}){var a;n=br(n,Sm);const l=Xl(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l&&(Px(`https://${h}`),Mx("Firestore",!0)),c.host!==VC&&c.host!==h&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:h,ssl:l,emulatorOptions:i});if(!ao(m,f)&&(n._setSettings(m),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=Nn.MOCK_USER;else{y=n6(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Te(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Nn(b)}n._authCredentials=new q3(new xR(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class zn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class oa extends po{constructor(e,t,i){super(e,t,pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ke(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function ro(n,e,...t){if(n=Xt(n),LC("collection","path",e),n instanceof Sm){const i=St.fromString(e,...t);return T1(i),new oa(n,null,i)}{if(!(n instanceof zn||n instanceof oa))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return T1(i),new oa(n.firestore,null,i)}}function go(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=CR.newId()),LC("doc","path",e),n instanceof Sm){const i=St.fromString(e,...t);return w1(i),new zn(n,null,new ke(i))}{if(!(n instanceof zn||n instanceof oa))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return w1(i),new zn(n.firestore,n instanceof oa?n.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="AsyncQueue";class R1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vC(this,"async_queue_retry"),this.rc=()=>{const i=oy();i&&we(x1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=oy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=oy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ns;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!nu(e))throw e;we(x1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,us("INTERNAL UNHANDLED ERROR: ",C1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=v0.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Be(47125,{cc:C1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function C1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ga extends Sm{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new R1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}}function Dr(n,e){const t=typeof n=="object"?n:Ux(),i=typeof n=="string"?n:Dh,a=Fv(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=e6("firestore");l&&LU(a,...l)}return a}function xm(n){if(n._terminated)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VU(n),n._firestoreClient}function VU(n){var e,t,i;const a=n._freezeSettings(),l=function(f,h,m,y){return new l5(f,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new NU(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(An.fromBase64String(e))}catch(t){throw new Te(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=/^__.*__$/;class jU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new sf(e,this.data,t,this.fieldTransforms)}}class UC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ic:n})}}class N0{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new N0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Fh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(jC(this.Ic)&&UU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class zU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Em(e)}bc(e,t,i,a=!1){return new N0({Ic:e,methodName:t,wc:i,path:Tn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(n){const e=n._freezeSettings(),t=Em(n._databaseId);return new zU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BU(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);O0("Data must be an object, but it was:",c,i);const f=zC(i,c);let h,m;if(l.merge)h=new rr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=cv(e,v,t);if(!c.contains(b))throw new Te(de.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);FC(y,b)||y.push(b)}h=new rr(y),m=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,m=c.fieldTransforms;return new jU(new $n(f),h,m)}class Cm extends R0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}function FU(n,e,t,i){const a=n.bc(1,e,t);O0("Data must be an object, but it was:",a,i);const l=[],c=$n.empty();va(i,(h,m)=>{const y=P0(e,h,t);m=Xt(m);const v=a.mc(y);if(m instanceof Cm)l.push(y);else{const b=uf(m,v);b!=null&&(l.push(y),c.set(y,b))}});const f=new rr(l);return new UC(c,f,a.fieldTransforms)}function HU(n,e,t,i,a,l){const c=n.bc(1,e,t),f=[cv(e,i,t)],h=[a];if(l.length%2!=0)throw new Te(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(cv(e,l[b])),h.push(l[b+1]);const m=[],y=$n.empty();for(let b=f.length-1;b>=0;--b)if(!FC(m,f[b])){const A=f[b];let R=h[b];R=Xt(R);const x=c.mc(A);if(R instanceof Cm)m.push(A);else{const N=uf(R,x);N!=null&&(m.push(A),y.set(A,N))}}const v=new rr(m);return new UC(y,v,c.fieldTransforms)}function qU(n,e,t,i=!1){return uf(t,n.bc(i?4:3,e))}function uf(n,e){if(BC(n=Xt(n)))return O0("Unsupported field value:",e,n),zC(n,e);if(n instanceof R0)return function(i,a){if(!jC(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let h=uf(f,a.fc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return D5(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ut.fromDate(i);return{timestampValue:Vh(a.serializer,l)}}if(i instanceof Ut){const l=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vh(a.serializer,l)}}if(i instanceof C0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bl)return{bytesValue:oC(a.serializer,i._byteString)};if(i instanceof zn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:u0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof I0)return function(c,f){return{mapValue:{fields:{[LR]:{stringValue:VR},[Oh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.gc("VectorValues must only contain numeric values.");return s0(f.serializer,m)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Am(i)}`)}(n,e)}function zC(n,e){const t={};return NR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(i,a)=>{const l=uf(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function BC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof C0||n instanceof Bl||n instanceof zn||n instanceof R0||n instanceof I0)}function O0(n,e,t){if(!BC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Am(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function cv(n,e,t){if((e=Xt(e))instanceof Rm)return e._internalPath;if(typeof e=="string")return P0(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const GU=new RegExp("[~\\*/\\[\\]]");function P0(n,e,t){if(e.search(GU)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rm(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${i}`),c&&(h+=` in document ${a}`),h+=")"),new Te(de.INVALID_ARGUMENT,f+n+h)}function FC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $U(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(M0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $U extends HC{data(){return super.data()}}function M0(n,e){return typeof e=="string"?P0(n,e):e instanceof Rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k0{}class QU extends k0{}function GC(n,e,...t){let i=[];e instanceof k0&&i.push(e),i=i.concat(t),function(l){const c=l.filter(h=>h instanceof L0).length,f=l.filter(h=>h instanceof Im).length;if(c>1||c>0&&f>0)throw new Te(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Im extends QU{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Im(e,t,i)}_apply(e){const t=this._parse(e);return QC(e._query,t),new po(e.firestore,e.converter,Jy(e._query,t))}_parse(e){const t=D0(e.firestore);return function(l,c,f,h,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Te(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){D1(v,y);const R=[];for(const x of v)R.push(N1(h,l,x));b={arrayValue:{values:R}}}else b=N1(h,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||D1(v,y),b=qU(f,c,v,y==="in"||y==="not-in");return Yt.create(m,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $C(n,e,t){const i=e,a=M0("where",n);return Im._create(a,i,t)}class L0 extends k0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new L0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const h of f)QC(c,h),c=Jy(c,h)}(e._query,t),new po(e.firestore,e.converter,Jy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N1(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new Te(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GR(e)&&t.indexOf("/")!==-1)throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(St.fromString(t));if(!ke.isDocumentKey(i))throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qT(n,new ke(i))}if(t instanceof zn)return qT(n,t._key);throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(t)}.`)}function D1(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QC(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KU{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return va(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Oh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Ht(c.doubleValue));return new I0(l)}convertGeoPoint(e){return new C0(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=mm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const t=fa(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=St.fromString(e);pt(hC(i),9688,{name:e});const a=new jc(i.get(1),i.get(3)),l=new ke(i.popFirst(5));return a.isEqual(t)||us(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KC extends HC{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(M0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mh extends KC{data(e={}){return super.data(e)}}class YC{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new bc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mh(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const h=new mh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new bc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const h=new mh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new bc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:XU(f.type),doc:h,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){n=br(n,zn);const e=br(n.firestore,ga);return PU(xm(e),n._key).then(t=>JC(e,n,t))}class V0 extends KU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function U0(n){n=br(n,po);const e=br(n.firestore,ga),t=xm(e),i=new V0(e);return qC(n._query),MU(t,n._query).then(a=>new YC(e,i,n,a))}function WC(n,e,t,...i){n=br(n,zn);const a=br(n.firestore,ga),l=D0(a);let c;return c=typeof(e=Xt(e))=="string"||e instanceof Rm?HU(l,"updateDoc",n._key,e,t,i):FU(l,"updateDoc",n._key,e),j0(a,[c.toMutation(n._key,Or.exists(!0))])}function ZC(n){return j0(br(n.firestore,ga),[new a0(n._key,Or.none())])}function fv(n,e){const t=br(n.firestore,ga),i=go(n),a=YU(n.converter,e);return j0(t,[BU(D0(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Or.exists(!1))]).then(()=>i)}function WU(n,...e){var t,i,a;n=Xt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||I1(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(I1(e[c])){const v=e[c];e[c]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[c+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[c+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let h,m,y;if(n instanceof zn)m=br(n.firestore,ga),y=pm(n._key.path),h={next:v=>{e[c]&&e[c](JC(m,n,v))},error:e[c+1],complete:e[c+2]};else{const v=br(n,po);m=br(v.firestore,ga),y=v._query;const b=new V0(m);h={next:A=>{e[c]&&e[c](new YC(m,b,v,A))},error:e[c+1],complete:e[c+2]},qC(n._query)}return function(b,A,R,x){const N=new x0(x),k=new T0(A,N,R);return b.asyncQueue.enqueueAndForget(async()=>b0(await Bh(b),k)),()=>{N.xu(),b.asyncQueue.enqueueAndForget(async()=>E0(await Bh(b),k))}}(xm(m),y,f,h)}function j0(n,e){return function(i,a){const l=new ns;return i.asyncQueue.enqueueAndForget(async()=>EU(await OU(i),a,l)),l.promise}(xm(n),e)}function JC(n,e,t){const i=t.docs.get(e._key),a=new V0(n);return new KC(n,a,e._key,i,new bc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){eu=a})(Wl),Pl(new oo("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ga(new G3(i.getProvider("auth-internal")),new K3(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ia(OT,PT,e),ia(OT,PT,"esm2017")})();var ZU="firebase",JU="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(ZU,JU,"app");const ej={apiKey:"AIzaSyCEBsLOVkHdvH9HcCaHa9O2On0u0FlRCt0",authDomain:"macdemo2.firebaseapp.com",databaseURL:"https://macdemo2-default-rtdb.firebaseio.com",projectId:"macdemo2",storageBucket:"macdemo2.firebasestorage.app",messagingSenderId:"631909084079",appId:"1:631909084079:web:0373acd3feb8bd8f9edd5a"},ir=Vx(ej),e2=S.createContext(null),tj=({children:n})=>{const[e,t]=S.useState(null),[i,a]=S.useState(!1);return S.useEffect(()=>{const l=Zv(ir),c=NV(l,async f=>{if(t(f),f){const h=Dr(ir),m=go(h,"admins",f.uid),y=await XC(m);a(y.exists())}else a(!1)});return()=>c()},[]),O.jsx(e2.Provider,{value:{user:e,isAdmin:i},children:n})},z0=()=>S.useContext(e2),nj=({children:n})=>{const[e,t]=S.useState(!1),{isAdmin:i}=z0(),[a,l]=S.useState(!1),c=rm(),[f,h]=S.useState(0),[m,y]=S.useState(!0);S.useEffect(()=>{if(!a)return;const A=()=>l(!1);return window.addEventListener("click",A),()=>window.removeEventListener("click",A)},[a]);const v=async()=>{const A=Zv();await DV(A),window.location.reload()};S.useEffect(()=>{const A=()=>{const R=window.pageYOffset;y(f>R||R<10),h(R)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[f]);const b=()=>O.jsxs(O.Fragment,{children:[O.jsxs(ui,{to:"/",className:"flex items-center space-x-1 text-muted-foreground hover:text-foreground transition-colors",onClick:()=>t(!1),children:[O.jsx(oD,{className:"h-5 w-5"}),O.jsx("span",{children:"Home"})]}),O.jsx(ui,{to:"/products",className:"text-muted-foreground hover:text-foreground transition-colors",onClick:()=>t(!1),children:"Products"}),i?O.jsxs("div",{className:"relative",children:[O.jsx("button",{className:"px-4 py-2 bg-blue-600 text-black rounded hover:bg-blue-700 transition",onClick:A=>{A.stopPropagation(),l(R=>!R)},children:"Admin"}),a&&O.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white border rounded shadow transition-all animate-slide-down z-50",onClick:A=>A.stopPropagation(),children:[O.jsx("button",{className:"w-full px-4 py-2 text-gray-800 hover:bg-gray-100 text-left",onClick:()=>{l(!1),c("/admin")},children:"Editar productos"}),O.jsx("button",{className:"w-full px-4 py-2 text-red-600 hover:bg-gray-100 text-left",onClick:v,children:"Sign out"})]})]}):O.jsx(ui,{to:"/admin-login",children:O.jsx("button",{className:"px-4 py-2 bg-blue-600 text-black rounded hover:bg-blue-700 transition",children:"Admin"})})]});return O.jsxs("div",{className:"min-h-screen bg-background",children:[O.jsx("nav",{className:`bg-white shadow-md sticky top-0 z-50 border-b border-border transition-transform duration-300 ${m?"translate-y-0":"-translate-y-full"}`,children:O.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:O.jsxs("div",{className:"flex justify-between items-center h-16",children:[O.jsxs(ui,{to:"/",className:"flex items-center space-x-2 text-xl font-bold text-foreground",children:[O.jsx("img",{src:"/MAC-app.png",alt:"Logo MAC",className:"h-10 w-auto"}),O.jsx("span",{})]}),O.jsx("div",{className:"hidden md:flex items-center space-x-6",children:O.jsx(b,{})}),O.jsx("div",{className:"md:hidden",children:O.jsxs(zk,{open:e,onOpenChange:t,children:[O.jsx(Bk,{asChild:!0,children:O.jsx(Wi,{variant:"ghost",size:"sm",children:O.jsx(uD,{className:"h-6 w-6"})})}),O.jsx(xx,{side:"right",className:"w-64",children:O.jsx("div",{className:"flex flex-col space-y-6 mt-8",children:O.jsx(b,{})})})]})})]})})}),O.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:n})]})},Hh=S.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:an("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Hh.displayName="Card";const rj=S.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:an("flex flex-col space-y-1.5 p-6",n),...e}));rj.displayName="CardHeader";const ij=S.forwardRef(({className:n,...e},t)=>O.jsx("h3",{ref:t,className:an("text-2xl font-semibold leading-none tracking-tight",n),...e}));ij.displayName="CardTitle";const sj=S.forwardRef(({className:n,...e},t)=>O.jsx("p",{ref:t,className:an("text-sm text-muted-foreground",n),...e}));sj.displayName="CardDescription";const qh=S.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:an("p-6 pt-0",n),...e}));qh.displayName="CardContent";const t2=S.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:an("flex items-center p-6 pt-0",n),...e}));t2.displayName="CardFooter";function aj(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Array(12).fill(0);let dv=1;class oj{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:dv++,c=this.toasts.find(h=>h.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:i}),{...h,...e,id:l,dismissible:f,title:i}):h):this.addToast({title:i,...a,dismissible:f,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,c;const f=a.then(async m=>{if(c=["resolve",m],tr.isValidElement(m))l=!1,this.create({id:i,type:"default",message:m});else if(uj(m)&&!m.ok){l=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,b=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,R=typeof v=="object"&&!tr.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:b,...R})}else if(m instanceof Error){l=!1;const v=typeof t.error=="function"?await t.error(m):t.error,b=typeof t.description=="function"?await t.description(m):t.description,R=typeof v=="object"&&!tr.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:b,...R})}else if(t.success!==void 0){l=!1;const v=typeof t.success=="function"?await t.success(m):t.success,b=typeof t.description=="function"?await t.description(m):t.description,R=typeof v=="object"&&!tr.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:b,...R})}}).catch(async m=>{if(c=["reject",m],t.error!==void 0){l=!1;const y=typeof t.error=="function"?await t.error(m):t.error,v=typeof t.description=="function"?await t.description(m):t.description,A=typeof y=="object"&&!tr.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...A})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((m,y)=>f.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:h}:Object.assign(i,{unwrap:h})},this.custom=(e,t)=>{const i=(t==null?void 0:t.id)||dv++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const vr=new oj,lj=(n,e)=>{const t=(e==null?void 0:e.id)||dv++;return vr.addToast({title:n,...e,id:t}),t},uj=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",cj=lj,fj=()=>vr.toasts,dj=()=>vr.getActiveToasts(),hj=Object.assign(cj,{success:vr.success,info:vr.info,warning:vr.warning,error:vr.error,custom:vr.custom,message:vr.message,promise:vr.promise,dismiss:vr.dismiss,loading:vr.loading},{getHistory:fj,getToasts:dj});aj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const n2=({product:n})=>{const{addToCart:e}=KS();return O.jsxs(Hh,{className:"group hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 md:hover:-translate-y-2 bg-card border-border h-full flex flex-col",children:[O.jsxs(ui,{to:`/product/${n.id}`,className:"flex-1 flex flex-col",children:[O.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:O.jsx("img",{src:n.imagen,alt:n.nombre,className:"w-full h-full object-cover group-hover:scale-105 md:group-hover:scale-110 transition-transform duration-300"})}),O.jsxs(qh,{className:"p-3 md:p-4 flex-1 flex flex-col",children:[O.jsx("h3",{className:"font-semibold text-base md:text-lg mb-2 group-hover:text-foreground transition-colors text-card-foreground line-clamp-2",children:n.nombre}),O.jsx("p",{className:"text-muted-foreground text-xs md:text-sm mb-2 line-clamp-2 flex-1",children:n.descripcion}),O.jsxs("p",{className:"text-xl md:text-2xl font-bold text-foreground",children:["S./",n.precio]})]})]}),O.jsx(t2,{children:O.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition",children:"Reserva"})})]})};function B0(){const[n,e]=S.useState([]),[t,i]=S.useState(!0);return S.useEffect(()=>{(async()=>{i(!0);const l=Dr(ir),c=await U0(ro(l,"products"));e(c.docs.map(f=>({id:f.id,...f.data()}))),i(!1)})()},[]),{products:n,loading:t}}const mj=()=>{const{products:n,loading:e}=B0();return O.jsxs("div",{children:[O.jsxs("section",{className:"text-center py-16 bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl mb-16",children:[O.jsxs("h1",{className:"text-5xl font-bold text-white mb-6",children:["Bienvenido a ",O.jsx("span",{className:"text-blue-400",children:"la tienda del MAC"})]}),O.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Descubre productos increíbles basados en arte y cultura."}),O.jsx(ui,{to:"/products",children:O.jsxs(Wi,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-lg px-8 py-3 text-white",children:["Ver productos",O.jsx(sD,{className:"ml-2 h-5 w-5"})]})})]}),O.jsx("section",{children:e?O.jsx("div",{children:"Cargando productos..."}):O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.slice(0,6).map(t=>O.jsx(n2,{product:t},t.id))})})]})},r2=S.forwardRef(({className:n,type:e,...t},i)=>O.jsx("input",{type:e,className:an("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));r2.displayName="Input";const pj=()=>{const[n,e]=S.useState(""),[t,i]=S.useState("All"),{products:a,loading:l}=B0(),c=["All",...Array.from(new Set(a.map(h=>h.categoria||"Sin categoría")))],f=a.filter(h=>{var v,b;const m=((v=h.nombre)==null?void 0:v.toLowerCase().includes(n.toLowerCase()))||""||((b=h.descripcion)==null?void 0:b.toLowerCase().includes(n.toLowerCase()))||"",y=t==="All"||(h.categoria||"Sin categoría")===t;return m&&y});return O.jsxs("div",{children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Todos los productos"}),O.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[O.jsxs("div",{className:"relative flex-1",children:[O.jsx(pD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),O.jsx(r2,{type:"text",placeholder:"Buscar productos...",value:n,onChange:h=>e(h.target.value),className:"pl-10"})]}),O.jsx("select",{value:t,onChange:h=>i(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(h=>O.jsx("option",{value:h,children:h},h))})]})]}),l?O.jsx("div",{children:"Cargando productos..."}):O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:f.map(h=>O.jsx(n2,{product:h},h.id))}),f.length===0&&!l&&O.jsx("div",{className:"text-center py-16",children:O.jsx("p",{className:"text-xl text-gray-600",children:"No se encontraron productos."})})]})},gj=()=>{const{items:n,removeFromCart:e,updateQuantity:t,getTotalPrice:i,clearCart:a}=KS(),l=()=>{hj.success("Thank you for your purchase! Order confirmed."),a()};return n.length===0?O.jsxs("div",{className:"text-center py-16",children:[O.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Cart is Empty"}),O.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Add some amazing products to get started!"}),O.jsx(ui,{to:"/products",children:O.jsxs(Wi,{className:"bg-blue-600 hover:bg-blue-700",children:[O.jsx(rD,{className:"mr-2 h-4 w-4"}),"Continue Shopping"]})})]}):O.jsxs("div",{children:[O.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cart"}),O.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[O.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.map(c=>O.jsx(Hh,{children:O.jsx(qh,{className:"p-6",children:O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsx("img",{src:c.image,alt:c.name,className:"w-20 h-20 object-cover rounded-lg"}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.name}),O.jsxs("p",{className:"text-blue-600 font-bold",children:["$",c.price]})]}),O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(Wi,{variant:"outline",size:"sm",onClick:()=>t(c.id,c.quantity-1),children:O.jsx(fD,{className:"h-4 w-4"})}),O.jsx("span",{className:"w-8 text-center",children:c.quantity}),O.jsx(Wi,{variant:"outline",size:"sm",onClick:()=>t(c.id,c.quantity+1),children:O.jsx(hD,{className:"h-4 w-4"})})]}),O.jsxs("div",{className:"text-right",children:[O.jsxs("p",{className:"text-lg font-bold",children:["$",(c.price*c.quantity).toFixed(2)]}),O.jsx(Wi,{variant:"ghost",size:"sm",onClick:()=>e(c.id),className:"text-red-600 hover:text-red-700",children:O.jsx(yD,{className:"h-4 w-4"})})]})]})})},c.id))}),O.jsx("div",{children:O.jsx(Hh,{children:O.jsxs(qh,{className:"p-6",children:[O.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),O.jsxs("div",{className:"space-y-2 mb-4",children:[O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{children:"Subtotal:"}),O.jsxs("span",{children:["$",i().toFixed(2)]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{children:"Shipping:"}),O.jsx("span",{children:"Free"})]}),O.jsx("div",{className:"border-t pt-2",children:O.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[O.jsx("span",{children:"Total:"}),O.jsxs("span",{children:["$",i().toFixed(2)]})]})})]}),O.jsx(Wi,{onClick:l,className:"w-full bg-blue-600 hover:bg-blue-700 mb-4",children:"Checkout"}),O.jsx(ui,{to:"/products",children:O.jsx(Wi,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]})})})]})]})},yj=()=>{const n=ds();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),O.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),O.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},vj=({editingProduct:n,onFinishEdit:e})=>{const[t,i]=S.useState(""),[a,l]=S.useState(""),[c,f]=S.useState(""),[h,m]=S.useState(""),[y,v]=S.useState(!1);S.useEffect(()=>{var A;n?(i(n.nombre||""),l(n.descripcion||""),f(((A=n.precio)==null?void 0:A.toString())||""),m(n.imagen||"")):(i(""),l(""),f(""),m(""))},[n]);const b=async A=>{A.preventDefault(),v(!0);try{const R=Dr(ir);n&&n.id?(await WC(go(R,"products",n.id),{nombre:t,descripcion:a,precio:parseFloat(c),imagen:h}),e&&e()):await fv(ro(R,"products"),{nombre:t,descripcion:a,precio:parseFloat(c),imagen:h,creado:Ut.now()}),i(""),l(""),f(""),m(""),alert(n?"Producto editado correctamente":"Producto añadido correctamente")}catch{alert("Error al guardar producto")}v(!1)};return O.jsxs("form",{onSubmit:b,className:"bg-white rounded-lg shadow p-6 space-y-4 max-w-md mx-auto",children:[O.jsx("h3",{className:"text-lg font-bold mb-2",children:n?"Editar producto":"Añadir producto"}),O.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:A=>i(A.target.value),required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),O.jsx("textarea",{placeholder:"Descripción",value:a,onChange:A=>l(A.target.value),required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),O.jsx("input",{type:"number",placeholder:"Precio",value:c,onChange:A=>f(A.target.value),required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),O.jsx("input",{type:"text",placeholder:"URL de imagen",value:h,onChange:A=>m(A.target.value),required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),O.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:y?"Guardando...":n?"Guardar cambios":"Añadir"}),n&&O.jsx("button",{type:"button",onClick:e,className:"w-full bg-gray-300 text-gray-800 py-2 rounded hover:bg-gray-400 transition mt-2",children:"Cancelar edición"})]})};var cl={},uy={exports:{}},cy,O1;function _j(){if(O1)return cy;O1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cy=n,cy}var fy,P1;function bj(){if(P1)return fy;P1=1;var n=_j();function e(){}function t(){}return t.resetWarningCache=e,fy=function(){function i(c,f,h,m,y,v){if(v!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},fy}var M1;function i2(){return M1||(M1=1,uy.exports=bj()()),uy.exports}var dy,k1;function s2(){return k1||(k1=1,dy={L:1,M:0,Q:3,H:2}),dy}var hy,L1;function a2(){return L1||(L1=1,hy={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),hy}var my,V1;function Ej(){if(V1)return my;V1=1;var n=a2();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}},my=e,my}var py,U1;function wj(){if(U1)return py;U1=1;var n=s2();function e(t,i){this.totalCount=t,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,i){var a=e.getRsBlockTable(t,i);if(a==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var l=a.length/3,c=new Array,f=0;f<l;f++)for(var h=a[f*3+0],m=a[f*3+1],y=a[f*3+2],v=0;v<h;v++)c.push(new e(m,y));return c},e.getRsBlockTable=function(t,i){switch(i){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},py=e,py}var gy,j1;function Tj(){if(j1)return gy;j1=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i++)this.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},gy=n,gy}var yy,z1;function o2(){if(z1)return yy;z1=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return yy=n,yy}var vy,B1;function l2(){if(B1)return vy;B1=1;var n=o2();function e(t,i){if(t.length==null)throw new Error(t.length+"/"+i);for(var a=0;a<t.length&&t[a]==0;)a++;this.num=new Array(t.length-a+i);for(var l=0;l<t.length-a;l++)this.num[l]=t[l+a]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var i=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var l=0;l<t.getLength();l++)i[a+l]^=n.gexp(n.glog(this.get(a))+n.glog(t.get(l)));return new e(i,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var i=n.glog(this.get(0))-n.glog(t.get(0)),a=new Array(this.getLength()),l=0;l<this.getLength();l++)a[l]=this.get(l);for(var l=0;l<t.getLength();l++)a[l]^=n.gexp(n.glog(t.get(l))+i);return new e(a,0).mod(t)}},vy=e,vy}var _y,F1;function Aj(){if(F1)return _y;F1=1;var n=a2(),e=l2(),t=o2(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var c=l<<10;a.getBCHDigit(c)-a.getBCHDigit(a.G15)>=0;)c^=a.G15<<a.getBCHDigit(c)-a.getBCHDigit(a.G15);return(l<<10|c)^a.G15_MASK},getBCHTypeNumber:function(l){for(var c=l<<12;a.getBCHDigit(c)-a.getBCHDigit(a.G18)>=0;)c^=a.G18<<a.getBCHDigit(c)-a.getBCHDigit(a.G18);return l<<12|c},getBCHDigit:function(l){for(var c=0;l!=0;)c++,l>>>=1;return c},getPatternPosition:function(l){return a.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,c,f){switch(l){case i.PATTERN000:return(c+f)%2==0;case i.PATTERN001:return c%2==0;case i.PATTERN010:return f%3==0;case i.PATTERN011:return(c+f)%3==0;case i.PATTERN100:return(Math.floor(c/2)+Math.floor(f/3))%2==0;case i.PATTERN101:return c*f%2+c*f%3==0;case i.PATTERN110:return(c*f%2+c*f%3)%2==0;case i.PATTERN111:return(c*f%3+(c+f)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var c=new e([1],0),f=0;f<l;f++)c=c.multiply(new e([1,t.gexp(f)],0));return c},getLengthInBits:function(l,c){if(1<=c&&c<10)switch(l){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(c<27)switch(l){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(c<41)switch(l){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+c)},getLostPoint:function(l){for(var c=l.getModuleCount(),f=0,h=0;h<c;h++)for(var m=0;m<c;m++){for(var y=0,v=l.isDark(h,m),b=-1;b<=1;b++)if(!(h+b<0||c<=h+b))for(var A=-1;A<=1;A++)m+A<0||c<=m+A||b==0&&A==0||v==l.isDark(h+b,m+A)&&y++;y>5&&(f+=3+y-5)}for(var h=0;h<c-1;h++)for(var m=0;m<c-1;m++){var R=0;l.isDark(h,m)&&R++,l.isDark(h+1,m)&&R++,l.isDark(h,m+1)&&R++,l.isDark(h+1,m+1)&&R++,(R==0||R==4)&&(f+=3)}for(var h=0;h<c;h++)for(var m=0;m<c-6;m++)l.isDark(h,m)&&!l.isDark(h,m+1)&&l.isDark(h,m+2)&&l.isDark(h,m+3)&&l.isDark(h,m+4)&&!l.isDark(h,m+5)&&l.isDark(h,m+6)&&(f+=40);for(var m=0;m<c;m++)for(var h=0;h<c-6;h++)l.isDark(h,m)&&!l.isDark(h+1,m)&&l.isDark(h+2,m)&&l.isDark(h+3,m)&&l.isDark(h+4,m)&&!l.isDark(h+5,m)&&l.isDark(h+6,m)&&(f+=40);for(var x=0,m=0;m<c;m++)for(var h=0;h<c;h++)l.isDark(h,m)&&x++;var N=Math.abs(100*x/c/c-50)/5;return f+=N*10,f}};return _y=a,_y}var by,H1;function Sj(){if(H1)return by;H1=1;var n=Ej(),e=wj(),t=Tj(),i=Aj(),a=l2();function l(f,h){this.typeNumber=f,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;return c.addData=function(f){var h=new n(f);this.dataList.push(h),this.dataCache=null},c.isDark=function(f,h){if(f<0||this.moduleCount<=f||h<0||this.moduleCount<=h)throw new Error(f+","+h);return this.modules[f][h]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var h=e.getRSBlocks(f,this.errorCorrectLevel),m=new t,y=0,v=0;v<h.length;v++)y+=h[v].dataCount;for(var v=0;v<this.dataList.length;v++){var b=this.dataList[v];m.put(b.mode,4),m.put(b.getLength(),i.getLengthInBits(b.mode,f)),b.write(m)}if(m.getLengthInBits()<=y*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(f,h){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[m][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,h),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},c.setupPositionProbePattern=function(f,h){for(var m=-1;m<=7;m++)if(!(f+m<=-1||this.moduleCount<=f+m))for(var y=-1;y<=7;y++)h+y<=-1||this.moduleCount<=h+y||(0<=m&&m<=6&&(y==0||y==6)||0<=y&&y<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=y&&y<=4?this.modules[f+m][h+y]=!0:this.modules[f+m][h+y]=!1)},c.getBestMaskPattern=function(){for(var f=0,h=0,m=0;m<8;m++){this.makeImpl(!0,m);var y=i.getLostPoint(this);(m==0||f>y)&&(f=y,h=m)}return h},c.createMovieClip=function(f,h,m){var y=f.createEmptyMovieClip(h,m),v=1;this.make();for(var b=0;b<this.modules.length;b++)for(var A=b*v,R=0;R<this.modules[b].length;R++){var x=R*v,N=this.modules[b][R];N&&(y.beginFill(0,100),y.moveTo(x,A),y.lineTo(x+v,A),y.lineTo(x+v,A+v),y.lineTo(x,A+v),y.endFill())}return y},c.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var h=8;h<this.moduleCount-8;h++)this.modules[6][h]==null&&(this.modules[6][h]=h%2==0)},c.setupPositionAdjustPattern=function(){for(var f=i.getPatternPosition(this.typeNumber),h=0;h<f.length;h++)for(var m=0;m<f.length;m++){var y=f[h],v=f[m];if(this.modules[y][v]==null)for(var b=-2;b<=2;b++)for(var A=-2;A<=2;A++)b==-2||b==2||A==-2||A==2||b==0&&A==0?this.modules[y+b][v+A]=!0:this.modules[y+b][v+A]=!1}},c.setupTypeNumber=function(f){for(var h=i.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var y=!f&&(h>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=y}for(var m=0;m<18;m++){var y=!f&&(h>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=y}},c.setupTypeInfo=function(f,h){for(var m=this.errorCorrectLevel<<3|h,y=i.getBCHTypeInfo(m),v=0;v<15;v++){var b=!f&&(y>>v&1)==1;v<6?this.modules[v][8]=b:v<8?this.modules[v+1][8]=b:this.modules[this.moduleCount-15+v][8]=b}for(var v=0;v<15;v++){var b=!f&&(y>>v&1)==1;v<8?this.modules[8][this.moduleCount-v-1]=b:v<9?this.modules[8][15-v-1+1]=b:this.modules[8][15-v-1]=b}this.modules[this.moduleCount-8][8]=!f},c.mapData=function(f,h){for(var m=-1,y=this.moduleCount-1,v=7,b=0,A=this.moduleCount-1;A>0;A-=2)for(A==6&&A--;;){for(var R=0;R<2;R++)if(this.modules[y][A-R]==null){var x=!1;b<f.length&&(x=(f[b]>>>v&1)==1);var N=i.getMask(h,y,A-R);N&&(x=!x),this.modules[y][A-R]=x,v--,v==-1&&(b++,v=7)}if(y+=m,y<0||this.moduleCount<=y){y-=m,m=-m;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(f,h,m){for(var y=e.getRSBlocks(f,h),v=new t,b=0;b<m.length;b++){var A=m[b];v.put(A.mode,4),v.put(A.getLength(),i.getLengthInBits(A.mode,f)),A.write(v)}for(var R=0,b=0;b<y.length;b++)R+=y[b].dataCount;if(v.getLengthInBits()>R*8)throw new Error("code length overflow. ("+v.getLengthInBits()+">"+R*8+")");for(v.getLengthInBits()+4<=R*8&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(!1);for(;!(v.getLengthInBits()>=R*8||(v.put(l.PAD0,8),v.getLengthInBits()>=R*8));)v.put(l.PAD1,8);return l.createBytes(v,y)},l.createBytes=function(f,h){for(var m=0,y=0,v=0,b=new Array(h.length),A=new Array(h.length),R=0;R<h.length;R++){var x=h[R].dataCount,N=h[R].totalCount-x;y=Math.max(y,x),v=Math.max(v,N),b[R]=new Array(x);for(var k=0;k<b[R].length;k++)b[R][k]=255&f.buffer[k+m];m+=x;var z=i.getErrorCorrectPolynomial(N),F=new a(b[R],z.getLength()-1),$=F.mod(z);A[R]=new Array(z.getLength()-1);for(var k=0;k<A[R].length;k++){var Y=k+$.getLength()-A[R].length;A[R][k]=Y>=0?$.get(Y):0}}for(var ae=0,k=0;k<h.length;k++)ae+=h[k].totalCount;for(var V=new Array(ae),E=0,k=0;k<y;k++)for(var R=0;R<h.length;R++)k<b[R].length&&(V[E++]=b[R][k]);for(var k=0;k<v;k++)for(var R=0;R<h.length;R++)k<A[R].length&&(V[E++]=A[R][k]);return V},by=l,by}var Xd={},q1;function xj(){if(q1)return Xd;q1=1,Object.defineProperty(Xd,"__esModule",{value:!0});var n=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var v=arguments[y];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},e=i2(),t=l(e),i=Fl(),a=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,y){var v={};for(var b in m)y.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(m,b)&&(v[b]=m[b]);return v}var f={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},h=(0,i.forwardRef)(function(m,y){var v=m.bgColor,b=m.bgD,A=m.fgD,R=m.fgColor,x=m.size,N=m.title,k=m.viewBoxSize,z=m.xmlns,F=z===void 0?"http://www.w3.org/2000/svg":z,$=c(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",n({},$,{height:x,ref:y,viewBox:"0 0 "+k+" "+k,width:x,xmlns:F}),N?a.default.createElement("title",null,N):null,a.default.createElement("path",{d:b,fill:v}),a.default.createElement("path",{d:A,fill:R}))});return h.displayName="QRCodeSvg",h.propTypes=f,Xd.default=h,Xd}var G1;function Rj(){if(G1)return cl;G1=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.QRCode=void 0;var n=Object.assign||function(x){for(var N=1;N<arguments.length;N++){var k=arguments[N];for(var z in k)Object.prototype.hasOwnProperty.call(k,z)&&(x[z]=k[z])}return x},e=i2(),t=v(e),i=s2(),a=v(i),l=Sj(),c=v(l),f=Fl(),h=v(f),m=xj(),y=v(m);function v(x){return x&&x.__esModule?x:{default:x}}function b(x,N){var k={};for(var z in x)N.indexOf(z)>=0||Object.prototype.hasOwnProperty.call(x,z)&&(k[z]=x[z]);return k}var A={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},R=(0,f.forwardRef)(function(x,N){var k=x.bgColor,z=k===void 0?"#FFFFFF":k,F=x.fgColor,$=F===void 0?"#000000":F,Y=x.level,ae=Y===void 0?"L":Y,V=x.size,E=V===void 0?256:V,C=x.value,I=b(x,["bgColor","fgColor","level","size","value"]),U=new c.default(-1,a.default[ae]);U.addData(C),U.make();var L=U.modules;return h.default.createElement(y.default,n({},I,{bgColor:z,bgD:L.map(function(P,J){return P.map(function(he,H){return he?"":"M "+H+" "+J+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:$,fgD:L.map(function(P,J){return P.map(function(he,H){return he?"M "+H+" "+J+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:N,size:E,viewBoxSize:L.length}))});return cl.QRCode=R,R.displayName="QRCode",R.propTypes=A,cl.default=R,cl}var Cj=Rj();const Ij=mv(Cj),Nj=({onEdit:n})=>{const[e,t]=S.useState([]),[i,a]=S.useState(!0);S.useEffect(()=>{const f=Dr(ir),h=WU(ro(f,"products"),m=>{t(m.docs.map(y=>({id:y.id,...y.data()}))),a(!1)});return()=>h()},[]);const l=async(f,h)=>{if(window.confirm(`¿Eliminar el producto "${h}"?`)){const m=Dr(ir);await ZC(go(m,"products",f))}},c=f=>{const h=document.getElementById(`qr-${f}`);if(!h)return;const y=new XMLSerializer().serializeToString(h),v=document.createElement("canvas"),b=new window.Image;b.onload=()=>{v.width=b.width,v.height=b.height;const A=v.getContext("2d");if(A){A.drawImage(b,0,0);const R=v.toDataURL("image/png"),x=document.createElement("a");x.href=R,x.download=`qr-producto-${f}.png`,document.body.appendChild(x),x.click(),document.body.removeChild(x)}},b.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(y)))};return i?O.jsx("div",{className:"text-center py-4",children:"Cargando productos..."}):O.jsxs("div",{className:"mt-8",children:[O.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Productos"}),O.jsx("ul",{className:"space-y-2",children:e.map(f=>O.jsxs("li",{className:"flex items-center justify-between px-4 py-2 rounded bg-gray-100 hover:bg-gray-200 transition",children:[O.jsx("span",{className:"font-medium text-gray-800",children:f.nombre}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>n(f),type:"button",children:"Editar"}),O.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",onClick:()=>l(f.id,f.nombre),type:"button",children:"Eliminar"}),O.jsxs("span",{className:"text-gray-500 ml-2",children:["S./",f.precio]}),O.jsxs("div",{className:"flex flex-col items-center ml-4",children:[O.jsx(Ij,{id:`qr-${f.id}`,value:`https://macdemo2.web.app/product/${f.id}`,size:48}),O.jsx("button",{className:"mt-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs",onClick:()=>c(f.id),type:"button",children:"Descargar QR"})]})]})]},f.id))})]})},Dj=()=>{const{isAdmin:n}=z0(),[e,t]=S.useState(null);return n?O.jsxs("div",{children:[O.jsx("h2",{children:"Panel de Administración"}),O.jsx(vj,{editingProduct:e,onFinishEdit:()=>t(null)}),O.jsx(Nj,{onEdit:t})]}):O.jsx("div",{children:"No tienes acceso a esta página."})},Oj=()=>{const[n,e]=S.useState(""),[t,i]=S.useState(""),[a,l]=S.useState(""),c=rm(),f=async h=>{h.preventDefault(),l("");try{const m=Zv(ir);await RV(m,Yv);const y=await xV(m,n,t),v=Dr(ir),b=go(v,"admins",y.user.uid);(await XC(b)).exists()?c("/admin"):l("No tienes permisos de administrador.")}catch{l("Credenciales incorrectas.")}};return O.jsxs("form",{onSubmit:f,children:[O.jsx("h2",{children:"Login de Administrador"}),O.jsx("input",{type:"email",placeholder:"Correo",value:n,onChange:h=>e(h.target.value),required:!0}),O.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:h=>i(h.target.value),required:!0}),O.jsx("button",{type:"submit",children:"Entrar"}),a&&O.jsx("div",{style:{color:"red"},children:a})]})},bn=[];for(let n=0;n<256;++n)bn.push((n+256).toString(16).slice(1));function Pj(n,e=0){return(bn[n[e+0]]+bn[n[e+1]]+bn[n[e+2]]+bn[n[e+3]]+"-"+bn[n[e+4]]+bn[n[e+5]]+"-"+bn[n[e+6]]+bn[n[e+7]]+"-"+bn[n[e+8]]+bn[n[e+9]]+"-"+bn[n[e+10]]+bn[n[e+11]]+bn[n[e+12]]+bn[n[e+13]]+bn[n[e+14]]+bn[n[e+15]]).toLowerCase()}let Ey;const Mj=new Uint8Array(16);function kj(){if(!Ey){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ey=crypto.getRandomValues.bind(crypto)}return Ey(Mj)}const Lj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$1={randomUUID:Lj};function Vj(n,e,t){var a;if($1.randomUUID&&!n)return $1.randomUUID();n=n||{};const i=n.random??((a=n.rng)==null?void 0:a.call(n))??kj();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Pj(i)}class cf{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const Uj=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},wn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Uj()},F0=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},jj=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=F0(n);wn.publicKey=t.publicKey,wn.blockHeadless=t.blockHeadless,wn.storageProvider=t.storageProvider,wn.blockList=t.blockList,wn.limitRate=t.limitRate,wn.origin=t.origin||e},u2=async(n,e,t={})=>{const i=await fetch(wn.origin+n,{method:"POST",headers:t,body:e}),a=await i.text(),l=new cf(i.status,a);if(i.ok)return l;throw l},c2=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},zj=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},f2=n=>n.webdriver||!n.languages||n.languages.length===0,d2=()=>new cf(451,"Unavailable For Headless Browser"),Bj=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Fj=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},Hj=(n,e)=>n instanceof FormData?n.get(e):n[e],h2=(n,e)=>{if(Fj(n))return!1;Bj(n.list,n.watchVariable);const t=Hj(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},m2=()=>new cf(403,"Forbidden"),qj=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Gj=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},p2=async(n,e,t)=>{if(!e.throttle||!t)return!1;qj(e.throttle,e.id);const i=e.id||n;return await Gj(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},g2=()=>new cf(429,"Too Many Requests"),$j=async(n,e,t,i)=>{const a=F0(i),l=a.publicKey||wn.publicKey,c=a.blockHeadless||wn.blockHeadless,f=a.storageProvider||wn.storageProvider,h={...wn.blockList,...a.blockList},m={...wn.limitRate,...a.limitRate};return c&&f2(navigator)?Promise.reject(d2()):(c2(l,n,e),zj(t),t&&h2(h,t)?Promise.reject(m2()):await p2(location.pathname,m,f)?Promise.reject(g2()):u2("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Qj=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Kj=n=>typeof n=="string"?document.querySelector(n):n,Yj=async(n,e,t,i)=>{const a=F0(i),l=a.publicKey||wn.publicKey,c=a.blockHeadless||wn.blockHeadless,f=wn.storageProvider||a.storageProvider,h={...wn.blockList,...a.blockList},m={...wn.limitRate,...a.limitRate};if(c&&f2(navigator))return Promise.reject(d2());const y=Kj(t);c2(l,n,e),Qj(y);const v=new FormData(y);return h2(h,v)?Promise.reject(m2()):await p2(location.pathname,m,f)?Promise.reject(g2()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",l),u2("/api/v1.0/email/send-form",v))},hv={init:jj,send:$j,sendForm:Yj,EmailJSResponseStatus:cf};var Wd={},Q1;function Xj(){if(Q1)return Wd;Q1=1,Object.defineProperty(Wd,"__esModule",{value:!0});var n=Fl();function e(E){return Array.prototype.slice.call(E)}function t(E,C){var I=Math.floor(E);return I===C||I+1===C?E:C}function i(){return Date.now()}function a(E,C,I){if(C="data-keen-slider-"+C,I===null)return E.removeAttribute(C);E.setAttribute(C,I||"")}function l(E,C){return C=C||document,typeof E=="function"&&(E=E(C)),Array.isArray(E)?E:typeof E=="string"?e(C.querySelectorAll(E)):E instanceof HTMLElement?[E]:E instanceof NodeList?e(E):[]}function c(E){E.raw&&(E=E.raw),E.cancelable&&!E.defaultPrevented&&E.preventDefault()}function f(E){E.raw&&(E=E.raw),E.stopPropagation&&E.stopPropagation()}function h(){var E=[];return{add:function(C,I,U,L){C.addListener?C.addListener(U):C.addEventListener(I,U,L),E.push([C,I,U,L])},input:function(C,I,U,L){this.add(C,I,function(P){return function(J){J.nativeEvent&&(J=J.nativeEvent);var he=J.changedTouches||[],H=J.targetTouches||[],W=J.detail&&J.detail.x?J.detail:null;return P({id:W?W.identifier?W.identifier:"i":H[0]?H[0]?H[0].identifier:"e":"d",idChanged:W?W.identifier?W.identifier:"i":he[0]?he[0]?he[0].identifier:"e":"d",raw:J,x:W&&W.x?W.x:H[0]?H[0].screenX:W?W.x:J.pageX,y:W&&W.y?W.y:H[0]?H[0].screenY:W?W.y:J.pageY})}}(U),L)},purge:function(){E.forEach(function(C){C[0].removeListener?C[0].removeListener(C[2]):C[0].removeEventListener(C[1],C[2],C[3])}),E=[]}}}function m(E,C,I){return Math.min(Math.max(E,C),I)}function y(E){return(E>0?1:0)-(E<0?1:0)||+E}function v(E){var C=E.getBoundingClientRect();return{height:t(C.height,E.offsetHeight),width:t(C.width,E.offsetWidth)}}function b(E,C,I,U){var L=E&&E[C];return L==null?I:U&&typeof L=="function"?L():L}function A(E){return Math.round(1e6*E)/1e6}function R(E,C){if(E===C)return!0;var I=typeof E;if(I!==typeof C)return!1;if(I!=="object"||E===null||C===null)return I==="function"&&E.toString()===C.toString();if(E.length!==C.length||Object.getOwnPropertyNames(E).length!==Object.getOwnPropertyNames(C).length)return!1;for(var U in E)if(!R(E[U],C[U]))return!1;return!0}var x=function(){return x=Object.assign||function(E){for(var C,I=1,U=arguments.length;I<U;I++)for(var L in C=arguments[I])Object.prototype.hasOwnProperty.call(C,L)&&(E[L]=C[L]);return E},x.apply(this,arguments)};function N(E,C,I){for(var U,L=0,P=C.length;L<P;L++)!U&&L in C||(U||(U=Array.prototype.slice.call(C,0,L)),U[L]=C[L]);return E.concat(U||Array.prototype.slice.call(C))}function k(E){var C,I,U,L,P,J;function he(j){J||(J=j),H(!0);var te=j-J;te>U&&(te=U);var se=L[I];if(se[3]<te)return I++,he(j);var ne=se[2],me=se[4],ge=se[0],pe=se[1]*(0,se[5])(me===0?1:(te-ne)/me);if(pe&&E.track.to(ge+pe),te<U)return G();J=null,H(!1),W(null),E.emit("animationEnded")}function H(j){C.active=j}function W(j){C.targetIdx=j}function G(){var j;j=he,P=window.requestAnimationFrame(j)}function _e(){var j;j=P,window.cancelAnimationFrame(j),H(!1),W(null),J&&E.emit("animationStopped"),J=null}return C={active:!1,start:function(j){if(_e(),E.track.details){var te=0,se=E.track.details.position;I=0,U=0,L=j.map(function(ne){var me,ge=Number(se),pe=(me=ne.earlyExit)!==null&&me!==void 0?me:ne.duration,ye=ne.easing,Pe=ne.distance*ye(pe/ne.duration)||0;se+=Pe;var Ve=U;return U+=pe,te+=Pe,[ge,ne.distance,Ve,U,ne.duration,ye]}),W(E.track.distToIdx(te)),G(),E.emit("animationStarted")}},stop:_e,targetIdx:null}}function z(E){var C,I,U,L,P,J,he,H,W,G,_e,j,te,se,ne=1/0,me=[],ge=null,pe=0;function ye(Ne){Mt(pe+Ne)}function Pe(Ne){var Re=Ve(pe+Ne).abs;return Ie(Re)?Re:null}function Ve(Ne){var Re=Math.floor(Math.abs(A(Ne/I))),be=A((Ne%I+I)%I);be===I&&(be=0);var Me=y(Ne),Oe=he.indexOf(N([],he).reduce(function(st,ct){return Math.abs(ct-be)<Math.abs(st-be)?ct:st})),je=Oe;return Me<0&&Re++,Oe===J&&(je=0,Re+=Me>0?1:-1),{abs:je+Re*J*Me,origin:Oe,rel:je}}function qe(Ne,Re,be){var Me;if(Re||!It())return Ee(Ne,be);if(!Ie(Ne))return null;var Oe=Ve(be??pe),je=Oe.abs,st=Ne-Oe.rel,ct=je+st;Me=Ee(ct);var $e=Ee(ct-J*y(st));return($e!==null&&Math.abs($e)<Math.abs(Me)||Me===null)&&(Me=$e),A(Me)}function Ee(Ne,Re){if(Re==null&&(Re=A(pe)),!Ie(Ne)||Ne===null)return null;Ne=Math.round(Ne);var be=Ve(Re),Me=be.abs,Oe=be.rel,je=be.origin,st=Nt(Ne),ct=(Re%I+I)%I,$e=he[je],Ye=Math.floor((Ne-(Me-Oe))/J)*I;return A($e-ct-$e+he[st]+Ye+(je===J?I:0))}function Ie(Ne){return et(Ne)===Ne}function et(Ne){return m(Ne,W,G)}function It(){return L.loop}function Nt(Ne){return(Ne%J+J)%J}function Mt(Ne){var Re;Re=Ne-pe,me.push({distance:Re,timestamp:i()}),me.length>6&&(me=me.slice(-6)),pe=A(Ne);var be=Ce().abs;if(be!==ge){var Me=ge!==null;ge=be,Me&&E.emit("slideChanged")}}function Ce(Ne){var Re=Ne?null:function(){if(J){var be=It(),Me=be?(pe%I+I)%I:pe,Oe=(be?pe%I:pe)-P[0][2],je=0-(Oe<0&&be?I-Math.abs(Oe):Oe),st=0,ct=Ve(pe),$e=ct.abs,Ye=ct.rel,on=P[Ye][2],jt=P.map(function(Pn,iu){var At=je+st;(At<0-Pn[0]||At>1)&&(At+=(Math.abs(At)>I-1&&be?I:0)*y(-At));var jr=iu-Ye,zr=y(jr),mn=jr+$e;be&&(zr===-1&&At>on&&(mn+=J),zr===1&&At<on&&(mn-=J),_e!==null&&mn<_e&&(At+=I),j!==null&&mn>j&&(At-=I));var Ei=At+Pn[0]+Pn[1],wi=Math.max(At>=0&&Ei<=1?1:Ei<0||At>1?0:At<0?Math.min(1,(Pn[0]+At)/Pn[0]):(1-At)/Pn[0],0);return st+=Pn[0]+Pn[1],{abs:mn,distance:L.rtl?-1*At+1-Pn[0]:At,portion:wi,size:Pn[0]}});return $e=et($e),Ye=Nt($e),{abs:et($e),length:U,max:se,maxIdx:G,min:te,minIdx:W,position:pe,progress:be?Me/I:pe/U,rel:Ye,slides:jt,slidesLength:I}}}();return C.details=Re,E.emit("detailsChanged"),Re}return C={absToRel:Nt,add:ye,details:null,distToIdx:Pe,idxToDist:qe,init:function(Ne){if(function(){if(L=E.options,P=(L.trackConfig||[]).map(function(Oe){return[b(Oe,"size",1),b(Oe,"spacing",0),b(Oe,"origin",0)]}),J=P.length){I=A(P.reduce(function(Oe,je){return Oe+je[0]+je[1]},0));var be,Me=J-1;U=A(I+P[0][2]-P[Me][0]-P[Me][2]-P[Me][1]),he=P.reduce(function(Oe,je){if(!Oe)return[0];var st=P[Oe.length-1],ct=Oe[Oe.length-1]+(st[0]+st[2])+st[1];return ct-=je[2],Oe[Oe.length-1]>ct&&(ct=Oe[Oe.length-1]),ct=A(ct),Oe.push(ct),(!be||be<ct)&&(H=Oe.length-1),be=ct,Oe},null),U===0&&(H=0),he.push(A(I))}}(),!J)return Ce(!0);var Re;(function(){var be=E.options.range,Me=E.options.loop;_e=W=Me?b(Me,"min",-1/0):0,j=G=Me?b(Me,"max",ne):H;var Oe=b(be,"min",null),je=b(be,"max",null);Oe!==null&&(W=Oe),je!==null&&(G=je),te=W===-1/0?W:E.track.idxToDist(W||0,!0,0),se=G===ne?G:qe(G,!0,0),je===null&&(j=G),b(be,"align",!1)&&G!==ne&&P[Nt(G)][2]===0&&(se-=1-P[Nt(G)][0],G=Pe(se-pe)),te=A(te),se=A(se)})(),Re=Ne,Number(Re)===Re?ye(Ee(et(Ne))):Ce()},to:Mt,velocity:function(){var Ne=i(),Re=me.reduce(function(be,Me){var Oe=Me.distance,je=Me.timestamp;return Ne-je>200||(y(Oe)!==y(be.distance)&&be.distance&&(be={distance:0,lastTimestamp:0,time:0}),be.time&&(be.distance+=Oe),be.lastTimestamp&&(be.time+=je-be.lastTimestamp),be.lastTimestamp=je),be},{distance:0,lastTimestamp:0,time:0});return Re.distance/Re.time||0}}}function F(E){var C,I,U,L,P,J,he,H;function W(ge){return 2*ge}function G(ge){return m(ge,he,H)}function _e(ge){return 1-Math.pow(1-ge,3)}function j(){return U?E.track.velocity():0}function te(){me();var ge=E.options.mode==="free-snap",pe=E.track,ye=j();L=y(ye);var Pe=E.track.details,Ve=[];if(ye||!ge){var qe=se(ye),Ee=qe.dist,Ie=qe.dur;if(Ie=W(Ie),Ee*=L,ge){var et=pe.idxToDist(pe.distToIdx(Ee),!0);et&&(Ee=et)}Ve.push({distance:Ee,duration:Ie,easing:_e});var It=Pe.position,Nt=It+Ee;if(Nt<P||Nt>J){var Mt=Nt<P?P-It:J-It,Ce=0,Ne=ye;if(y(Mt)===L){var Re=Math.min(Math.abs(Mt)/Math.abs(Ee),1),be=function(je){return 1-Math.pow(1-je,1/3)}(Re)*Ie;Ve[0].earlyExit=be,Ne=ye*(1-Re)}else Ve[0].earlyExit=0,Ce+=Mt;var Me=se(Ne,100),Oe=Me.dist*L;E.options.rubberband&&(Ve.push({distance:Oe,duration:W(Me.dur),easing:_e}),Ve.push({distance:-Oe+Ce,duration:500,easing:_e}))}E.animator.start(Ve)}else E.moveToIdx(G(Pe.abs),!0,{duration:500,easing:function(je){return 1+--je*je*je*je*je}})}function se(ge,pe){pe===void 0&&(pe=1e3);var ye=147e-9+(ge=Math.abs(ge))/pe;return{dist:Math.pow(ge,2)/ye,dur:ge/ye}}function ne(){var ge=E.track.details;ge&&(P=ge.min,J=ge.max,he=ge.minIdx,H=ge.maxIdx)}function me(){E.animator.stop()}E.on("updated",ne),E.on("optionsChanged",ne),E.on("created",ne),E.on("dragStarted",function(){U=!1,me(),C=I=E.track.details.abs}),E.on("dragChecked",function(){U=!0}),E.on("dragEnded",function(){var ge=E.options.mode;ge==="snap"&&function(){var pe=E.track,ye=E.track.details,Pe=ye.position,Ve=y(j());(Pe>J||Pe<P)&&(Ve=0);var qe=C+Ve;ye.slides[pe.absToRel(qe)].portion===0&&(qe-=Ve),C!==I&&(qe=I),y(pe.idxToDist(qe,!0))!==Ve&&(qe+=Ve),qe=G(qe);var Ee=pe.idxToDist(qe,!0);E.animator.start([{distance:Ee,duration:500,easing:function(Ie){return 1+--Ie*Ie*Ie*Ie*Ie}}])}(),ge!=="free"&&ge!=="free-snap"||te()}),E.on("dragged",function(){I=E.track.details.abs})}function $(E){var C,I,U,L,P,J,he,H,W,G,_e,j,te,se,ne,me,ge,pe,ye=h();function Pe(Ce){if(J&&H===Ce.id){var Ne=Ie(Ce);if(W){if(!Ee(Ce))return qe(Ce);G=Ne,W=!1,E.emit("dragChecked")}if(me)return G=Ne;c(Ce);var Re=function(Me){if(ge===-1/0&&pe===1/0)return Me;var Oe=E.track.details,je=Oe.length,st=Oe.position,ct=m(Me,ge-st,pe-st);if(je===0)return 0;if(!E.options.rubberband)return ct;if(st<=pe&&st>=ge||st<ge&&I>0||st>pe&&I<0)return Me;var $e=(st<ge?st-ge:st-pe)/je,Ye=L*je,on=Math.abs($e*Ye),jt=Math.max(0,1-on/P*2);return jt*jt*Me}(he(G-Ne)/L*U);I=y(Re);var be=E.track.details.position;(be>ge&&be<pe||be===ge&&I>0||be===pe&&I<0)&&f(Ce),_e+=Re,!j&&Math.abs(_e*L)>5&&(j=!0),E.track.add(Re),G=Ne,E.emit("dragged")}}function Ve(Ce){!J&&E.track.details&&E.track.details.length&&(_e=0,J=!0,j=!1,W=!0,H=Ce.id,Ee(Ce),G=Ie(Ce),E.emit("dragStarted"))}function qe(Ce){J&&H===Ce.idChanged&&(J=!1,E.emit("dragEnded"))}function Ee(Ce){var Ne=et(),Re=Ne?Ce.y:Ce.x,be=Ne?Ce.x:Ce.y,Me=te!==void 0&&se!==void 0&&Math.abs(se-be)<=Math.abs(te-Re);return te=Re,se=be,Me}function Ie(Ce){return et()?Ce.y:Ce.x}function et(){return E.options.vertical}function It(){L=E.size,P=et()?window.innerHeight:window.innerWidth;var Ce=E.track.details;Ce&&(ge=Ce.min,pe=Ce.max)}function Nt(Ce){j&&(f(Ce),c(Ce))}function Mt(){if(ye.purge(),E.options.drag&&!E.options.disabled){var Ce;Ce=E.options.dragSpeed||1,he=typeof Ce=="function"?Ce:function(Re){return Re*Ce},U=E.options.rtl?-1:1,It(),C=E.container,function(){var Re="data-keen-slider-clickable";l("[".concat(Re,"]:not([").concat(Re,"=false])"),C).map(function(be){ye.add(be,"dragstart",f),ye.add(be,"mousedown",f),ye.add(be,"touchstart",f)})}(),ye.add(C,"dragstart",function(Re){c(Re)}),ye.add(C,"click",Nt,{capture:!0}),ye.input(C,"ksDragStart",Ve),ye.input(C,"ksDrag",Pe),ye.input(C,"ksDragEnd",qe),ye.input(C,"mousedown",Ve),ye.input(C,"mousemove",Pe),ye.input(C,"mouseleave",qe),ye.input(C,"mouseup",qe),ye.input(C,"touchstart",Ve,{passive:!0}),ye.input(C,"touchmove",Pe,{passive:!1}),ye.input(C,"touchend",qe),ye.input(C,"touchcancel",qe),ye.add(window,"wheel",function(Re){J&&c(Re)});var Ne="data-keen-slider-scrollable";l("[".concat(Ne,"]:not([").concat(Ne,"=false])"),E.container).map(function(Re){return function(be){var Me;ye.input(be,"touchstart",function(Oe){Me=Ie(Oe),me=!0,ne=!0},{passive:!0}),ye.input(be,"touchmove",function(Oe){var je=et(),st=je?be.scrollHeight-be.clientHeight:be.scrollWidth-be.clientWidth,ct=Me-Ie(Oe),$e=je?be.scrollTop:be.scrollLeft,Ye=je&&be.style.overflowY==="scroll"||!je&&be.style.overflowX==="scroll";if(Me=Ie(Oe),(ct<0&&$e>0||ct>0&&$e<st)&&ne&&Ye)return me=!0;ne=!1,c(Oe),me=!1}),ye.input(be,"touchend",function(){me=!1})}(Re)})}}E.on("updated",It),E.on("optionsChanged",Mt),E.on("created",Mt),E.on("destroyed",ye.purge)}function Y(E){var C,I,U=null;function L(te,se,ne){E.animator.active?J(te,se,ne):requestAnimationFrame(function(){return J(te,se,ne)})}function P(){L(!1,!1,I)}function J(te,se,ne){var me=0,ge=E.size,pe=E.track.details;if(pe&&C){var ye=pe.slides;C.forEach(function(Pe,Ve){if(te)!U&&se&&H(Pe,null,ne),W(Pe,null,ne);else{if(!ye[Ve])return;var qe=ye[Ve].size*ge;!U&&se&&H(Pe,qe,ne),W(Pe,ye[Ve].distance*ge-me,ne),me+=qe}})}}function he(te){return E.options.renderMode==="performance"?Math.round(te):te}function H(te,se,ne){var me=ne?"height":"width";se!==null&&(se=he(se)+"px"),te.style["min-"+me]=se,te.style["max-"+me]=se}function W(te,se,ne){if(se!==null){se=he(se);var me=ne?se:0;se="translate3d(".concat(ne?0:se,"px, ").concat(me,"px, 0)")}te.style.transform=se,te.style["-webkit-transform"]=se}function G(){C&&(J(!0,!0,I),C=null),E.on("detailsChanged",P,!0)}function _e(){L(!1,!0,I)}function j(){G(),I=E.options.vertical,E.options.disabled||E.options.renderMode==="custom"||(U=b(E.options.slides,"perView",null)==="auto",E.on("detailsChanged",P),(C=E.slides).length&&_e())}E.on("created",j),E.on("optionsChanged",j),E.on("beforeOptionsChanged",function(){G()}),E.on("updated",_e),E.on("destroyed",G)}function ae(E,C){return function(I){var U,L,P,J,he,H=h();function W(Ee){var Ie;a(I.container,"reverse",(Ie=I.container,window.getComputedStyle(Ie,null).getPropertyValue("direction")!=="rtl"||Ee?null:"")),a(I.container,"v",I.options.vertical&&!Ee?"":null),a(I.container,"disabled",I.options.disabled&&!Ee?"":null)}function G(){_e()&&me()}function _e(){var Ee=null;if(J.forEach(function(et){et.matches&&(Ee=et.__media)}),Ee===U)return!1;U||I.emit("beforeOptionsChanged"),U=Ee;var Ie=Ee?P.breakpoints[Ee]:P;return I.options=x(x({},P),Ie),W(),Ve(),qe(),pe(),!0}function j(Ee){var Ie=v(Ee);return(I.options.vertical?Ie.height:Ie.width)/I.size||1}function te(){return I.options.trackConfig.length}function se(Ee){for(var Ie in U=!1,P=x(x({},C),Ee),H.purge(),L=I.size,J=[],P.breakpoints||[]){var et=window.matchMedia(Ie);et.__media=Ie,J.push(et),H.add(et,"change",G)}H.add(window,"orientationchange",Pe),H.add(window,"resize",ye),_e()}function ne(Ee){I.animator.stop();var Ie=I.track.details;I.track.init(Ee??(Ie?Ie.abs:0))}function me(Ee){ne(Ee),I.emit("optionsChanged")}function ge(Ee,Ie){if(Ee)return se(Ee),void me(Ie);Ve(),qe();var et=te();pe(),te()!==et?me(Ie):ne(Ie),I.emit("updated")}function pe(){var Ee=I.options.slides;if(typeof Ee=="function")return I.options.trackConfig=Ee(I.size,I.slides);for(var Ie=I.slides,et=Ie.length,It=typeof Ee=="number"?Ee:b(Ee,"number",et,!0),Nt=[],Mt=b(Ee,"perView",1,!0),Ce=b(Ee,"spacing",0,!0)/I.size||0,Ne=Mt==="auto"?Ce:Ce/Mt,Re=b(Ee,"origin","auto"),be=0,Me=0;Me<It;Me++){var Oe=Mt==="auto"?j(Ie[Me]):1/Mt-Ce+Ne,je=Re==="center"?.5-Oe/2:Re==="auto"?0:Re;Nt.push({origin:je,size:Oe,spacing:Ce}),be+=Oe}if(be+=Ce*(It-1),Re==="auto"&&!I.options.loop&&Mt!==1){var st=0;Nt.map(function(ct){var $e=be-st;return st+=ct.size+Ce,$e>=1||(ct.origin=1-$e-(be>1?0:1-be)),ct})}I.options.trackConfig=Nt}function ye(){Ve();var Ee=I.size;I.options.disabled||Ee===L||(L=Ee,ge())}function Pe(){ye(),setTimeout(ye,500),setTimeout(ye,2e3)}function Ve(){var Ee=v(I.container);I.size=(I.options.vertical?Ee.height:Ee.width)||1}function qe(){I.slides=l(I.options.selector,I.container)}I.container=(he=l(E,document)).length?he[0]:null,I.destroy=function(){H.purge(),I.emit("destroyed"),W(!0)},I.prev=function(){I.moveToIdx(I.track.details.abs-1,!0)},I.next=function(){I.moveToIdx(I.track.details.abs+1,!0)},I.update=ge,se(I.options)}}var V=function(E,C,I){try{return function(U,L){var P,J={};return P={emit:function(he){J[he]&&J[he].forEach(function(W){W(P)});var H=P.options&&P.options[he];H&&H(P)},moveToIdx:function(he,H,W){var G=P.track.idxToDist(he,H);if(G){var _e=P.options.defaultAnimation;P.animator.start([{distance:G,duration:b(W||_e,"duration",500),easing:b(W||_e,"easing",function(j){return 1+--j*j*j*j*j})}])}},on:function(he,H,W){W===void 0&&(W=!1),J[he]||(J[he]=[]);var G=J[he].indexOf(H);G>-1?W&&delete J[he][G]:W||J[he].push(H)},options:U},function(){if(P.track=z(P),P.animator=k(P),L)for(var he=0,H=L;he<H.length;he++)(0,H[he])(P);P.track.init(P.options.initial||0),P.emit("created")}(),P}(C,N([ae(E,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),Y,$,F],I||[],!0))}catch(U){console.error(U)}};return Wd.useKeenSlider=function(E,C){var I=n.useRef(null),U=n.useRef(!1),L=n.useRef(E),P=n.useCallback(function(J){J?(L.current=E,I.current=new V(J,E,C),U.current=!1):(I.current&&I.current.destroy&&I.current.destroy(),I.current=null)},[]);return n.useEffect(function(){R(L.current,E)||(L.current=E,I.current&&I.current.update(L.current))},[E]),[P,I]},Wd}var Wj=Xj();const Zj=["puta","mierda","idiota","imbecil","estupido","pendejo","cabron","maldito","joder","fuck","shit","bitch"];function Jj(n){const e=n.toLowerCase();return Zj.some(t=>e.includes(t))}async function e7(n){const e=`https://www.purgomalum.com/service/containsprofanity?text=${encodeURIComponent(n)}`;try{const t=await fetch(e);return t.ok?await t.text()==="true":!1}catch{return!1}}const t7=()=>{const{id:n}=M4(),{products:e,loading:t}=B0(),[i,a]=S.useState([]),[l,c]=S.useState(""),[f,h]=S.useState(!1),{isAdmin:m}=z0(),[y,v]=S.useState(!1),[b,A]=S.useState({nombreCompleto:"",correo:""}),[R,x]=S.useState(""),[N,k]=S.useState(""),z=e.find(L=>L.id===n),F=async()=>{if(!n)return;h(!0);const L=Dr(ir),P=GC(ro(L,"reviews"),$C("productId","==",n)),J=await U0(P);a(J.docs.map(he=>({id:he.id,...he.data()}))),h(!1)};S.useEffect(()=>{F()},[n]);const $=e.filter(L=>L.id!==n).slice(0,6),[Y,ae]=Wj.useKeenSlider({slides:{perView:2,spacing:16},breakpoints:{"(min-width: 640px)":{slides:{perView:4,spacing:24}}},loop:!0});function V(){return!(!b.nombreCompleto.trim()||!/\S+@\S+\.\S+/.test(b.correo))}const E=L=>{A({...b,[L.target.name]:L.target.value})},C=async L=>{if(L.preventDefault(),x(""),k(""),!b.nombreCompleto||!b.correo){x("Completa todos los campos.");return}if(!V()){x("Datos inválidos. Verifica los campos.");return}const P=Dr(ir),J=Vj();await fv(ro(P,"reservas"),{nombreCompleto:b.nombreCompleto,correo:b.correo,productId:n,producto:(z==null?void 0:z.nombre)||"",fecha:Ut.now(),estado:"pendiente",token:J});const he=`${window.location.origin}/confirmar-reserva?token=${J}`;try{await hv.send("service_lczuxk7","template_a5jfa69",{nombreCompleto:b.nombreCompleto,to_email:b.correo,confirm_url:he,producto:(z==null?void 0:z.nombre)||""},"ZfAQPHbwe6a7HzWAn"),k("¡Reserva realizada y notificada por correo!"),v(!1),A({nombreCompleto:"",correo:""})}catch{x("Error al enviar correo de notificación.")}},I=async L=>{if(!window.confirm("¿Eliminar este comentario?"))return;const P=Dr(ir);await ZC(go(P,"reviews",L)),F()},U=async L=>{if(L.preventDefault(),!l.trim())return;if(Jj(l)){alert("Tu comentario contiene lenguaje inapropiado.");return}if(await e7(l)){alert("Your comment contains inappropriate language.");return}const P=Dr(ir);await fv(ro(P,"reviews"),{productId:n,text:l,created:Ut.now()}),c(""),F()};return t?O.jsx("div",{children:"Cargando..."}):z?O.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start max-w-4xl mx-auto mt-8",children:[O.jsx("img",{src:z.imagen,alt:z.nombre,className:"w-full md:w-80 h-80 object-cover rounded shadow"}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h1",{className:"text-3xl font-bold mb-4",children:z.nombre}),O.jsx("p",{className:"text-lg mb-6",style:{whiteSpace:"pre-line"},children:z.descripcion}),O.jsxs("p",{className:"text-2xl font-semibold mb-4",children:["S./",z.precio]}),O.jsx("div",{className:"flex gap-4 mb-6",children:O.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition",onClick:()=>v(!0),children:"Reserva"})}),y&&O.jsxs("form",{onSubmit:C,className:"bg-white p-4 rounded shadow space-y-3 mb-4",children:[O.jsx("h3",{className:"font-bold text-lg mb-2",children:"Reserva este producto"}),O.jsx("input",{type:"text",name:"nombreCompleto",placeholder:"Nombres y Apellidos",value:b.nombreCompleto,onChange:E,className:"w-full px-3 py-2 border rounded",required:!0}),O.jsx("input",{type:"email",name:"correo",placeholder:"Correo",value:b.correo,onChange:E,className:"w-full px-3 py-2 border rounded",required:!0}),R&&O.jsx("div",{className:"text-red-600",children:R}),N&&O.jsx("div",{className:"text-green-600",children:N}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Reservar"}),O.jsx("button",{type:"button",className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 transition",onClick:()=>v(!1),children:"Cancelar"})]})]}),O.jsxs("div",{className:"bg-gray-50 p-4 rounded shadow",children:[O.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Reseñas"}),O.jsxs("form",{onSubmit:U,className:"mb-4 flex gap-2",children:[O.jsx("input",{type:"text",placeholder:"Escribe tu comentario...",value:l,onChange:L=>c(L.target.value),className:"flex-1 px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),O.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Comentar"})]}),f?O.jsx("div",{children:"Cargando reseñas..."}):i.length===0?O.jsx("div",{className:"text-gray-500",children:"Sé el primero en comentar."}):O.jsx("ul",{className:"space-y-2",children:i.map(L=>O.jsxs("li",{className:"bg-white p-2 rounded shadow flex items-center justify-between",children:[O.jsx("span",{children:L.text}),m&&O.jsx("button",{onClick:()=>I(L.id),className:"ml-2 text-red-600 font-bold hover:bg-red-100 rounded px-2",title:"Eliminar comentario",children:"×"})]},L.id))})]}),$.length>0&&O.jsxs("div",{className:"mt-12",children:[O.jsx("h2",{className:"text-xl font-semibold mb-4",children:"También podría interesarte"}),O.jsxs("div",{className:"relative",children:[O.jsx("button",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white border rounded-full shadow p-2 hover:bg-gray-100",onClick:()=>{var L;return(L=ae.current)==null?void 0:L.prev()},"aria-label":"Anterior",style:{left:-24},children:"←"}),O.jsx("div",{ref:Y,className:"keen-slider",children:$.map(L=>O.jsxs("div",{className:"keen-slider__slide flex flex-col items-center bg-white rounded shadow p-3 ",children:[O.jsx("img",{src:L.imagen,alt:L.nombre,className:"w-28 h-28 object-contain mb-2"}),O.jsx("div",{className:"font-medium text-center",children:L.nombre}),O.jsxs("div",{className:"text-red-600 font-bold text-lg",children:["S/ ",L.precio]}),O.jsx("a",{href:`/product/${L.id}`,className:"mt-2 text-blue-600 underline text-sm",children:"Ver producto"})]},L.id))}),O.jsx("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white border rounded-full shadow p-2 hover:bg-gray-100",onClick:()=>{var L;return(L=ae.current)==null?void 0:L.next()},"aria-label":"Siguiente",style:{right:-24},children:"→"})]})]})]})]}):O.jsx("div",{children:"Producto no encontrado"})},n7=()=>{const[n]=SM(),[e,t]=S.useState("Confirmando reserva...");return S.useEffect(()=>{(async()=>{const a=n.get("token");if(!a){t("Token inválido.");return}const l=Dr(ir),c=GC(ro(l,"reservas"),$C("token","==",a)),f=await U0(c);if(f.empty){t("Reserva no encontrada o ya confirmada.");return}const h=f.docs[0];await WC(go(l,"reservas",h.id),{estado:"confirmada"}),t("¡Reserva confirmada exitosamente!");try{await hv.send("service_lczuxk7","template_confirmacion",{to_email:h.data().correo,nombres:h.data().nombres,producto:h.data().producto||""},"ZfAQPHbwe6a7HzWAn")}catch{}try{await hv.send("service_lczuxk7","template_vod4zut",{to_email:"sergiollanos.sl@gmail.com",nombres:h.data().nombres,apellidos:h.data().apellidos,correo_cliente:h.data().correo,producto:h.data().producto||""},"ZfAQPHbwe6a7HzWAn")}catch{}})()},[n]),O.jsx("div",{className:"p-8 text-center",children:e})},r7=new t4,i7=()=>O.jsx(r4,{client:r7,children:O.jsx(DP,{children:O.jsx(DM,{children:O.jsxs(tj,{children:[O.jsx(ww,{}),O.jsx(ww,{}),O.jsx(bM,{children:O.jsx(nj,{children:O.jsxs(Y4,{children:[O.jsx(Xi,{path:"/",element:O.jsx(mj,{})}),O.jsx(Xi,{path:"/products",element:O.jsx(pj,{})}),O.jsx(Xi,{path:"/cart",element:O.jsx(gj,{})}),O.jsx(Xi,{path:"/admin",element:O.jsx(Dj,{})}),O.jsx(Xi,{path:"/product/:id",element:O.jsx(t7,{})}),O.jsx(Xi,{path:"/admin-login",element:O.jsx(Oj,{})}),O.jsx(Xi,{path:"*",element:O.jsx(yj,{})}),O.jsx(Xi,{path:"/confirmar-reserva",element:O.jsx(n7,{})})]})})})]})})})});XI.createRoot(document.getElementById("root")).render(O.jsx(i7,{}));
